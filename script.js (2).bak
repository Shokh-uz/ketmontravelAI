
// Header scroll effect
(function () {
    const mainHeader = document.querySelector('.main-header');
    if (mainHeader) {
        let lastScroll = 0;
        window.addEventListener('scroll', function () {
            const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
            if (currentScroll > 50) {
                mainHeader.classList.add('scrolled');
            } else {
                mainHeader.classList.remove('scrolled');
            }
            lastScroll = currentScroll;
        });
    }
})();

// Initialize theme immediately to prevent flash
(function () {
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
})();

// Custom smooth scroll function for sections - responsive and smooth
function smoothScrollTo(element, offset = 0, duration = 600) {
    if (!element) return;

    // Stop any ongoing wheel scrolling animation
    if (window.smoothScrollAnimation) {
        cancelAnimationFrame(window.smoothScrollAnimation);
        window.smoothScrollAnimation = null;
    }

    // Stop wheel scrolling if active
    if (window.wheelScrollingActive) {
        window.wheelScrollingActive = false;
        if (window.wheelScrollAnimation) {
            cancelAnimationFrame(window.wheelScrollAnimation);
            window.wheelScrollAnimation = null;
        }
    }

    const startPosition = window.pageYOffset || document.documentElement.scrollTop;
    const elementPosition = element.getBoundingClientRect().top + startPosition;
    const targetPosition = elementPosition - offset;
    const distance = targetPosition - startPosition;

    // If distance is very small, just scroll immediately
    if (Math.abs(distance) < 10) {
        window.scrollTo({ top: targetPosition, behavior: 'auto' });
        return;
    }

    let startTime = null;
    let animationFrameId = null;

    function easeInOutCubic(t) {
        return t < 0.5
            ? 4 * t * t * t
            : 1 - Math.pow(-2 * t + 2, 3) / 2;
    }

    function animation(currentTime) {
        if (startTime === null) startTime = currentTime;
        const timeElapsed = currentTime - startTime;
        const progress = Math.min(timeElapsed / duration, 1);

        const ease = easeInOutCubic(progress);
        const currentPosition = startPosition + (distance * ease);

        window.scrollTo({
            top: Math.round(currentPosition),
            behavior: 'auto'
        });

        if (progress < 1) {
            animationFrameId = requestAnimationFrame(animation);
            window.smoothScrollAnimation = animationFrameId;
        } else {
            // Ensure we end exactly at target
            window.scrollTo({ top: targetPosition, behavior: 'auto' });
            window.smoothScrollAnimation = null;
        }
    }

    animationFrameId = requestAnimationFrame(animation);
    window.smoothScrollAnimation = animationFrameId;
}

// Make function globally accessible
window.smoothScrollTo = smoothScrollTo;

// Smooth scroll for internal links and section navigation
document.addEventListener('click', function (e) {
    const target = e.target.closest('a[href^="#"]');
    if (!target) return;
    const hash = target.getAttribute('href');
    if (!hash || hash === '#') return;

    const el = document.querySelector(hash);
    if (el) {
        e.preventDefault();
        e.stopPropagation();

        // Get header height for offset (if header is fixed)
        const header = document.querySelector('.main-header');
        const headerHeight = header ? header.offsetHeight : 80;

        // Smooth scroll to section with header offset (faster, more responsive)
        smoothScrollTo(el, headerHeight, 600);
    }
});

// Smooth scrolling for the entire page
(function () {
    // Check if element is in a scrollable container
    function isInScrollableContainer(element) {
        if (!element) return false;
        let parent = element.parentElement;
        while (parent && parent !== document.body) {
            const style = window.getComputedStyle(parent);
            const overflow = style.overflow + style.overflowY + style.overflowX;
            if (overflow.includes('scroll') || overflow.includes('auto')) {
                return true;
            }
            parent = parent.parentElement;
        }
        return false;
    }

    let isScrolling = false;
    let scrollTarget = 0;
    let currentScroll = 0;
    let animationFrame = null;

    // Expose wheel scrolling state for section scrolling to stop it
    window.wheelScrollingActive = false;
    window.wheelScrollAnimation = null;

    function animateScroll() {
        if (!isScrolling) {
            window.wheelScrollingActive = false;
            if (animationFrame) {
                cancelAnimationFrame(animationFrame);
                animationFrame = null;
                window.wheelScrollAnimation = null;
            }
            return;
        }

        window.wheelScrollingActive = true;

        const diff = scrollTarget - currentScroll;

        if (Math.abs(diff) < 0.5) {
            window.scrollTo({ top: scrollTarget, behavior: 'auto' });
            currentScroll = scrollTarget;
            isScrolling = false;
            window.wheelScrollingActive = false;
            if (animationFrame) {
                cancelAnimationFrame(animationFrame);
                animationFrame = null;
                window.wheelScrollAnimation = null;
            }
            return;
        }

        // Smooth interpolation - using exponential easing for natural feel
        const speed = 0.12; // Lower = slower, smoother (0.08-0.15 range works well)
        const step = diff * speed;
        currentScroll += step;

        // Use scrollTo with smooth behavior for better browser optimization
        window.scrollTo({
            top: Math.round(currentScroll),
            behavior: 'auto'
        });

        animationFrame = requestAnimationFrame(animateScroll);
        window.wheelScrollAnimation = animationFrame;
    }

    // Handle mouse wheel scrolling
    let wheelTimeout = null;
    let accumulatedDelta = 0;

    document.addEventListener('wheel', function (e) {
        // Skip if in scrollable container
        if (isInScrollableContainer(e.target)) {
            return;
        }

        // Skip horizontal scrolling
        if (Math.abs(e.deltaX) > Math.abs(e.deltaY)) {
            return;
        }

        // Skip if scrolling inside input/textarea
        if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.isContentEditable) {
            return;
        }

        e.preventDefault();
        e.stopPropagation();

        const now = Date.now();
        const delta = e.deltaY;

        // Accumulate small scrolls for smoother experience
        accumulatedDelta += delta;

        // Update scroll target
        scrollTarget += delta * 0.6; // Reduce scroll distance
        scrollTarget = Math.max(0, Math.min(scrollTarget,
            document.documentElement.scrollHeight - window.innerHeight));

        // Start animation if not already running
        if (!isScrolling) {
            currentScroll = window.pageYOffset || document.documentElement.scrollTop;
            isScrolling = true;
            animateScroll();
        }

        // Reset accumulated delta after a pause
        clearTimeout(wheelTimeout);
        wheelTimeout = setTimeout(function () {
            accumulatedDelta = 0;
            // Keep scrolling for a bit after wheel stops for smooth deceleration
            setTimeout(function () {
                if (isScrolling) {
                    isScrolling = false;
                }
            }, 100);
        }, 150);

    }, { passive: false, capture: true });

    // Sync with manual scrolling (scrollbar, keyboard)
    let syncTimeout = null;
    let lastScrollPos = window.pageYOffset || document.documentElement.scrollTop;

    window.addEventListener('scroll', function () {
        const currentPos = window.pageYOffset || document.documentElement.scrollTop;

        // If scroll happened without our animation, sync
        if (!isScrolling && Math.abs(currentPos - lastScrollPos) > 1) {
            clearTimeout(syncTimeout);
            syncTimeout = setTimeout(function () {
                currentScroll = currentPos;
                scrollTarget = currentPos;
            }, 50);
        }

        lastScrollPos = currentPos;
    }, { passive: true });
})();

// Hide/show top bar on scroll for mobile devices
(function () {
    let lastScrollTop = 0;
    let ticking = false;
    const topBar = document.querySelector('.top-bar');

    if (!topBar) return;

    // Only apply on mobile devices
    function isMobile() {
        return window.innerWidth <= 768;
    }

    function handleScroll() {
        if (!isMobile()) {
            topBar.classList.remove('hidden');
            return;
        }

        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

        // Show top bar when at the top of the page
        if (scrollTop <= 10) {
            topBar.classList.remove('hidden');
            lastScrollTop = scrollTop;
            ticking = false;
            return;
        }

        // Hide top bar when scrolling down, show when scrolling up
        if (scrollTop > lastScrollTop && scrollTop > 100) {
            // Scrolling down
            topBar.classList.add('hidden');
        } else {
            // Scrolling up
            topBar.classList.remove('hidden');
        }

        lastScrollTop = scrollTop;
        ticking = false;
    }

    window.addEventListener('scroll', function () {
        if (!ticking) {
            window.requestAnimationFrame(handleScroll);
            ticking = true;
        }
    }, { passive: true });

    // Show top bar on window resize if switching from desktop to mobile
    window.addEventListener('resize', function () {
        if (!isMobile()) {
            topBar.classList.remove('hidden');
        }
    });
})();

// Theme Toggle Functionality
(function () {
    // Get theme from localStorage or default to light
    function getTheme() {
        return localStorage.getItem('theme') || 'light';
    }

    // Set theme
    function setTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        updateThemeIcons(theme);
    }

    // Update theme toggle button icons
    function updateThemeIcons(theme) {
        const toggleTopBar = document.getElementById('topBarThemeToggle');
        if (toggleTopBar) {
            const thumb = toggleTopBar.querySelector('.theme-toggle-thumb');
            if (thumb) {
                // Sun icon for light mode, moon icon for dark mode
                if (theme === 'light') {
                    thumb.innerHTML = `
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    `;
                } else {
                    thumb.innerHTML = `
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fbbf24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#fbbf24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                    `;
                }
            }
        }
    }

    // Toggle theme
    function toggleTheme() {
        const currentTheme = getTheme();
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        setTheme(newTheme);
    }

    // Initialize theme on page load
    document.addEventListener('DOMContentLoaded', function () {
        const savedTheme = getTheme();
        setTheme(savedTheme);

        // Add event listeners to toggle buttons (top bar only)
        const toggleTopBar = document.getElementById('topBarThemeToggle');

        if (toggleTopBar) {
            toggleTopBar.addEventListener('click', toggleTheme);
        }
    });
})();


// Language switcher (minimal demo)
(function () {
    var i18n = {
        uz: {
            phone: "+998 93 301 52 18",
            email: "info@ketmon.uz",
            nav_home: "Bosh sahifa",
            nav_destinations: "Yo'nalishlar",
            nav_services: "Xizmatlar",
            nav_about: "Biz haqimizda",
            nav_contact: "Aloqa",
            nav_book: "Bron qilish",
            nav_login: "Kirish",
            nav_register: "Ro'yxatdan o'tish",
            login_email_label: "Email",
            login_email_placeholder: "you@example.com",
            login_password_label: "Parol",
            login_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_switch: "Ro'yxatdan o'tish",
            register_role_label: "Ro'l tanlang",
            register_customer_tab: "Mijoz",
            register_agency_tab: "Agentlik",
            register_name_label: "Ism",
            register_name_placeholder: "Ismingiz",
            register_email_label: "Email",
            register_email_placeholder: "you@example.com",
            register_password_label: "Parol",
            register_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_agency_name_label: "Agentlik nomi",
            register_agency_name_placeholder: "Agentlik nomi",
            register_license_label: "Litsenziya raqami",
            register_license_placeholder: "ABC-123456",
            register_agency_email_label: "Agentlik Email",
            register_agency_email_placeholder: "agency@example.com",
            register_agency_phone_label: "Telefon",
            register_agency_phone_placeholder: "+998 xx xxx xx xx",
            register_agency_password_label: "Parol",
            register_agency_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_submit: "Yaratish",
            hero_title: "Dunyo Bo'ylab Unutilmas Sayohatlar",
            hero_subtitle: "Hayotingizning eng yaxshi tajribasini biz bilan kashf eting",
            hero_btn1: "Yo'nalishlarni Ko'rish",
            hero_btn2: "Maslahat Olish",
            tour_consult_btn: "Maslahat olish",
            search_destination: "Yo'nalish",
            search_destination_placeholder: "Qayerga bormoqchisiz?",
            search_date: "Sana",
            search_duration: "Davomiyligi",
            duration_3: "3 kun",
            duration_7: "7 kun",
            duration_14: "14 kun",
            duration_custom: "Boshqa",
            search_agency: "Agentlik",
            agency_select_all: "Barcha agentliklar",
            agency_section_title: "Hamkor Agentliklar",
            agency_section_subtitle: "Eng ishonchli sayohat hamkorlarini tanlang",
            agency_filter_all: "Barcha hamkorlar",
            agency_filter_local: "O'zbek sayyohlari uchun",
            agency_filter_global: "Xorijiy sayyohlar uchun",
            agency_badge_verified: "Tasdiqlangan",
            agency_view_tours: "Agentlik turlarini ko'rish",
            license_title: "Sayohat Agentligi Litsenziyasi",
            license_verified: "Tasdiqlangan sayohat agentligi",
            license_number: "Litsenziya raqami:",
            license_issued: "Berilgan sana:",
            license_expires: "Amal qilish muddati:",
            license_authority: "Bergan organ:",
            license_status: "Holati:",
            license_active: "Faol",
            license_note: "Ushbu litsenziya O'zbekiston Respublikasi Turizm va madaniy meros vazirligi tomonidan berilgan va tasdiqlangan. Agentlik barcha qonuniy talablarga javob beradi.",
            agency_atlas_name: "Atlas Travel",
            agency_atlas_desc: "Markaziy Osiyodan dunyoning 40+ manziliga premium paketlar va VIP xizmatlar.",
            agency_samarqand_name: "Samarqand Tours",
            agency_samarqand_desc: "Madaniy sayohatlar, tarixiy gidlar va mahalliy tajribalar bo'yicha mutaxassis.",
            agency_nomad_name: "Nomad Explorer",
            agency_nomad_desc: "Aktiv sayohatlar, tog' yurishlari va ekologik turizm bo'yicha mutaxassis.",
            agency_silk_name: "Silk Road Elite",
            agency_silk_desc: "Luks mehmonxonalar, TNPL rejalar va shaxsiy gidlar bilan premium xizmat.",
            agency_clubtravel_name: "ClubTravel UZ",
            agency_clubtravel_desc: "Oila va guruhlar uchun hamyonbop paketlar, Toshkentdan charter reyslar.",
            agency_azialux_name: "AziaLux Travel",
            agency_azialux_desc: "Osiyo va Yevropadagi eksklyuziv gastro-turlar, premium servis va gidlar.",
            agency_globalvoyage_name: "Global Voyage Hub",
            agency_globalvoyage_desc: "Xalqaro konferensiya va MICE turlar, 24/7 qo'llab-quvvatlash va viza xizmati.",
            about_title: "KETMON haqida",
            about_subtitle: "Markaziy Osiyoning eng ishonchli sayohat marketpleysida agentliklar va sayohatchilar birlashadi.",
            about_story_title: "Missiyamiz",
            about_story_body1: "Ketmon qadriyatlaridan ilhomlanib, biz doimo mehnatsevarlik va taraqqiyot ramzini xizmatlarimiz markaziga qo'yamiz.",
            about_story_body2: "Platformamizda tasdiqlangan agentliklar, shaffof narxlar va TNPL imkoniyatlari yordamida sayohatchilar vaqtini va byudjetini tejashadi.",
            about_bullet_network: "Hamkorlarimiz real vaqt rejimida paketlarni yangilaydi va video-reels orqali yo'nalishlarni jonlantiradi.",
            about_bullet_support: "24/7 yordam, integratsiyalangan chat va Telegram bildirishnomalari bilan agentliklar mijozlar bilan tezkor aloqa qiladi.",
            about_bullet_ai: "AI tavsiyalari shaxsiylashgan marshrutlarni taklif etib, sayohatchilarga tez qaror qabul qilishga yordam beradi.",
            about_stat_partners_value: "120+",
            about_stat_partners_label: "hamkor agentliklar",
            about_stat_tours_value: "650+",
            about_stat_tours_label: "faol tur paketlar",
            about_stat_travelers_value: "45k+",
            about_stat_travelers_label: "mamnun sayohatchilar",
            about_stat_languages_value: "3",
            about_stat_languages_label: "tilda qo'llab-quvvatlash",
            contact_title: "Aloqada bo'laylik",
            contact_subtitle: "Savol va takliflaringizni qoldiring â€” jamoamiz 24/7 yordam beradi.",
            contact_info_title: "Nega KETMON?",
            contact_info_body: "Ketmon orqali siz tasdiqlangan agentliklar bilan ishlaysiz, narxlarni solishtirasiz va TNPL orqali to'lovlarni bo'lib-bo'lib amalga oshirasiz. Mijozlar va agentliklar uchun yagona panel barcha jarayonlarni bir joyga jamlaydi.",
            contact_phone_label: "Telefon",
            contact_phone_value: "+998 90 765 43 21",
            contact_email_label: "Email",
            contact_email_value: "support@ketmon.uz",
            contact_address_label: "Manzil",
            contact_address_value: "Toshkent, Navoiy ko'chasi 12, KETMON HUB",
            contact_form_name_label: "Ism",
            contact_form_name_placeholder: "Ismingiz",
            contact_form_email_label: "Email",
            contact_form_email_placeholder: "you@example.com",
            contact_form_message_label: "Xabar",
            contact_form_message_placeholder: "Savolingizni yozing...",
            contact_submit_btn: "Yuborish",
            contact_status_placeholder: "Yuborilgan xabarlarimizga odatda 30 daqiqada javob beramiz.",
            contact_success_message: "Xabaringiz qabul qilindi! Tez orada siz bilan bog'lanamiz.",
            contact_error_message: "Iltimos, barcha maydonlarni to'liq kiriting.",
            calc_title: "Narx, baho, so'm",
            calc_clear: "Tozalash",
            calc_from: "dan",
            calc_before: "oldin",
            search_guests: "Odamlar soni",
            search_btn: "Qidirish",
            late_escape_title: "Yaxshi vaqt o'tkazish, uzoq emas",
            late_escape_subtitle: "Yozning oxirgi kunlarini kamida 15% chegirma bilan foydalaning",
            late_escape_btn: "Topish",
            trending_title: "Trend yo'nalishlar",
            trending_subtitle: "O'zbekiston sayohatchilari uchun eng mashhur tanlovlar",
            explore_uz_title: "O'zbekistanni kashf eting",
            explore_uz_subtitle: "Bu mashhur yo'nalishlar ko'p narsa taklif qiladi",
            explore_properties: "ob'ektlar",
            property_type_title: "Ob'ekt turi bo'yicha qidiruv",
            property_hotels: "Mehmonxonalar",
            property_apartments: "Kvartiralar",
            property_resorts: "Kurortlar",
            property_villas: "Villalar",
            trip_planner_title: "Tez va oson sayohat rejalashtiruvchi",
            trip_planner_subtitle: "Mavzuni tanlang va O'zbekistondagi eng yaxshi yo'nalishlarni kashf eting",
            trip_festivals: "Festivallar",
            trip_shopping: "Sotib olish va hunarmandchilik",
            trip_gastronomic: "Gastronomik sayohatlar",
            trip_cultural: "Madaniy tadqiqot",
            trip_architecture: "Arxitektura turlari",
            trip_historical: "Tarixiy joylar",
            weekend_deals_title: "Dam olish kunlari uchun takliflar",
            weekend_deals_subtitle: "14-16 noyabr kunlari uchun yashash joylarida tejang",
            dest_tashkent: "Toshkent",
            dest_samarkand: "Samarqand",
            dest_istanbul: "Istanbul",
            dest_bukhara: "Buxoro",
            dest_dubai: "Dubai",
            dest_khiva: "Xiva",
            dest_chimgan: "Chimgan",
            dest_fergana: "Farg'ona",
            dest_kokand: "Qo'qon",
            explore_tashkent_props: "1,409 ob'ektlar",
            explore_samarkand_props: "914 ob'ektlar",
            explore_bukhara_props: "587 ob'ektlar",
            explore_khiva_props: "163 ob'ektlar",
            explore_chimgan_props: "20 ob'ektlar",
            explore_fergana_props: "46 ob'ektlar",
            trip_tashkent_distance: "7 km uzoqlikda",
            trip_kokand_distance: "165 km uzoqlikda",
            trip_fergana_distance: "237 km uzoqlikda",
            trip_samarkand_distance: "262 km uzoqlikda",
            trip_bukhara_distance: "438 km uzoqlikda",
            trip_khiva_distance: "739 km uzoqlikda",
            deal_premium_hotel: "Premium mehmonxona",
            deal_luxury_apartment: "Luks kvartira",
            deal_resort_stay: "Kurort mehmonxonasi",
            deal_villa_retreat: "Villa dam olish maskani",
            deal_price_89: "$89/kecha",
            deal_price_75: "$75/kecha",
            deal_price_120: "$120/kecha",
            deal_price_150: "$150/kecha",
            destinations_title: "Mashhur Yo'nalishlar",
            destinations_subtitle: "Eng yaxshi takliflarimiz",
            badge_popular: "Mashhur",
            badge_sale: "Chegirma",
            badge_new: "Yangi",
            btn_details: "Batafsil",
            price_per_person: "kishi uchun",
            dest1_name: "Dubay, BAA",
            dest1_desc: "Zamonaviy arxitektura va qadimiy an'analarning ajoyib uyg'unligi",
            dest2_name: "Parij, Fransiya",
            dest2_desc: "Sevgi va romantika poytaxti, go'zal arxitektura",
            dest3_name: "Istanbul, Turkiya",
            dest3_desc: "Sharq va G'arb madaniyatining ajoyib qo'shilishi",
            dest4_name: "Shveysariya",
            dest4_desc: "Alp tog'lari va kristal toza ko'llar",
            dest5_name: "Tokio, Yaponiya",
            dest5_desc: "Texnologiya va an'analarning noyob uyg'unligi",
            dest6_name: "Rim, Italiya",
            dest6_desc: "Qadimiy tarix va ajoyib arxitektura",
            dest7_name: "Bangkok Gourmet, Tailand",
            dest7_desc: "Gastro sayohatlar, Michelin restoranlari va shaxsiy gidlar.",
            dest8_name: "London Summit, Buyuk Britaniya",
            dest8_desc: "Biznes konferensiya paketi, premium mehmonxona va transferlar.",
            dest9_name: "Boku Weekend, Ozarbayjon",
            dest9_desc: "Toshkentdan to'g'ridan-to'g'ri reys, 4* mehmonxona va shahar sayohati.",
            services_title: "Bizning Xizmatlarimiz",
            services_subtitle: "Nega bizni tanlash kerak? Biz sizga eng yaxshi narxlar, professional xizmat va 24/7 qo'llab-quvvatlashni ta'minlaymiz",
            service1_title: "Aviachiptalar",
            service1_desc: "Eng arzon narxlarda aviachiptalar bron qilish xizmati",
            service2_title: "Mehmonxonalar",
            service2_desc: "Dunyoning istalgan joyida qulay mehmonxonalar",
            service3_title: "Ekskursiyalar",
            service3_desc: "Professional gidlar bilan qiziqarli sayohatlar",
            service4_title: "Viza Xizmati",
            service4_desc: "Viza olish",
            service_why: "Nega biz?",
            service1_advantage_text: "Real vaqtda narxlar, 500+ aviakompaniya, tezkor bron qilish",
            service2_advantage_text: "50,000+ mehmonxona, eng yaxshi narxlar, bepul bekor qilish",
            service3_advantage_text: "Mahalliy gidlar, shaxsiylashtirilgan marshrutlar, 24/7 qo'llab-quvvatlash",
            service4_advantage_text: "Tezkor viza olish, professional yordam, yuqori muvaffaqiyat darajasi",

            // Smart Calculator & Tours
            calc_title_main: "Smart Kalkulyator",
            calc_city_default: "Shahar tanlang",
            calc_group_popular: "Mashhur",
            calc_group_all: "Barchasi (A-Z)",
            calc_recommend_btn: "Tavsiyalarni ko'rsatish",
            calc_no_results: "Ushbu narxda ({budget} so'm) turlar topilmadi. Iltimos, byudjetni oshiring.",
            calc_days: "Kun",
            calc_book_btn: "Bron qilish",

            // Titles
            tour_istanbul_classic_title: "Istanbul Klassik",
            tour_istanbul_premium_title: "Istanbul Premium",
            tour_dubai_trip_title: "Dubay Sayyohati",
            tour_dubai_luxe_title: "Dubay Luks",
            tour_sharm_relax_title: "Sharm Relax",
            tour_paris_romantic_title: "Parij Romantikasi",
            tour_london_tour_title: "London Ekskursiyasi",
            tour_tashkent_city_title: "Toshkent Bo'ylab",
            tour_baku_wind_title: "Boku Shamoli",
            tour_antalya_beach_title: "Antalya Plyajlari",
            tour_tokyo_future_title: "Tokio Kelajagi",
            tour_seoul_culture_title: "Seul Madaniyati",
            tour_kl_tropics_title: "Malayziya Tropiklari",

            // Notes
            tour_note_cheapest: "Eng arzon variant",
            tour_note_comfort: "Qulaylikni sevuvchilar uchun",
            tour_note_fast: "Tezkor sayohat",
            tour_note_unforgettable: "Unutilmas taassurotlar",
            tour_note_ideal: "Dam olish uchun ideal",
            tour_note_couples: "Juftliklar uchun",
            tour_note_history: "Tarix ixlosmandlari uchun",
            tour_note_guests: "Poytaxt mehmonlari uchun",
            tour_note_budget: "Hamyonbop sayohat",
            tour_note_summer: "Yozgi ta'til uchun",
            tour_note_tech: "Texnologiya va madaniyat",
            tour_note_kpop: "K-Pop va tarix",
            tour_note_nature: "Tabiat va shahar",

            // Includes
            inc_hotel_bf_trans: "Mehmonxona, Nonushta, Transfer",
            inc_5star_all_guide: "5* Mehmonxona, Barcha ovqatlar, Gid",
            inc_hotel_visa_trans: "Mehmonxona, Viza, Transfer",
            inc_burj_safari_5star: "Burj Khalifa, Safari, 5* Hotel",
            inc_all_sea: "All Inclusive, Dengiz bo'yi",
            inc_hotel_trans_eiffel: "Mehmonxona, Transfer, Eiffel",
            inc_hotel_guide_museum: "Mehmonxona, Gid, Muzeylar",
            inc_hotel_guide_meal: "Mehmonxona, Gid, Ovqatlanish",
            inc_hotel_trans_oldcity: "Mehmonxona, Transfer, Eski shahar",
            inc_all_avia: "All Inclusive, Avia",
            inc_hotel_metro_guide: "Mehmonxona, Metro kartasi, Gid",
            inc_hotel_palace_trans: "Mehmonxona, Saroylar, Transfer",
            inc_hotel_trans_excur: "Mehmonxona, Transfer, Ekskursiya",

            // Payment Modal
            pay_modal_title: "To'lov",
            pay_tour_info: "Sayohat ma'lumotlari",
            pay_payment_details: "To'lov ma'lumotlari",
            pay_method_label: "To'lov usuli",
            pay_method_full: "To'liq to'lash",
            pay_method_full_desc: "To'liq summani bir vaqtda to'lash",
            pay_method_part: "Bo'lib to'lash",
            pay_method_part_desc: "TNPL - qismlarga bo'lib to'lash",
            pay_label_name: "To'liq ism",
            pay_ph_name: "Ism Familiya",
            pay_label_email: "Email",
            pay_label_phone: "Telefon raqami",
            pay_label_card: "Karta raqami",
            pay_label_expiry: "Muddati (MM/YY)",
            pay_label_cvv: "CVV",
            pay_label_address: "Manzil",
            pay_ph_address: "To'liq manzil",
            pay_terms_pre: "Men ",
            pay_terms_link: "shartlar va qoidalar",
            pay_terms_post: " bilan tanishdim va roziman",
            pay_btn_submit: "To'lovni amalga oshirish",
            pay_btn_cancel: "Bekor qilish",

            // Hero Search
            hero_city_placeholder: "Qayerga boramiz?",
            hero_date_placeholder: "Qachon?",
            hero_guests_1: "1 passajir, Ekonom",
            hero_group_popular: "Mashhur",
            hero_group_all: "Barchasi (A-Z)"
        },
        ru: {
            phone: "+998 93 301 52 18",
            email: "info@ketmon.uz",
            nav_home: "Ð“Ð»Ð°Ð²Ð½Ð°Ñ",
            nav_destinations: "ÐÐ°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ",
            nav_services: "Ð£ÑÐ»ÑƒÐ³Ð¸",
            nav_about: "Ðž Ð½Ð°Ñ",
            nav_contact: "ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹",
            nav_book: "Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ",
            nav_login: "Ð’Ð¾Ð¹Ñ‚Ð¸",
            nav_register: "Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ",
            login_email_label: "Email",
            login_email_placeholder: "you@example.com",
            login_password_label: "ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",
            login_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_switch: "Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ",
            register_role_label: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ€Ð¾Ð»ÑŒ",
            register_customer_tab: "ÐšÐ»Ð¸ÐµÐ½Ñ‚",
            register_agency_tab: "ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾",
            register_name_label: "Ð˜Ð¼Ñ",
            register_name_placeholder: "Ð’Ð°ÑˆÐµ Ð¸Ð¼Ñ",
            register_email_label: "Email",
            register_email_placeholder: "you@example.com",
            register_password_label: "ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",
            register_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_agency_name_label: "ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            register_agency_name_placeholder: "ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            register_license_label: "ÐÐ¾Ð¼ÐµÑ€ Ð»Ð¸Ñ†ÐµÐ½Ð·Ð¸Ð¸",
            register_license_placeholder: "ABC-123456",
            register_agency_email_label: "Email Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            register_agency_email_placeholder: "agency@example.com",
            register_agency_phone_label: "Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½",
            register_agency_phone_placeholder: "+998 xx xxx xx xx",
            register_agency_password_label: "ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",
            register_agency_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_submit: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ",
            hero_title: "ÐÐµÐ·Ð°Ð±Ñ‹Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ Ð¿Ð¾ Ð²ÑÐµÐ¼Ñƒ Ð¼Ð¸Ñ€Ñƒ",
            hero_subtitle: "ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð»ÑƒÑ‡ÑˆÐ¸Ðµ Ð²Ð¿ÐµÑ‡Ð°Ñ‚Ð»ÐµÐ½Ð¸Ñ Ð²Ð¼ÐµÑÑ‚Ðµ Ñ Ð½Ð°Ð¼Ð¸",
            hero_btn1: "Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ",
            hero_btn2: "ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ð¸ÑŽ",
            tour_consult_btn: "ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ð¸ÑŽ",
            search_destination: "ÐÐ°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ",
            search_destination_placeholder: "ÐšÑƒÐ´Ð° Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¿Ð¾ÐµÑ…Ð°Ñ‚ÑŒ?",
            search_date: "Ð”Ð°Ñ‚Ð°",
            search_duration: "ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ",
            duration_3: "3 Ð´Ð½Ñ",
            duration_7: "7 Ð´Ð½ÐµÐ¹",
            duration_14: "14 Ð´Ð½ÐµÐ¹",
            duration_custom: "Ð”Ñ€ÑƒÐ³Ð¾Ðµ",
            search_agency: "ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾",
            agency_select_all: "Ð’ÑÐµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            agency_section_title: "ÐŸÐ°Ñ€Ñ‚Ð½ÐµÑ€ÑÐºÐ¸Ðµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            agency_section_subtitle: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾Ð³Ð¾ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ð° Ð´Ð»Ñ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ",
            agency_filter_all: "Ð’ÑÐµ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ñ‹",
            agency_filter_local: "Ð”Ð»Ñ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¸ÐºÐ¾Ð² Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½Ð°",
            agency_filter_global: "Ð”Ð»Ñ Ð¸Ð½Ð¾ÑÑ‚Ñ€Ð°Ð½Ð½Ñ‹Ñ… Ð³Ð¾ÑÑ‚ÐµÐ¹",
            agency_badge_verified: "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾",
            agency_view_tours: "ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ñ‚ÑƒÑ€Ñ‹ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            license_title: "Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ Ñ‚ÑƒÑ€Ð¸ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            license_verified: "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð½Ð¾Ðµ Ñ‚ÑƒÑ€Ð¸ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾",
            license_number: "ÐÐ¾Ð¼ÐµÑ€ Ð»Ð¸Ñ†ÐµÐ½Ð·Ð¸Ð¸:",
            license_issued: "Ð”Ð°Ñ‚Ð° Ð²Ñ‹Ð´Ð°Ñ‡Ð¸:",
            license_expires: "Ð¡Ñ€Ð¾Ðº Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ:",
            license_authority: "Ð’Ñ‹Ð´Ð°Ð²ÑˆÐ¸Ð¹ Ð¾Ñ€Ð³Ð°Ð½:",
            license_status: "Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:",
            license_active: "ÐÐºÑ‚Ð¸Ð²Ð½Ð°",
            license_note: "Ð­Ñ‚Ð° Ð»Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ Ð²Ñ‹Ð´Ð°Ð½Ð° Ð¸ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð° ÐœÐ¸Ð½Ð¸ÑÑ‚ÐµÑ€ÑÑ‚Ð²Ð¾Ð¼ Ñ‚ÑƒÑ€Ð¸Ð·Ð¼Ð° Ð¸ ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð½Ð¾Ð³Ð¾ Ð½Ð°ÑÐ»ÐµÐ´Ð¸Ñ Ð ÐµÑÐ¿ÑƒÐ±Ð»Ð¸ÐºÐ¸ Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½. ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð²ÑÐµÐ¼ Ð¿Ñ€Ð°Ð²Ð¾Ð²Ñ‹Ð¼ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼.",
            agency_atlas_name: "Atlas Travel",
            agency_atlas_desc: "ÐŸÑ€ÐµÐ¼Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ð¸ VIP-ÑÐµÑ€Ð²Ð¸Ñ Ð² 40+ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÑÑ… Ð¿Ð¾ Ð²ÑÐµÐ¼Ñƒ Ð¼Ð¸Ñ€Ñƒ.",
            agency_samarqand_name: "Samarqand Tours",
            agency_samarqand_desc: "Ð­ÐºÑÐ¿ÐµÑ€Ñ‚Ñ‹ Ð¿Ð¾ ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð½Ñ‹Ð¼ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸ÑÐ¼, Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼ Ð³Ð¸Ð´Ð°Ð¼ Ð¸ Ð¼ÐµÑÑ‚Ð½Ð¾Ð¼Ñƒ Ð¾Ð¿Ñ‹Ñ‚Ñƒ.",
            agency_nomad_name: "Nomad Explorer",
            agency_nomad_desc: "ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ñ‚ÑƒÑ€Ñ‹, Ñ‚Ñ€ÐµÐºÐºÐ¸Ð½Ð³ Ð¸ ÑÐºÐ¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‚ÑƒÑ€Ð¸Ð·Ð¼.",
            agency_silk_name: "Silk Road Elite",
            agency_silk_desc: "Ð›Ð°ÐºÑˆÐµÑ€Ð¸-Ð¾Ñ‚ÐµÐ»Ð¸, TNPL Ð¿Ð»Ð°Ð½Ñ‹ Ð¸ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð³Ð¸Ð´Ñ‹ Ð¿Ñ€ÐµÐ¼Ð¸ÑƒÐ¼-ÐºÐ»Ð°ÑÑÐ°.",
            agency_clubtravel_name: "ClubTravel UZ",
            agency_clubtravel_desc: "Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ð´Ð»Ñ ÑÐµÐ¼ÐµÐ¹ Ð¸ Ð³Ñ€ÑƒÐ¿Ð¿, Ñ‡Ð°Ñ€Ñ‚ÐµÑ€Ñ‹ Ð¸Ð· Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚Ð°.",
            agency_azialux_name: "AziaLux Travel",
            agency_azialux_desc: "Ð­ÐºÑÐºÐ»ÑŽÐ·Ð¸Ð²Ð½Ñ‹Ðµ Ð³Ð°ÑÑ‚Ñ€Ð¾Ñ‚ÑƒÑ€Ñ‹ Ð¿Ð¾ ÐÐ·Ð¸Ð¸ Ð¸ Ð•Ð²Ñ€Ð¾Ð¿Ðµ, Ð¿Ñ€ÐµÐ¼Ð¸ÑƒÐ¼-ÑÐµÑ€Ð²Ð¸Ñ.",
            agency_globalvoyage_name: "Global Voyage Hub",
            agency_globalvoyage_desc: "ÐœÐµÐ¶Ð´ÑƒÐ½Ð°Ñ€Ð¾Ð´Ð½Ñ‹Ðµ ÐºÐ¾Ð½Ñ„ÐµÑ€ÐµÐ½Ñ†Ð¸Ð¸ Ð¸ MICE-Ñ‚ÑƒÑ€Ñ‹, Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° 24/7 Ð¸ Ð²Ð¸Ð·Ð¾Ð²Ð°Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ.",
            about_title: "Ðž Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ðµ KETMON",
            about_subtitle: "ÐÐ°Ð´Ñ‘Ð¶Ð½Ñ‹Ð¹ Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¿Ð»ÐµÐ¹Ñ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ð¹ Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÐÐ·Ð¸Ð¸, Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÑŽÑ‰Ð¸Ð¹ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð° Ð¸ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¸ÐºÐ¾Ð².",
            about_story_title: "ÐÐ°ÑˆÐ° Ð¼Ð¸ÑÑÐ¸Ñ",
            about_story_body1: "Ð’Ð´Ð¾Ñ…Ð½Ð¾Ð²Ð»ÑÑÑÑŒ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð¼ ÐºÐµÑ‚Ð¼Ð¾Ð½Ð°, Ð¼Ñ‹ ÑÑ‚Ð°Ð²Ð¸Ð¼ Ñ‚Ñ€ÑƒÐ´Ð¾Ð»ÑŽÐ±Ð¸Ðµ Ð¸ Ñ€Ð¾ÑÑ‚ Ð² Ð¾ÑÐ½Ð¾Ð²Ñƒ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð° Ð¸ ÑÐµÑ€Ð²Ð¸ÑÐ°.",
            about_story_body2: "ÐÐ° Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ðµ ÑÐ¾Ð±Ñ€Ð°Ð½Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð½Ñ‹Ðµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°, Ð¿Ñ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ñ†ÐµÐ½Ñ‹ Ð¸ TNPL â€” Ð²ÑÑ‘, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‚ÑŒ Ð²Ñ€ÐµÐ¼Ñ Ð¸ Ð±ÑŽÐ´Ð¶ÐµÑ‚ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¸ÐºÐ¾Ð².",
            about_bullet_network: "ÐŸÐ°Ñ€Ñ‚Ð½Ñ‘Ñ€Ñ‹ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑŽÑ‚ Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¸ Ñ€Ð°ÑÑÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ Ð¾ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÑÑ… Ñ‡ÐµÑ€ÐµÐ· Ð²Ð¸Ð´ÐµÐ¾ Ð¸ ÑÑ‚Ð¾Ñ€Ð¸Ñ.",
            about_bullet_support: "ÐšÑ€ÑƒÐ³Ð»Ð¾ÑÑƒÑ‚Ð¾Ñ‡Ð½Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°, Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ð¹ Ñ‡Ð°Ñ‚ Ð¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð² Telegram Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÑŽÑ‚ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°Ð¼ Ð¾ÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° ÑÐ²ÑÐ·Ð¸ Ñ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°Ð¼Ð¸.",
            about_bullet_ai: "AI-Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÑŽÑ‚ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ Ð¸ ÑƒÑÐºÐ¾Ñ€ÑÑŽÑ‚ Ð²Ñ‹Ð±Ð¾Ñ€ Ñ‚ÑƒÑ€Ð°.",
            about_stat_partners_value: "120+",
            about_stat_partners_label: "Ð¿Ð°Ñ€Ñ‚Ð½Ñ‘Ñ€ÑÐºÐ¸Ñ… Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²",
            about_stat_tours_value: "650+",
            about_stat_tours_label: "Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… Ñ‚ÑƒÑ€Ð¿Ð°ÐºÐµÑ‚Ð¾Ð²",
            about_stat_travelers_value: "45k+",
            about_stat_travelers_label: "Ð´Ð¾Ð²Ð¾Ð»ÑŒÐ½Ñ‹Ñ… Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¸ÐºÐ¾Ð²",
            about_stat_languages_value: "3",
            about_stat_languages_label: "ÑÐ·Ñ‹ÐºÐ¾Ð² Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸",
            contact_title: "Ð¡Ð²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð½Ð°Ð¼Ð¸",
            contact_subtitle: "ÐžÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð¸Ð»Ð¸ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ â€” Ð¼Ñ‹ Ð½Ð° ÑÐ²ÑÐ·Ð¸ 24/7.",
            contact_info_title: "ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ KETMON?",
            contact_info_body: "Ð¡ KETMON Ð²Ñ‹ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ñ‡Ð°ÐµÑ‚Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°Ð¼Ð¸, ÑÑ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÑ‚Ðµ Ñ†ÐµÐ½Ñ‹ Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚Ðµ TNPL Ð´Ð»Ñ Ñ€Ð°ÑÑÑ€Ð¾Ñ‡ÐºÐ¸. Ð•Ð´Ð¸Ð½Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð¾Ñ‰Ð°ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ð¸ Ð´Ð»Ñ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð², Ð¸ Ð´Ð»Ñ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð².",
            contact_phone_label: "Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½",
            contact_phone_value: "+998 90 765 43 21",
            contact_email_label: "Email",
            contact_email_value: "support@ketmon.uz",
            contact_address_label: "ÐÐ´Ñ€ÐµÑ",
            contact_address_value: "Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚, ÑƒÐ». ÐÐ°Ð²Ð¾Ð¸ 12, KETMON HUB",
            contact_form_name_label: "Ð˜Ð¼Ñ",
            contact_form_name_placeholder: "Ð’Ð°ÑˆÐµ Ð¸Ð¼Ñ",
            contact_form_email_label: "Email",
            contact_form_email_placeholder: "you@example.com",
            contact_form_message_label: "Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",
            contact_form_message_placeholder: "ÐžÐ¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð·Ð°Ð¿Ñ€Ð¾Ñ...",
            contact_submit_btn: "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ",
            contact_status_placeholder: "ÐžÐ±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÐ¼ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ 30 Ð¼Ð¸Ð½ÑƒÑ‚.",
            contact_success_message: "Ð’Ð°ÑˆÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸Ð½ÑÑ‚Ð¾! ÐœÑ‹ ÑÐ²ÑÐ¶ÐµÐ¼ÑÑ Ñ Ð²Ð°Ð¼Ð¸ Ð² Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ.",
            contact_error_message: "Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²ÑÐµ Ð¿Ð¾Ð»Ñ Ñ„Ð¾Ñ€Ð¼Ñ‹.",
            calc_title: "Ð¦ÐµÐ½Ð°, Ð¾Ñ†ÐµÐ½ÐºÐ°, ÑÑƒÐ¼",
            calc_clear: "ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ",
            calc_from: "Ð¾Ñ‚",
            calc_before: "Ð´Ð¾",
            search_guests: "ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð»ÑŽÐ´ÐµÐ¹",
            search_btn: "Ð˜ÑÐºÐ°Ñ‚ÑŒ",
            late_escape_title: "Ð¥Ð¾Ñ€Ð¾ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ, Ð° Ð½Ðµ Ð´Ð¾Ð»Ð³Ð¾Ðµ",
            late_escape_subtitle: "Ð’Ñ‹Ð¶Ð¼Ð¸Ñ‚Ðµ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¸Ð· Ð»ÐµÑ‚Ð° ÑÐ¾ ÑÐºÐ¸Ð´ÐºÐ¾Ð¹ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ 15%",
            late_escape_btn: "ÐÐ°Ð¹Ñ‚Ð¸",
            trending_title: "ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ",
            trending_subtitle: "Ð¡Ð°Ð¼Ñ‹Ðµ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð²Ñ‹Ð±Ð¾Ñ€Ñ‹ Ð´Ð»Ñ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¸ÐºÐ¾Ð² Ð¸Ð· Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½Ð°",
            explore_uz_title: "Ð˜ÑÑÐ»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½",
            explore_uz_subtitle: "Ð­Ñ‚Ð¸ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÑŽÑ‚ Ð¼Ð½Ð¾Ð³Ð¾Ðµ",
            explore_properties: "Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            property_type_title: "ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ñ‚Ð¸Ð¿Ñƒ Ð½ÐµÐ´Ð²Ð¸Ð¶Ð¸Ð¼Ð¾ÑÑ‚Ð¸",
            property_hotels: "ÐžÑ‚ÐµÐ»Ð¸",
            property_apartments: "ÐÐ¿Ð°Ñ€Ñ‚Ð°Ð¼ÐµÐ½Ñ‚Ñ‹",
            property_resorts: "ÐšÑƒÑ€Ð¾Ñ€Ñ‚Ñ‹",
            property_villas: "Ð’Ð¸Ð»Ð»Ñ‹",
            trip_planner_title: "Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ð¿Ð¾ÐµÐ·Ð´Ð¾Ðº",
            trip_planner_subtitle: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ Ð¸ Ð¸ÑÑÐ»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð»ÑƒÑ‡ÑˆÐ¸Ðµ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð² Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½Ðµ",
            trip_festivals: "Ð¤ÐµÑÑ‚Ð¸Ð²Ð°Ð»Ð¸",
            trip_shopping: "Ð¨Ð¾Ð¿Ð¸Ð½Ð³ Ð¸ Ñ€ÐµÐ¼ÐµÑÐ»Ð°",
            trip_gastronomic: "Ð“Ð°ÑÑ‚Ñ€Ð¾Ð½Ð¾Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ",
            trip_cultural: "ÐšÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð½Ð¾Ðµ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ",
            trip_architecture: "ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð½Ñ‹Ðµ Ñ‚ÑƒÑ€Ñ‹",
            trip_historical: "Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¼ÐµÑÑ‚Ð°",
            weekend_deals_title: "ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð½Ð° Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ",
            weekend_deals_subtitle: "Ð­ÐºÐ¾Ð½Ð¾Ð¼ÑŒÑ‚Ðµ Ð½Ð° Ð¿Ñ€Ð¾Ð¶Ð¸Ð²Ð°Ð½Ð¸Ð¸ Ñ 14 Ð¿Ð¾ 16 Ð½Ð¾ÑÐ±Ñ€Ñ",
            dest_tashkent: "Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚",
            dest_samarkand: "Ð¡Ð°Ð¼Ð°Ñ€ÐºÐ°Ð½Ð´",
            dest_istanbul: "Ð¡Ñ‚Ð°Ð¼Ð±ÑƒÐ»",
            dest_bukhara: "Ð‘ÑƒÑ…Ð°Ñ€Ð°",
            dest_dubai: "Ð”ÑƒÐ±Ð°Ð¹",
            dest_khiva: "Ð¥Ð¸Ð²Ð°",
            dest_chimgan: "Ð§Ð¸Ð¼Ð³Ð°Ð½",
            dest_fergana: "Ð¤ÐµÑ€Ð³Ð°Ð½Ð°",
            dest_kokand: "ÐšÐ¾ÐºÐ°Ð½Ð´",
            explore_tashkent_props: "1,409 Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            explore_samarkand_props: "914 Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            explore_bukhara_props: "587 Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            explore_khiva_props: "163 Ð¾Ð±ÑŠÐµÐºÑ‚Ð°",
            explore_chimgan_props: "20 Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            explore_fergana_props: "46 Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            trip_tashkent_distance: "7 ÐºÐ¼",
            trip_kokand_distance: "165 ÐºÐ¼",
            trip_fergana_distance: "237 ÐºÐ¼",
            trip_samarkand_distance: "262 ÐºÐ¼",
            trip_bukhara_distance: "438 ÐºÐ¼",
            trip_khiva_distance: "739 ÐºÐ¼",
            deal_premium_hotel: "ÐŸÑ€ÐµÐ¼Ð¸ÑƒÐ¼ Ð¾Ñ‚ÐµÐ»ÑŒ",
            deal_luxury_apartment: "Ð Ð¾ÑÐºÐ¾ÑˆÐ½Ð°Ñ ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ð°",
            deal_resort_stay: "ÐšÑƒÑ€Ð¾Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð¾Ñ‚ÐµÐ»ÑŒ",
            deal_villa_retreat: "Ð’Ð¸Ð»Ð»Ð° Ð´Ð»Ñ Ð¾Ñ‚Ð´Ñ‹Ñ…Ð°",
            deal_price_89: "$89/Ð½Ð¾Ñ‡ÑŒ",
            deal_price_75: "$75/Ð½Ð¾Ñ‡ÑŒ",
            deal_price_120: "$120/Ð½Ð¾Ñ‡ÑŒ",
            deal_price_150: "$150/Ð½Ð¾Ñ‡ÑŒ",
            destinations_title: "ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ",
            destinations_subtitle: "ÐÐ°ÑˆÐ¸ Ð»ÑƒÑ‡ÑˆÐ¸Ðµ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ",
            badge_popular: "ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾",
            badge_sale: "Ð¡ÐºÐ¸Ð´ÐºÐ°",
            badge_new: "ÐÐ¾Ð²Ð¸Ð½ÐºÐ°",
            btn_details: "ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ",
            price_per_person: "Ð·Ð° Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ°",
            dest1_name: "Ð”ÑƒÐ±Ð°Ð¹, ÐžÐÐ­",
            dest1_desc: "Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ð¸ Ð´Ñ€ÐµÐ²Ð½Ð¸Ðµ Ñ‚Ñ€Ð°Ð´Ð¸Ñ†Ð¸Ð¸",
            dest2_name: "ÐŸÐ°Ñ€Ð¸Ð¶, Ð¤Ñ€Ð°Ð½Ñ†Ð¸Ñ",
            dest2_desc: "Ð¡Ñ‚Ð¾Ð»Ð¸Ñ†Ð° Ð»ÑŽÐ±Ð²Ð¸ Ð¸ Ñ€Ð¾Ð¼Ð°Ð½Ñ‚Ð¸ÐºÐ¸, Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐ½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°",
            dest3_name: "Ð¡Ñ‚Ð°Ð¼Ð±ÑƒÐ», Ð¢ÑƒÑ€Ñ†Ð¸Ñ",
            dest3_desc: "Ð£Ð´Ð¸Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ ÑÐ¾Ñ‡ÐµÑ‚Ð°Ð½Ð¸Ðµ Ð’Ð¾ÑÑ‚Ð¾ÐºÐ° Ð¸ Ð—Ð°Ð¿Ð°Ð´Ð°",
            dest4_name: "Ð¨Ð²ÐµÐ¹Ñ†Ð°Ñ€Ð¸Ñ",
            dest4_desc: "ÐÐ»ÑŒÐ¿Ñ‹ Ð¸ ÐºÑ€Ð¸ÑÑ‚Ð°Ð»ÑŒÐ½Ð¾ Ñ‡Ð¸ÑÑ‚Ñ‹Ðµ Ð¾Ð·ÐµÑ€Ð°",
            dest5_name: "Ð¢Ð¾ÐºÐ¸Ð¾, Ð¯Ð¿Ð¾Ð½Ð¸Ñ",
            dest5_desc: "Ð£Ð½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾Ðµ ÑÐ¾Ñ‡ÐµÑ‚Ð°Ð½Ð¸Ðµ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¹ Ð¸ Ñ‚Ñ€Ð°Ð´Ð¸Ñ†Ð¸Ð¹",
            dest6_name: "Ð Ð¸Ð¼, Ð˜Ñ‚Ð°Ð»Ð¸Ñ",
            dest6_desc: "Ð”Ñ€ÐµÐ²Ð½ÑÑ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¸ Ð¿Ð¾Ñ‚Ñ€ÑÑÐ°ÑŽÑ‰Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°",
            dest7_name: "Bangkok Gourmet, Ð¢Ð°Ð¸Ð»Ð°Ð½Ð´",
            dest7_desc: "Ð“Ð°ÑÑ‚Ñ€Ð¾Ñ‚ÑƒÑ€Ñ‹, Ñ€ÐµÑÑ‚Ð¾Ñ€Ð°Ð½Ñ‹ Michelin Ð¸ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð³Ð¸Ð´Ñ‹.",
            dest8_name: "London Summit, Ð’ÐµÐ»Ð¸ÐºÐ¾Ð±Ñ€Ð¸Ñ‚Ð°Ð½Ð¸Ñ",
            dest8_desc: "ÐŸÐ°ÐºÐµÑ‚ Ð´Ð»Ñ Ð±Ð¸Ð·Ð½ÐµÑ-ÐºÐ¾Ð½Ñ„ÐµÑ€ÐµÐ½Ñ†Ð¸Ð¸, Ð¿Ñ€ÐµÐ¼Ð¸ÑƒÐ¼-Ð¾Ñ‚ÐµÐ»ÑŒ Ð¸ Ñ‚Ñ€Ð°Ð½ÑÑ„ÐµÑ€Ñ‹.",
            dest9_name: "Baku Weekend, ÐÐ·ÐµÑ€Ð±Ð°Ð¹Ð´Ð¶Ð°Ð½",
            dest9_desc: "ÐŸÑ€ÑÐ¼Ð¾Ð¹ Ñ€ÐµÐ¹Ñ Ð¸Ð· Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚Ð°, 4* Ð¾Ñ‚ÐµÐ»ÑŒ Ð¸ Ð¾Ð±Ð·Ð¾Ñ€Ð½Ð°Ñ ÑÐºÑÐºÑƒÑ€ÑÐ¸Ñ Ð¿Ð¾ Ð³Ð¾Ñ€Ð¾Ð´Ñƒ.",
            services_title: "ÐÐ°ÑˆÐ¸ ÑƒÑÐ»ÑƒÐ³Ð¸",
            services_subtitle: "ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð²Ñ‹Ð±Ð¸Ñ€Ð°ÑŽÑ‚ Ð½Ð°Ñ? ÐœÑ‹ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÐ¼ Ð»ÑƒÑ‡ÑˆÐ¸Ðµ Ñ†ÐµÐ½Ñ‹, Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐµÑ€Ð²Ð¸Ñ Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ 24/7",
            service1_title: "ÐÐ²Ð¸Ð°Ð±Ð¸Ð»ÐµÑ‚Ñ‹",
            service1_desc: "Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð°Ð²Ð¸Ð°Ð±Ð¸Ð»ÐµÑ‚Ð¾Ð² Ð¿Ð¾ Ð²Ñ‹Ð³Ð¾Ð´Ð½Ñ‹Ð¼ Ñ†ÐµÐ½Ð°Ð¼",
            service2_title: "ÐžÑ‚ÐµÐ»Ð¸",
            service2_desc: "Ð£Ð´Ð¾Ð±Ð½Ñ‹Ðµ Ð¾Ñ‚ÐµÐ»Ð¸ Ð¿Ð¾ Ð²ÑÐµÐ¼Ñƒ Ð¼Ð¸Ñ€Ñƒ",
            service3_title: "Ð­ÐºÑÐºÑƒÑ€ÑÐ¸Ð¸",
            service3_desc: "Ð˜Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ñ‹Ðµ Ñ‚ÑƒÑ€Ñ‹ Ñ Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð³Ð¸Ð´Ð°Ð¼Ð¸",
            service4_title: "Ð’Ð¸Ð·Ð¾Ð²Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°",
            service4_desc: "ÐžÑ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð²Ð¸Ð·",
            service_why: "ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð¼Ñ‹?",
            service1_advantage_text: "Ð¦ÐµÐ½Ñ‹ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸, 500+ Ð°Ð²Ð¸Ð°ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¹, Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ",
            service2_advantage_text: "50,000+ Ð¾Ñ‚ÐµÐ»ÐµÐ¹, Ð»ÑƒÑ‡ÑˆÐ¸Ðµ Ñ†ÐµÐ½Ñ‹, Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð°Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð°",
            service3_advantage_text: "ÐœÐµÑÑ‚Ð½Ñ‹Ðµ Ð³Ð¸Ð´Ñ‹, Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹, Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° 24/7",
            service4_advantage_text: "Ð‘Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð²Ð¸Ð·, Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ, Ð²Ñ‹ÑÐ¾ÐºÐ¸Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚ ÑƒÑÐ¿ÐµÑ…Ð°",

            // Smart Calculator & Tours
            calc_title_main: "Smart ÐšÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€",
            calc_city_default: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð³Ð¾Ñ€Ð¾Ð´",
            calc_group_popular: "ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ",
            calc_group_all: "Ð’ÑÐµ (Ð-Ð¯)",
            calc_recommend_btn: "ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸",
            calc_no_results: "Ð¢ÑƒÑ€Ñ‹ Ð¿Ð¾ Ñ†ÐµÐ½Ðµ ({budget} ÑÑƒÐ¼) Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, ÑƒÐ²ÐµÐ»Ð¸Ñ‡ÑŒÑ‚Ðµ Ð±ÑŽÐ´Ð¶ÐµÑ‚.",
            calc_days: "Ð”Ð½ÐµÐ¹",
            calc_book_btn: "Ð—Ð°Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",

            // Titles
            tour_istanbul_classic_title: "Ð¡Ñ‚Ð°Ð¼Ð±ÑƒÐ» ÐšÐ»Ð°ÑÑÐ¸Ðº",
            tour_istanbul_premium_title: "Ð¡Ñ‚Ð°Ð¼Ð±ÑƒÐ» ÐŸÑ€ÐµÐ¼Ð¸ÑƒÐ¼",
            tour_dubai_trip_title: "ÐŸÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ðµ Ð² Ð”ÑƒÐ±Ð°Ð¹",
            tour_dubai_luxe_title: "Ð”ÑƒÐ±Ð°Ð¹ Ð›ÑŽÐºÑ",
            tour_sharm_relax_title: "Ð¨Ð°Ñ€Ð¼ Ð ÐµÐ»Ð°ÐºÑ",
            tour_paris_romantic_title: "Ð Ð¾Ð¼Ð°Ð½Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÐŸÐ°Ñ€Ð¸Ð¶",
            tour_london_tour_title: "Ð­ÐºÑÐºÑƒÑ€ÑÐ¸Ñ Ð¿Ð¾ Ð›Ð¾Ð½Ð´Ð¾Ð½Ñƒ",
            tour_tashkent_city_title: "ÐŸÐ¾ Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚Ñƒ",
            tour_baku_wind_title: "Ð’ÐµÑ‚Ñ€Ñ‹ Ð‘Ð°ÐºÑƒ",
            tour_antalya_beach_title: "ÐŸÐ»ÑÐ¶Ð¸ ÐÐ½Ñ‚Ð°Ð»Ð¸Ð¸",
            tour_tokyo_future_title: "Ð‘ÑƒÐ´ÑƒÑ‰ÐµÐµ Ð¢Ð¾ÐºÐ¸Ð¾",
            tour_seoul_culture_title: "ÐšÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð° Ð¡ÐµÑƒÐ»Ð°",
            tour_kl_tropics_title: "Ð¢Ñ€Ð¾Ð¿Ð¸ÐºÐ¸ ÐœÐ°Ð»Ð°Ð¹Ð·Ð¸Ð¸",

            // Notes
            tour_note_cheapest: "Ð¡Ð°Ð¼Ñ‹Ð¹ Ð´ÐµÑˆÐµÐ²Ñ‹Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚",
            tour_note_comfort: "Ð”Ð»Ñ Ñ†ÐµÐ½Ð¸Ñ‚ÐµÐ»ÐµÐ¹ ÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð°",
            tour_note_fast: "Ð‘Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ðµ",
            tour_note_unforgettable: "ÐÐµÐ·Ð°Ð±Ñ‹Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð²Ð¿ÐµÑ‡Ð°Ñ‚Ð»ÐµÐ½Ð¸Ñ",
            tour_note_ideal: "Ð˜Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ Ð¾Ñ‚Ð´Ñ‹Ñ…Ð°",
            tour_note_couples: "Ð”Ð»Ñ Ð¿Ð°Ñ€",
            tour_note_history: "Ð”Ð»Ñ Ð»ÑŽÐ±Ð¸Ñ‚ÐµÐ»ÐµÐ¹ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸",
            tour_note_guests: "Ð”Ð»Ñ Ð³Ð¾ÑÑ‚ÐµÐ¹ ÑÑ‚Ð¾Ð»Ð¸Ñ†Ñ‹",
            tour_note_budget: "Ð‘ÑŽÐ´Ð¶ÐµÑ‚Ð½Ð¾Ðµ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ðµ",
            tour_note_summer: "Ð”Ð»Ñ Ð»ÐµÑ‚Ð½ÐµÐ³Ð¾ Ð¾Ñ‚Ð´Ñ‹Ñ…Ð°",
            tour_note_tech: "Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ð¸ ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð°",
            tour_note_kpop: "K-Pop Ð¸ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ",
            tour_note_nature: "ÐŸÑ€Ð¸Ñ€Ð¾Ð´Ð° Ð¸ Ð³Ð¾Ñ€Ð¾Ð´",

            // Includes
            inc_hotel_bf_trans: "ÐžÑ‚ÐµÐ»ÑŒ, Ð—Ð°Ð²Ñ‚Ñ€Ð°Ðº, Ð¢Ñ€Ð°Ð½ÑÑ„ÐµÑ€",
            inc_5star_all_guide: "5* ÐžÑ‚ÐµÐ»ÑŒ, Ð’ÑÐµ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾, Ð“Ð¸Ð´",
            inc_hotel_visa_trans: "ÐžÑ‚ÐµÐ»ÑŒ, Ð’Ð¸Ð·Ð°, Ð¢Ñ€Ð°Ð½ÑÑ„ÐµÑ€",
            inc_burj_safari_5star: "Ð‘ÑƒÑ€Ð´Ð¶-Ð¥Ð°Ð»Ð¸Ñ„Ð°, Ð¡Ð°Ñ„Ð°Ñ€Ð¸, 5* ÐžÑ‚ÐµÐ»ÑŒ",
            inc_all_sea: "Ð’ÑÐµ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾, Ð£ Ð¼Ð¾Ñ€Ñ",
            inc_hotel_trans_eiffel: "ÐžÑ‚ÐµÐ»ÑŒ, Ð¢Ñ€Ð°Ð½ÑÑ„ÐµÑ€, Ð­Ð¹Ñ„ÐµÐ»ÑŒ",
            inc_hotel_guide_museum: "ÐžÑ‚ÐµÐ»ÑŒ, Ð“Ð¸Ð´, ÐœÑƒÐ·ÐµÐ¸",
            inc_hotel_guide_meal: "ÐžÑ‚ÐµÐ»ÑŒ, Ð“Ð¸Ð´, ÐŸÐ¸Ñ‚Ð°Ð½Ð¸Ðµ",
            inc_hotel_trans_oldcity: "ÐžÑ‚ÐµÐ»ÑŒ, Ð¢Ñ€Ð°Ð½ÑÑ„ÐµÑ€, Ð¡Ñ‚Ð°Ñ€Ñ‹Ð¹ Ð³Ð¾Ñ€Ð¾Ð´",
            inc_all_avia: "Ð’ÑÐµ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾, ÐÐ²Ð¸Ð°",
            inc_hotel_metro_guide: "ÐžÑ‚ÐµÐ»ÑŒ, ÐšÐ°Ñ€Ñ‚Ð° Ð¼ÐµÑ‚Ñ€Ð¾, Ð“Ð¸Ð´",
            inc_hotel_palace_trans: "ÐžÑ‚ÐµÐ»ÑŒ, Ð”Ð²Ð¾Ñ€Ñ†Ñ‹, Ð¢Ñ€Ð°Ð½ÑÑ„ÐµÑ€",
            inc_hotel_trans_excur: "ÐžÑ‚ÐµÐ»ÑŒ, Ð¢Ñ€Ð°Ð½ÑÑ„ÐµÑ€, Ð­ÐºÑÐºÑƒÑ€ÑÐ¸Ð¸",

            // Payment Modal
            pay_modal_title: "ÐžÐ¿Ð»Ð°Ñ‚Ð°",
            pay_tour_info: "Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ñ‚ÑƒÑ€Ðµ",
            pay_payment_details: "ÐŸÐ»Ð°Ñ‚ÐµÐ¶Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ",
            pay_method_label: "Ð¡Ð¿Ð¾ÑÐ¾Ð± Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹",
            pay_method_full: "ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¾Ð¿Ð»Ð°Ñ‚Ð°",
            pay_method_full_desc: "ÐžÐ¿Ð»Ð°Ñ‚Ð¸Ñ‚ÑŒ Ð²ÑÑŽ ÑÑƒÐ¼Ð¼Ñƒ ÑÑ€Ð°Ð·Ñƒ",
            pay_method_part: "Ð Ð°ÑÑÑ€Ð¾Ñ‡ÐºÐ°",
            pay_method_part_desc: "TNPL - Ð¾Ð¿Ð»Ð°Ñ‚Ð° Ñ‡Ð°ÑÑ‚ÑÐ¼Ð¸",
            pay_label_name: "Ð¤Ð˜Ðž",
            pay_ph_name: "Ð˜Ð¼Ñ Ð¤Ð°Ð¼Ð¸Ð»Ð¸Ñ",
            pay_label_email: "Email",
            pay_label_phone: "ÐÐ¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°",
            pay_label_card: "ÐÐ¾Ð¼ÐµÑ€ ÐºÐ°Ñ€Ñ‚Ñ‹",
            pay_label_expiry: "Ð¡Ñ€Ð¾Ðº (ÐœÐœ/Ð“Ð“)",
            pay_label_cvv: "CVV",
            pay_label_address: "ÐÐ´Ñ€ÐµÑ",
            pay_ph_address: "ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð°Ð´Ñ€ÐµÑ",
            pay_terms_pre: "Ð¯ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ Ñ ",
            pay_terms_link: "ÑƒÑÐ»Ð¾Ð²Ð¸ÑÐ¼Ð¸ Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð°Ð¼Ð¸",
            pay_terms_post: "",
            pay_btn_submit: "ÐžÐ¿Ð»Ð°Ñ‚Ð¸Ñ‚ÑŒ",
            pay_btn_cancel: "ÐžÑ‚Ð¼ÐµÐ½Ð°",

            // Hero Search
            hero_city_placeholder: "ÐšÑƒÐ´Ð° Ð»ÐµÑ‚Ð¸Ð¼?",
            hero_date_placeholder: "ÐšÐ¾Ð³Ð´Ð°?",
            hero_guests_1: "1 Ð¿Ð°ÑÑÐ°Ð¶Ð¸Ñ€, Ð­ÐºÐ¾Ð½Ð¾Ð¼",
            hero_group_popular: "ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ",
            hero_group_all: "Ð’ÑÐµ (Ð-Ð¯)"
        },
        en: {
            phone: "+998 93 301 52 18",
            email: "info@ketmon.uz",
            nav_home: "Home",
            nav_destinations: "Destinations",
            nav_services: "Services",
            nav_about: "About",
            nav_contact: "Contact",
            nav_book: "Book Now",
            nav_login: "Login",
            nav_register: "Register",
            login_email_label: "Email",
            login_email_placeholder: "you@example.com",
            login_password_label: "Password",
            login_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_switch: "Register",
            register_role_label: "Select role",
            register_customer_tab: "Customer",
            register_agency_tab: "Agency",
            register_name_label: "Full name",
            register_name_placeholder: "Your name",
            register_email_label: "Email",
            register_email_placeholder: "you@example.com",
            register_password_label: "Password",
            register_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_agency_name_label: "Agency name",
            register_agency_name_placeholder: "Agency name",
            register_license_label: "License number",
            register_license_placeholder: "ABC-123456",
            register_agency_email_label: "Agency email",
            register_agency_email_placeholder: "agency@example.com",
            register_agency_phone_label: "Phone",
            register_agency_phone_placeholder: "+998 xx xxx xx xx",
            register_agency_password_label: "Password",
            register_agency_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_submit: "Create",
            hero_title: "Unforgettable Journeys Around the World",
            hero_subtitle: "Discover the best experiences with us",
            hero_btn1: "View Destinations",
            hero_btn2: "Get Consultation",
            tour_consult_btn: "Get consultation",
            search_destination: "Destination",
            search_destination_placeholder: "Where do you want to go?",
            search_date: "Date",
            search_duration: "Duration",
            duration_3: "3 days",
            duration_7: "7 days",
            duration_14: "14 days",
            duration_custom: "Other",
            search_agency: "Agency",
            agency_select_all: "All agencies",
            agency_section_title: "Partner Agencies",
            agency_section_subtitle: "Choose a trusted travel partner",
            agency_filter_all: "All partners",
            agency_filter_local: "For Local Travelers",
            agency_filter_global: "For International Guests",
            agency_badge_verified: "Verified",
            agency_view_tours: "View Agency Tours",
            license_title: "Travel Agency License",
            license_verified: "Verified Travel Agency",
            license_number: "License Number:",
            license_issued: "Issue Date:",
            license_expires: "Expiry Date:",
            license_authority: "Issuing Authority:",
            license_status: "Status:",
            license_active: "Active",
            license_note: "This license is issued and verified by the Ministry of Tourism and Cultural Heritage of the Republic of Uzbekistan. The agency complies with all legal requirements.",
            agency_atlas_name: "Atlas Travel",
            agency_atlas_desc: "Premium packages and VIP service in 40+ destinations worldwide.",
            agency_samarqand_name: "Samarqand Tours",
            agency_samarqand_desc: "Experts in cultural tours, historical guides, and local experiences.",
            agency_nomad_name: "Nomad Explorer",
            agency_nomad_desc: "Active tours, trekking, and eco-tourism.",
            agency_silk_name: "Silk Road Elite",
            agency_silk_desc: "Luxury hotels, TNPL plans, and premium private guides.",
            agency_clubtravel_name: "ClubTravel UZ",
            agency_clubtravel_desc: "Affordable packages for families and groups, charters from Tashkent.",
            agency_azialux_name: "AziaLux Travel",
            agency_azialux_desc: "Exclusive gastro-tours in Asia and Europe, premium service.",
            agency_globalvoyage_name: "Global Voyage Hub",
            agency_globalvoyage_desc: "International conferences and MICE tours, 24/7 support and visa assistance.",
            about_title: "About KETMON",
            about_subtitle: "Central Asia's trusted travel marketplace connecting agencies and travelers.",
            about_story_title: "Our Mission",
            about_story_body1: "Inspired by the symbol of the ketmon, we place hard work and growth at the heart of every product and service.",
            about_story_body2: "The platform features verified agencies, transparent pricing, and TNPL â€” all to save travelers time and budget.",
            about_bullet_network: "Partners update packages in real-time and showcase destinations via video and stories.",
            about_bullet_support: "24/7 support, built-in chat, and Telegram notifications help agencies stay in touch with clients.",
            about_bullet_ai: "AI recommendations suggest personalized itineraries and speed up tour selection.",
            about_stat_partners_value: "120+",
            about_stat_partners_label: "partner agencies",
            about_stat_tours_value: "650+",
            about_stat_tours_label: "active tour packages",
            about_stat_travelers_value: "45k+",
            about_stat_travelers_label: "happy travelers",
            about_stat_languages_value: "3",
            about_stat_languages_label: "supported languages",
            contact_title: "Contact Us",
            contact_subtitle: "Leave a question or suggestion â€” we are here 24/7.",
            contact_info_title: "Why KETMON?",
            contact_info_body: "With KETMON, you work only with verified agencies, compare prices, and use TNPL for installments. A single dashboard simplifies work for both clients and agencies.",
            contact_phone_label: "Phone",
            contact_phone_value: "+998 90 765 43 21",
            contact_email_label: "Email",
            contact_email_value: "support@ketmon.uz",
            contact_address_label: "Address",
            contact_address_value: "Tashkent, Navoi St. 12, KETMON HUB",
            contact_form_name_label: "Name",
            contact_form_name_placeholder: "Your name",
            contact_form_email_label: "Email",
            contact_form_email_placeholder: "you@example.com",
            contact_form_message_label: "Message",
            contact_form_message_placeholder: "Describe your request...",
            contact_submit_btn: "Send",
            contact_status_placeholder: "We usually reply within 30 minutes.",
            contact_success_message: "Your message has been received! We will contact you shortly.",
            contact_error_message: "Please fill in all fields.",
            calc_title: "Price, Rating, Sum",
            calc_clear: "Clear",
            calc_from: "from",
            calc_before: "to",
            search_guests: "Number of people",
            search_btn: "Search",
            late_escape_title: "Good time, not a long time",
            late_escape_subtitle: "Make the most of late summer with at least 15% off",
            late_escape_btn: "Find",
            trending_title: "Trending destinations",
            trending_subtitle: "Most popular choices for travelers from Uzbekistan",
            explore_uz_title: "Explore Uzbekistan",
            explore_uz_subtitle: "These popular destinations have a lot to offer",
            explore_properties: "properties",
            property_type_title: "Browse by property type",
            property_hotels: "Hotels",
            property_apartments: "Apartments",
            property_resorts: "Resorts",
            property_villas: "Villas",
            trip_planner_title: "Quick and easy trip planner",
            trip_planner_subtitle: "Pick a vibe and explore the top destinations in Uzbekistan",
            trip_festivals: "Festivals",
            trip_shopping: "Shopping and Crafts",
            trip_gastronomic: "Gastronomic tours",
            trip_cultural: "Cultural exploration",
            trip_architecture: "Architecture tours",
            trip_historical: "Historical sites",
            weekend_deals_title: "Deals for the weekend",
            weekend_deals_subtitle: "Save on stays for November 14 - November 16",
            dest_tashkent: "Tashkent",
            dest_samarkand: "Samarkand",
            dest_istanbul: "Istanbul",
            dest_bukhara: "Bukhara",
            dest_dubai: "Dubai",
            dest_khiva: "Khiva",
            dest_chimgan: "Chimgan",
            dest_fergana: "Fergana",
            dest_kokand: "Kokand",
            explore_tashkent_props: "1,409 properties",
            explore_samarkand_props: "914 properties",
            explore_bukhara_props: "587 properties",
            explore_khiva_props: "163 properties",
            explore_chimgan_props: "20 properties",
            explore_fergana_props: "46 properties",
            trip_tashkent_distance: "7 km away",
            trip_kokand_distance: "165 km away",
            trip_fergana_distance: "237 km away",
            trip_samarkand_distance: "262 km away",
            trip_bukhara_distance: "438 km away",
            trip_khiva_distance: "739 km away",
            deal_premium_hotel: "Premium Hotel",
            deal_luxury_apartment: "Luxury Apartment",
            deal_resort_stay: "Resort Stay",
            deal_villa_retreat: "Villa Retreat",
            deal_price_89: "$89/night",
            deal_price_75: "$75/night",
            deal_price_120: "$120/night",
            deal_price_150: "$150/night",
            destinations_title: "Popular Destinations",
            destinations_subtitle: "Our top picks",
            badge_popular: "Popular",
            badge_sale: "Sale",
            badge_new: "New",
            btn_details: "Details",
            price_per_person: "per person",
            dest1_name: "Dubai, UAE",
            dest1_desc: "Modern architecture meets ancient traditions",
            dest2_name: "Paris, France",
            dest2_desc: "City of love and romance, beautiful architecture",
            dest3_name: "Istanbul, Turkey",
            dest3_desc: "A stunning blend of East and West",
            dest4_name: "Switzerland",
            dest4_desc: "Alps and crystal-clear lakes",
            dest5_name: "Tokyo, Japan",
            dest5_desc: "A unique mix of technology and tradition",
            dest6_name: "Rome, Italy",
            dest6_desc: "Ancient history and magnificent architecture",
            dest7_name: "Bangkok Gourmet, Thailand",
            dest7_desc: "Gastronomic adventures, Michelin dining and personal guides.",
            dest8_name: "London Summit, United Kingdom",
            dest8_desc: "Business conference package, premium hotel and private transfers.",
            dest9_name: "Baku Weekend, Azerbaijan",
            dest9_desc: "Direct flight from Tashkent, 4* hotel and guided city tour.",
            services_title: "Our Services",
            services_subtitle: "Why choose us? We provide the best prices, professional service, and 24/7 support",
            service1_title: "Flights",
            service1_desc: "Book flight tickets at great prices",
            service2_title: "Hotels",
            service2_desc: "Comfortable hotels worldwide",
            service3_title: "Excursions",
            service3_desc: "Exciting tours with professional guides",
            service4_title: "Visa Service",
            service4_desc: "Visa processing",
            service_why: "Why us?",
            service1_advantage_text: "Real-time prices, 500+ airlines, instant booking",
            service2_advantage_text: "50,000+ hotels, best prices, free cancellation",
            service3_advantage_text: "Local guides, personalized itineraries, 24/7 support",
            service4_advantage_text: "Fast visa processing, professional assistance, high success rate",

            // Smart Calculator & Tours
            calc_title_main: "Smart Calculator",
            calc_city_default: "Select City",
            calc_group_popular: "Popular",
            calc_group_all: "All (A-Z)",
            calc_recommend_btn: "Show Recommendations",
            calc_no_results: "No tours found for this budget ({budget} sum). Please increase your budget.",
            calc_days: "Days",
            calc_book_btn: "Book Now",

            // Titles
            tour_istanbul_classic_title: "Istanbul Classic",
            tour_istanbul_premium_title: "Istanbul Premium",
            tour_dubai_trip_title: "Dubai Trip",
            tour_dubai_luxe_title: "Dubai Luxe",
            tour_sharm_relax_title: "Sharm Relax",
            tour_paris_romantic_title: "Paris Romantic",
            tour_london_tour_title: "London Tour",
            tour_tashkent_city_title: "Around Tashkent",
            tour_baku_wind_title: "Baku Winds",
            tour_antalya_beach_title: "Antalya Beaches",
            tour_tokyo_future_title: "Tokyo Future",
            tour_seoul_culture_title: "Seoul Culture",
            tour_kl_tropics_title: "Malaysia Tropics",

            // Notes
            tour_note_cheapest: "Cheapest Option",
            tour_note_comfort: "For Comfort Lovers",
            tour_note_fast: "Quick Trip",
            tour_note_unforgettable: "Unforgettable Experience",
            tour_note_ideal: "Ideal for Relax",
            tour_note_couples: "For Couples",
            tour_note_history: "For History Buffs",
            tour_note_guests: "For Capital Guests",
            tour_note_budget: "Budget Trip",
            tour_note_summer: "For Summer Vacation",
            tour_note_tech: "Tech & Culture",
            tour_note_kpop: "K-Pop & History",
            tour_note_nature: "Nature & City",

            // Includes
            inc_hotel_bf_trans: "Hotel, Breakfast, Transfer",
            inc_5star_all_guide: "5* Hotel, All Meals, Guide",
            inc_hotel_visa_trans: "Hotel, Visa, Transfer",
            inc_burj_safari_5star: "Burj Khalifa, Safari, 5* Hotel",
            inc_all_sea: "All Inclusive, Seaside",
            inc_hotel_trans_eiffel: "Hotel, Transfer, Eiffel",
            inc_hotel_guide_museum: "Hotel, Guide, Museums",
            inc_hotel_guide_meal: "Hotel, Guide, Meals",
            inc_hotel_trans_oldcity: "Hotel, Transfer, Old City",
            inc_all_avia: "All Inclusive, Flight",
            inc_hotel_metro_guide: "Hotel, Metro Card, Guide",
            inc_hotel_palace_trans: "Hotel, Palaces, Transfer",
            inc_hotel_trans_excur: "Hotel, Transfer, Excursions",

            // Payment Modal
            pay_modal_title: "Payment",
            pay_tour_info: "Tour Information",
            pay_payment_details: "Payment Details",
            pay_method_label: "Payment Method",
            pay_method_full: "Full Payment",
            pay_method_full_desc: "Pay full amount at once",
            pay_method_part: "Installment",
            pay_method_part_desc: "TNPL - pay in parts",
            pay_label_name: "Full Name",
            pay_ph_name: "Name Surname",
            pay_label_email: "Email",
            pay_label_phone: "Phone Number",
            pay_label_card: "Card Number",
            pay_label_expiry: "Expiry (MM/YY)",
            pay_label_cvv: "CVV",
            pay_label_address: "Address",
            pay_ph_address: "Full address",
            pay_terms_pre: "I agree to the ",
            pay_terms_link: "terms and conditions",
            pay_terms_post: "",
            pay_btn_submit: "Pay Now",
            pay_btn_cancel: "Cancel",

            // Hero Search
            hero_city_placeholder: "Where to?",
            hero_date_placeholder: "When?",
            hero_guests_1: "1 passenger, Economy",
            hero_group_popular: "Popular",
            hero_group_all: "All (A-Z)"

        },
        ru: {
            phone: "+998 93 301 52 18",
            email: "info@ketmon.uz",
            nav_home: "Ð“Ð»Ð°Ð²Ð½Ð°Ñ",
            nav_destinations: "ÐÐ°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ",
            nav_services: "Ð£ÑÐ»ÑƒÐ³Ð¸",
            nav_about: "Ðž Ð½Ð°Ñ",
            nav_contact: "ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹",
            nav_book: "Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ",
            nav_login: "Ð’Ð¾Ð¹Ñ‚Ð¸",
            nav_register: "Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ",
            login_email_label: "Email",
            login_email_placeholder: "you@example.com",
            login_password_label: "ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",
            login_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_switch: "Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ",
            register_role_label: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ€Ð¾Ð»ÑŒ",
            register_customer_tab: "ÐšÐ»Ð¸ÐµÐ½Ñ‚",
            register_agency_tab: "ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾",
            register_name_label: "Ð˜Ð¼Ñ",
            register_name_placeholder: "Ð’Ð°ÑˆÐµ Ð¸Ð¼Ñ",
            register_email_label: "Email",
            register_email_placeholder: "you@example.com",
            register_password_label: "ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",
            register_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_agency_name_label: "ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            register_agency_name_placeholder: "ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            register_license_label: "ÐÐ¾Ð¼ÐµÑ€ Ð»Ð¸Ñ†ÐµÐ½Ð·Ð¸Ð¸",
            register_license_placeholder: "ABC-123456",
            register_agency_email_label: "Email Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            register_agency_email_placeholder: "agency@example.com",
            register_agency_phone_label: "Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½",
            register_agency_phone_placeholder: "+998 xx xxx xx xx",
            register_agency_password_label: "ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",
            register_agency_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_submit: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ",
            hero_title: "ÐÐµÐ·Ð°Ð±Ñ‹Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ Ð¿Ð¾ Ð²ÑÐµÐ¼Ñƒ Ð¼Ð¸Ñ€Ñƒ",
            hero_subtitle: "ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð»ÑƒÑ‡ÑˆÐ¸Ðµ Ð²Ð¿ÐµÑ‡Ð°Ñ‚Ð»ÐµÐ½Ð¸Ñ Ð²Ð¼ÐµÑÑ‚Ðµ Ñ Ð½Ð°Ð¼Ð¸",
            hero_btn1: "Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ",
            hero_btn2: "ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ð¸ÑŽ",
            tour_consult_btn: "ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ð¸ÑŽ",
            search_destination: "ÐÐ°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ",
            search_destination_placeholder: "ÐšÑƒÐ´Ð° Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¿Ð¾ÐµÑ…Ð°Ñ‚ÑŒ?",
            search_date: "Ð”Ð°Ñ‚Ð°",
            search_duration: "ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ",
            duration_3: "3 Ð´Ð½Ñ",
            duration_7: "7 Ð´Ð½ÐµÐ¹",
            duration_14: "14 Ð´Ð½ÐµÐ¹",
            duration_custom: "Ð”Ñ€ÑƒÐ³Ð¾Ðµ",
            search_agency: "ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾",
            agency_select_all: "Ð’ÑÐµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            agency_section_title: "ÐŸÐ°Ñ€Ñ‚Ð½ÐµÑ€ÑÐºÐ¸Ðµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            agency_section_subtitle: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾Ð³Ð¾ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ð° Ð´Ð»Ñ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ",
            agency_filter_all: "Ð’ÑÐµ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ñ‹",
            agency_filter_local: "Ð”Ð»Ñ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¸ÐºÐ¾Ð² Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½Ð°",
            agency_filter_global: "Ð”Ð»Ñ Ð¸Ð½Ð¾ÑÑ‚Ñ€Ð°Ð½Ð½Ñ‹Ñ… Ð³Ð¾ÑÑ‚ÐµÐ¹",
            agency_badge_verified: "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾",
            agency_view_tours: "ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ñ‚ÑƒÑ€Ñ‹ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            license_title: "Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ Ñ‚ÑƒÑ€Ð¸ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°",
            license_verified: "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð½Ð¾Ðµ Ñ‚ÑƒÑ€Ð¸ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾",
            license_number: "ÐÐ¾Ð¼ÐµÑ€ Ð»Ð¸Ñ†ÐµÐ½Ð·Ð¸Ð¸:",
            license_issued: "Ð”Ð°Ñ‚Ð° Ð²Ñ‹Ð´Ð°Ñ‡Ð¸:",
            license_expires: "Ð¡Ñ€Ð¾Ðº Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ:",
            license_authority: "Ð’Ñ‹Ð´Ð°Ð²ÑˆÐ¸Ð¹ Ð¾Ñ€Ð³Ð°Ð½:",
            license_status: "Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:",
            license_active: "ÐÐºÑ‚Ð¸Ð²Ð½Ð°",
            license_note: "Ð­Ñ‚Ð° Ð»Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ Ð²Ñ‹Ð´Ð°Ð½Ð° Ð¸ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð° ÐœÐ¸Ð½Ð¸ÑÑ‚ÐµÑ€ÑÑ‚Ð²Ð¾Ð¼ Ñ‚ÑƒÑ€Ð¸Ð·Ð¼Ð° Ð¸ ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð½Ð¾Ð³Ð¾ Ð½Ð°ÑÐ»ÐµÐ´Ð¸Ñ Ð ÐµÑÐ¿ÑƒÐ±Ð»Ð¸ÐºÐ¸ Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½. ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð²ÑÐµÐ¼ Ð¿Ñ€Ð°Ð²Ð¾Ð²Ñ‹Ð¼ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼.",
            agency_atlas_name: "Atlas Travel",
            agency_atlas_desc: "ÐŸÑ€ÐµÐ¼Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ð¸ VIP-ÑÐµÑ€Ð²Ð¸Ñ Ð² 40+ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÑÑ… Ð¿Ð¾ Ð²ÑÐµÐ¼Ñƒ Ð¼Ð¸Ñ€Ñƒ.",
            agency_samarqand_name: "Samarqand Tours",
            agency_samarqand_desc: "Ð­ÐºÑÐ¿ÐµÑ€Ñ‚Ñ‹ Ð¿Ð¾ ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð½Ñ‹Ð¼ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸ÑÐ¼, Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼ Ð³Ð¸Ð´Ð°Ð¼ Ð¸ Ð¼ÐµÑÑ‚Ð½Ð¾Ð¼Ñƒ Ð¾Ð¿Ñ‹Ñ‚Ñƒ.",
            agency_nomad_name: "Nomad Explorer",
            agency_nomad_desc: "ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ñ‚ÑƒÑ€Ñ‹, Ñ‚Ñ€ÐµÐºÐºÐ¸Ð½Ð³ Ð¸ ÑÐºÐ¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‚ÑƒÑ€Ð¸Ð·Ð¼.",
            agency_silk_name: "Silk Road Elite",
            agency_silk_desc: "Ð›Ð°ÐºÑˆÐµÑ€Ð¸-Ð¾Ñ‚ÐµÐ»Ð¸, TNPL Ð¿Ð»Ð°Ð½Ñ‹ Ð¸ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð³Ð¸Ð´Ñ‹ Ð¿Ñ€ÐµÐ¼Ð¸ÑƒÐ¼-ÐºÐ»Ð°ÑÑÐ°.",
            agency_clubtravel_name: "ClubTravel UZ",
            agency_clubtravel_desc: "Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ð´Ð»Ñ ÑÐµÐ¼ÐµÐ¹ Ð¸ Ð³Ñ€ÑƒÐ¿Ð¿, Ñ‡Ð°Ñ€Ñ‚ÐµÑ€Ñ‹ Ð¸Ð· Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚Ð°.",
            agency_azialux_name: "AziaLux Travel",
            agency_azialux_desc: "Ð­ÐºÑÐºÐ»ÑŽÐ·Ð¸Ð²Ð½Ñ‹Ðµ Ð³Ð°ÑÑ‚Ñ€Ð¾Ñ‚ÑƒÑ€Ñ‹ Ð¿Ð¾ ÐÐ·Ð¸Ð¸ Ð¸ Ð•Ð²Ñ€Ð¾Ð¿Ðµ, Ð¿Ñ€ÐµÐ¼Ð¸ÑƒÐ¼-ÑÐµÑ€Ð²Ð¸Ñ.",
            agency_globalvoyage_name: "Global Voyage Hub",
            agency_globalvoyage_desc: "ÐœÐµÐ¶Ð´ÑƒÐ½Ð°Ñ€Ð¾Ð´Ð½Ñ‹Ðµ ÐºÐ¾Ð½Ñ„ÐµÑ€ÐµÐ½Ñ†Ð¸Ð¸ Ð¸ MICE-Ñ‚ÑƒÑ€Ñ‹, Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° 24/7 Ð¸ Ð²Ð¸Ð·Ð¾Ð²Ð°Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ.",
            about_title: "Ðž Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ðµ KETMON",
            about_subtitle: "ÐÐ°Ð´Ñ‘Ð¶Ð½Ñ‹Ð¹ Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¿Ð»ÐµÐ¹Ñ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ð¹ Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÐÐ·Ð¸Ð¸, Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÑŽÑ‰Ð¸Ð¹ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð° Ð¸ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¸ÐºÐ¾Ð².",
            about_story_title: "ÐÐ°ÑˆÐ° Ð¼Ð¸ÑÑÐ¸Ñ",
            about_story_body1: "Ð’Ð´Ð¾Ñ…Ð½Ð¾Ð²Ð»ÑÑÑÑŒ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð¼ ÐºÐµÑ‚Ð¼Ð¾Ð½Ð°, Ð¼Ñ‹ ÑÑ‚Ð°Ð²Ð¸Ð¼ Ñ‚Ñ€ÑƒÐ´Ð¾Ð»ÑŽÐ±Ð¸Ðµ Ð¸ Ñ€Ð¾ÑÑ‚ Ð² Ð¾ÑÐ½Ð¾Ð²Ñƒ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð° Ð¸ ÑÐµÑ€Ð²Ð¸ÑÐ°.",
            about_story_body2: "ÐÐ° Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ðµ ÑÐ¾Ð±Ñ€Ð°Ð½Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð½Ñ‹Ðµ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°, Ð¿Ñ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ñ†ÐµÐ½Ñ‹ Ð¸ TNPL â€” Ð²ÑÑ‘, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‚ÑŒ Ð²Ñ€ÐµÐ¼Ñ Ð¸ Ð±ÑŽÐ´Ð¶ÐµÑ‚ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¸ÐºÐ¾Ð².",
            about_bullet_network: "ÐŸÐ°Ñ€Ñ‚Ð½Ñ‘Ñ€Ñ‹ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑŽÑ‚ Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¸ Ñ€Ð°ÑÑÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ Ð¾ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÑÑ… Ñ‡ÐµÑ€ÐµÐ· Ð²Ð¸Ð´ÐµÐ¾ Ð¸ ÑÑ‚Ð¾Ñ€Ð¸Ñ.",
            about_bullet_support: "ÐšÑ€ÑƒÐ³Ð»Ð¾ÑÑƒÑ‚Ð¾Ñ‡Ð½Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°, Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ð¹ Ñ‡Ð°Ñ‚ Ð¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð² Telegram Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÑŽÑ‚ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°Ð¼ Ð¾ÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° ÑÐ²ÑÐ·Ð¸ Ñ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°Ð¼Ð¸.",
            about_bullet_ai: "AI-Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÑŽÑ‚ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ Ð¸ ÑƒÑÐºÐ¾Ñ€ÑÑŽÑ‚ Ð²Ñ‹Ð±Ð¾Ñ€ Ñ‚ÑƒÑ€Ð°.",
            about_stat_partners_value: "120+",
            about_stat_partners_label: "Ð¿Ð°Ñ€Ñ‚Ð½Ñ‘Ñ€ÑÐºÐ¸Ñ… Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²",
            about_stat_tours_value: "650+",
            about_stat_tours_label: "Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… Ñ‚ÑƒÑ€Ð¿Ð°ÐºÐµÑ‚Ð¾Ð²",
            about_stat_travelers_value: "45k+",
            about_stat_travelers_label: "Ð´Ð¾Ð²Ð¾Ð»ÑŒÐ½Ñ‹Ñ… Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¸ÐºÐ¾Ð²",
            about_stat_languages_value: "3",
            about_stat_languages_label: "ÑÐ·Ñ‹ÐºÐ¾Ð² Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸",
            contact_title: "Ð¡Ð²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð½Ð°Ð¼Ð¸",
            contact_subtitle: "ÐžÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð¸Ð»Ð¸ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ â€” Ð¼Ñ‹ Ð½Ð° ÑÐ²ÑÐ·Ð¸ 24/7.",
            contact_info_title: "ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ KETMON?",
            contact_info_body: "Ð¡ KETMON Ð²Ñ‹ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ñ‡Ð°ÐµÑ‚Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°Ð¼Ð¸, ÑÑ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÑ‚Ðµ Ñ†ÐµÐ½Ñ‹ Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚Ðµ TNPL Ð´Ð»Ñ Ñ€Ð°ÑÑÑ€Ð¾Ñ‡ÐºÐ¸. Ð•Ð´Ð¸Ð½Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð¾Ñ‰Ð°ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ð¸ Ð´Ð»Ñ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð², Ð¸ Ð´Ð»Ñ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð².",
            contact_phone_label: "Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½",
            contact_phone_value: "+998 90 765 43 21",
            contact_email_label: "Email",
            contact_email_value: "support@ketmon.uz",
            contact_address_label: "ÐÐ´Ñ€ÐµÑ",
            contact_address_value: "Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚, ÑƒÐ». ÐÐ°Ð²Ð¾Ð¸ 12, KETMON HUB",
            contact_form_name_label: "Ð˜Ð¼Ñ",
            contact_form_name_placeholder: "Ð’Ð°ÑˆÐµ Ð¸Ð¼Ñ",
            contact_form_email_label: "Email",
            contact_form_email_placeholder: "you@example.com",
            contact_form_message_label: "Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",
            contact_form_message_placeholder: "ÐžÐ¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð·Ð°Ð¿Ñ€Ð¾Ñ...",
            contact_submit_btn: "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ",
            contact_status_placeholder: "ÐžÐ±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÐ¼ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ 30 Ð¼Ð¸Ð½ÑƒÑ‚.",
            contact_success_message: "Ð’Ð°ÑˆÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸Ð½ÑÑ‚Ð¾! ÐœÑ‹ ÑÐ²ÑÐ¶ÐµÐ¼ÑÑ Ñ Ð²Ð°Ð¼Ð¸ Ð² Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ.",
            contact_error_message: "Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²ÑÐµ Ð¿Ð¾Ð»Ñ Ñ„Ð¾Ñ€Ð¼Ñ‹.",
            calc_title: "Ð¦ÐµÐ½Ð°, Ð¾Ñ†ÐµÐ½ÐºÐ°, ÑÑƒÐ¼",
            calc_clear: "ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ",
            calc_from: "Ð¾Ñ‚",
            calc_before: "Ð´Ð¾",
            search_guests: "ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð»ÑŽÐ´ÐµÐ¹",
            search_btn: "Ð˜ÑÐºÐ°Ñ‚ÑŒ",
            late_escape_title: "Ð¥Ð¾Ñ€Ð¾ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ, Ð° Ð½Ðµ Ð´Ð¾Ð»Ð³Ð¾Ðµ",
            late_escape_subtitle: "Ð’Ñ‹Ð¶Ð¼Ð¸Ñ‚Ðµ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¸Ð· Ð»ÐµÑ‚Ð° ÑÐ¾ ÑÐºÐ¸Ð´ÐºÐ¾Ð¹ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ 15%",
            late_escape_btn: "ÐÐ°Ð¹Ñ‚Ð¸",
            trending_title: "ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ",
            trending_subtitle: "Ð¡Ð°Ð¼Ñ‹Ðµ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð²Ñ‹Ð±Ð¾Ñ€Ñ‹ Ð´Ð»Ñ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¸ÐºÐ¾Ð² Ð¸Ð· Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½Ð°",
            explore_uz_title: "Ð˜ÑÑÐ»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½",
            explore_uz_subtitle: "Ð­Ñ‚Ð¸ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÑŽÑ‚ Ð¼Ð½Ð¾Ð³Ð¾Ðµ",
            explore_properties: "Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            property_type_title: "ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ñ‚Ð¸Ð¿Ñƒ Ð½ÐµÐ´Ð²Ð¸Ð¶Ð¸Ð¼Ð¾ÑÑ‚Ð¸",
            property_hotels: "ÐžÑ‚ÐµÐ»Ð¸",
            property_apartments: "ÐÐ¿Ð°Ñ€Ñ‚Ð°Ð¼ÐµÐ½Ñ‚Ñ‹",
            property_resorts: "ÐšÑƒÑ€Ð¾Ñ€Ñ‚Ñ‹",
            property_villas: "Ð’Ð¸Ð»Ð»Ñ‹",
            trip_planner_title: "Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ð¿Ð¾ÐµÐ·Ð´Ð¾Ðº",
            trip_planner_subtitle: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ Ð¸ Ð¸ÑÑÐ»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð»ÑƒÑ‡ÑˆÐ¸Ðµ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð² Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½Ðµ",
            trip_festivals: "Ð¤ÐµÑÑ‚Ð¸Ð²Ð°Ð»Ð¸",
            trip_shopping: "Ð¨Ð¾Ð¿Ð¸Ð½Ð³ Ð¸ Ñ€ÐµÐ¼ÐµÑÐ»Ð°",
            trip_gastronomic: "Ð“Ð°ÑÑ‚Ñ€Ð¾Ð½Ð¾Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ",
            trip_cultural: "ÐšÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð½Ð¾Ðµ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ",
            trip_architecture: "ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð½Ñ‹Ðµ Ñ‚ÑƒÑ€Ñ‹",
            trip_historical: "Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¼ÐµÑÑ‚Ð°",
            weekend_deals_title: "ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð½Ð° Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ",
            weekend_deals_subtitle: "Ð­ÐºÐ¾Ð½Ð¾Ð¼ÑŒÑ‚Ðµ Ð½Ð° Ð¿Ñ€Ð¾Ð¶Ð¸Ð²Ð°Ð½Ð¸Ð¸ Ñ 14 Ð¿Ð¾ 16 Ð½Ð¾ÑÐ±Ñ€Ñ",
            dest_tashkent: "Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚",
            dest_samarkand: "Ð¡Ð°Ð¼Ð°Ñ€ÐºÐ°Ð½Ð´",
            dest_istanbul: "Ð¡Ñ‚Ð°Ð¼Ð±ÑƒÐ»",
            dest_bukhara: "Ð‘ÑƒÑ…Ð°Ñ€Ð°",
            dest_dubai: "Ð”ÑƒÐ±Ð°Ð¹",
            dest_khiva: "Ð¥Ð¸Ð²Ð°",
            dest_chimgan: "Ð§Ð¸Ð¼Ð³Ð°Ð½",
            dest_fergana: "Ð¤ÐµÑ€Ð³Ð°Ð½Ð°",
            dest_kokand: "ÐšÐ¾ÐºÐ°Ð½Ð´",
            explore_tashkent_props: "1,409 Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            explore_samarkand_props: "914 Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            explore_bukhara_props: "587 Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            explore_khiva_props: "163 Ð¾Ð±ÑŠÐµÐºÑ‚Ð°",
            explore_chimgan_props: "20 Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            explore_fergana_props: "46 Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²",
            trip_tashkent_distance: "7 ÐºÐ¼",
            trip_kokand_distance: "165 ÐºÐ¼",
            trip_fergana_distance: "237 ÐºÐ¼",
            trip_samarkand_distance: "262 ÐºÐ¼",
            trip_bukhara_distance: "438 ÐºÐ¼",
            trip_khiva_distance: "739 ÐºÐ¼",
            deal_premium_hotel: "ÐŸÑ€ÐµÐ¼Ð¸ÑƒÐ¼ Ð¾Ñ‚ÐµÐ»ÑŒ",
            deal_luxury_apartment: "Ð Ð¾ÑÐºÐ¾ÑˆÐ½Ð°Ñ ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ð°",
            deal_resort_stay: "ÐšÑƒÑ€Ð¾Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð¾Ñ‚ÐµÐ»ÑŒ",
            deal_villa_retreat: "Ð’Ð¸Ð»Ð»Ð° Ð´Ð»Ñ Ð¾Ñ‚Ð´Ñ‹Ñ…Ð°",
            deal_price_89: "$89/Ð½Ð¾Ñ‡ÑŒ",
            deal_price_75: "$75/Ð½Ð¾Ñ‡ÑŒ",
            deal_price_120: "$120/Ð½Ð¾Ñ‡ÑŒ",
            deal_price_150: "$150/Ð½Ð¾Ñ‡ÑŒ",
            destinations_title: "ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ",
            destinations_subtitle: "ÐÐ°ÑˆÐ¸ Ð»ÑƒÑ‡ÑˆÐ¸Ðµ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ",
            badge_popular: "ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾",
            badge_sale: "Ð¡ÐºÐ¸Ð´ÐºÐ°",
            badge_new: "ÐÐ¾Ð²Ð¸Ð½ÐºÐ°",
            btn_details: "ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ",
            price_per_person: "Ð·Ð° Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ°",
            dest1_name: "Ð”ÑƒÐ±Ð°Ð¹, ÐžÐÐ­",
            dest1_desc: "Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ð¸ Ð´Ñ€ÐµÐ²Ð½Ð¸Ðµ Ñ‚Ñ€Ð°Ð´Ð¸Ñ†Ð¸Ð¸",
            dest2_name: "ÐŸÐ°Ñ€Ð¸Ð¶, Ð¤Ñ€Ð°Ð½Ñ†Ð¸Ñ",
            dest2_desc: "Ð¡Ñ‚Ð¾Ð»Ð¸Ñ†Ð° Ð»ÑŽÐ±Ð²Ð¸ Ð¸ Ñ€Ð¾Ð¼Ð°Ð½Ñ‚Ð¸ÐºÐ¸, Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐ½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°",
            dest3_name: "Ð¡Ñ‚Ð°Ð¼Ð±ÑƒÐ», Ð¢ÑƒÑ€Ñ†Ð¸Ñ",
            dest3_desc: "Ð£Ð´Ð¸Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ ÑÐ¾Ñ‡ÐµÑ‚Ð°Ð½Ð¸Ðµ Ð’Ð¾ÑÑ‚Ð¾ÐºÐ° Ð¸ Ð—Ð°Ð¿Ð°Ð´Ð°",
            dest4_name: "Ð¨Ð²ÐµÐ¹Ñ†Ð°Ñ€Ð¸Ñ",
            dest4_desc: "ÐÐ»ÑŒÐ¿Ñ‹ Ð¸ ÐºÑ€Ð¸ÑÑ‚Ð°Ð»ÑŒÐ½Ð¾ Ñ‡Ð¸ÑÑ‚Ñ‹Ðµ Ð¾Ð·ÐµÑ€Ð°",
            dest5_name: "Ð¢Ð¾ÐºÐ¸Ð¾, Ð¯Ð¿Ð¾Ð½Ð¸Ñ",
            dest5_desc: "Ð£Ð½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾Ðµ ÑÐ¾Ñ‡ÐµÑ‚Ð°Ð½Ð¸Ðµ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¹ Ð¸ Ñ‚Ñ€Ð°Ð´Ð¸Ñ†Ð¸Ð¹",
            dest6_name: "Ð Ð¸Ð¼, Ð˜Ñ‚Ð°Ð»Ð¸Ñ",
            dest6_desc: "Ð”Ñ€ÐµÐ²Ð½ÑÑ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¸ Ð¿Ð¾Ñ‚Ñ€ÑÑÐ°ÑŽÑ‰Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°",
            dest7_name: "Bangkok Gourmet, Ð¢Ð°Ð¸Ð»Ð°Ð½Ð´",
            dest7_desc: "Ð“Ð°ÑÑ‚Ñ€Ð¾Ñ‚ÑƒÑ€Ñ‹, Ñ€ÐµÑÑ‚Ð¾Ñ€Ð°Ð½Ñ‹ Michelin Ð¸ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð³Ð¸Ð´Ñ‹.",
            dest8_name: "London Summit, Ð’ÐµÐ»Ð¸ÐºÐ¾Ð±Ñ€Ð¸Ñ‚Ð°Ð½Ð¸Ñ",
            dest8_desc: "ÐŸÐ°ÐºÐµÑ‚ Ð´Ð»Ñ Ð±Ð¸Ð·Ð½ÐµÑ-ÐºÐ¾Ð½Ñ„ÐµÑ€ÐµÐ½Ñ†Ð¸Ð¸, Ð¿Ñ€ÐµÐ¼Ð¸ÑƒÐ¼-Ð¾Ñ‚ÐµÐ»ÑŒ Ð¸ Ñ‚Ñ€Ð°Ð½ÑÑ„ÐµÑ€Ñ‹.",
            dest9_name: "Baku Weekend, ÐÐ·ÐµÑ€Ð±Ð°Ð¹Ð´Ð¶Ð°Ð½",
            dest9_desc: "ÐŸÑ€ÑÐ¼Ð¾Ð¹ Ñ€ÐµÐ¹Ñ Ð¸Ð· Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚Ð°, 4* Ð¾Ñ‚ÐµÐ»ÑŒ Ð¸ Ð¾Ð±Ð·Ð¾Ñ€Ð½Ð°Ñ ÑÐºÑÐºÑƒÑ€ÑÐ¸Ñ Ð¿Ð¾ Ð³Ð¾Ñ€Ð¾Ð´Ñƒ.",
            services_title: "ÐÐ°ÑˆÐ¸ ÑƒÑÐ»ÑƒÐ³Ð¸",
            services_subtitle: "ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð²Ñ‹Ð±Ð¸Ñ€Ð°ÑŽÑ‚ Ð½Ð°Ñ? ÐœÑ‹ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÐ¼ Ð»ÑƒÑ‡ÑˆÐ¸Ðµ Ñ†ÐµÐ½Ñ‹, Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐµÑ€Ð²Ð¸Ñ Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ 24/7",
            service1_title: "ÐÐ²Ð¸Ð°Ð±Ð¸Ð»ÐµÑ‚Ñ‹",
            service1_desc: "Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð°Ð²Ð¸Ð°Ð±Ð¸Ð»ÐµÑ‚Ð¾Ð² Ð¿Ð¾ Ð²Ñ‹Ð³Ð¾Ð´Ð½Ñ‹Ð¼ Ñ†ÐµÐ½Ð°Ð¼",
            service2_title: "ÐžÑ‚ÐµÐ»Ð¸",
            service2_desc: "Ð£Ð´Ð¾Ð±Ð½Ñ‹Ðµ Ð¾Ñ‚ÐµÐ»Ð¸ Ð¿Ð¾ Ð²ÑÐµÐ¼Ñƒ Ð¼Ð¸Ñ€Ñƒ",
            service3_title: "Ð­ÐºÑÐºÑƒÑ€ÑÐ¸Ð¸",
            service3_desc: "Ð˜Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ñ‹Ðµ Ñ‚ÑƒÑ€Ñ‹ Ñ Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð³Ð¸Ð´Ð°Ð¼Ð¸",
            service4_title: "Ð’Ð¸Ð·Ð¾Ð²Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°",
            service4_desc: "ÐžÑ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð²Ð¸Ð·",
            service_why: "ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð¼Ñ‹?",
            service1_advantage_text: "Ð¦ÐµÐ½Ñ‹ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸, 500+ Ð°Ð²Ð¸Ð°ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¹, Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ",
            service2_advantage_text: "50,000+ Ð¾Ñ‚ÐµÐ»ÐµÐ¹, Ð»ÑƒÑ‡ÑˆÐ¸Ðµ Ñ†ÐµÐ½Ñ‹, Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð°Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð°",
            service3_advantage_text: "ÐœÐµÑÑ‚Ð½Ñ‹Ðµ Ð³Ð¸Ð´Ñ‹, Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹, Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° 24/7",
            service4_advantage_text: "Ð‘Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð²Ð¸Ð·, Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ, Ð²Ñ‹ÑÐ¾ÐºÐ¸Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚ ÑƒÑÐ¿ÐµÑ…Ð°"
        },
        en: {
            phone: "+998 93 301 52 18",
            email: "info@ketmon.uz",
            nav_home: "Home",
            nav_destinations: "Destinations",
            nav_services: "Services",
            nav_about: "About",
            nav_contact: "Contact",
            nav_book: "Book Now",
            nav_login: "Login",
            nav_register: "Register",
            login_email_label: "Email",
            login_email_placeholder: "you@example.com",
            login_password_label: "Password",
            login_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_switch: "Register",
            register_role_label: "Select role",
            register_customer_tab: "Customer",
            register_agency_tab: "Agency",
            register_name_label: "Full name",
            register_name_placeholder: "Your name",
            register_email_label: "Email",
            register_email_placeholder: "you@example.com",
            register_password_label: "Password",
            register_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_agency_name_label: "Agency name",
            register_agency_name_placeholder: "Agency name",
            register_license_label: "License number",
            register_license_placeholder: "ABC-123456",
            register_agency_email_label: "Agency email",
            register_agency_email_placeholder: "agency@example.com",
            register_agency_phone_label: "Phone",
            register_agency_phone_placeholder: "+998 xx xxx xx xx",
            register_agency_password_label: "Password",
            register_agency_password_placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
            register_submit: "Create",
            hero_title: "Unforgettable Journeys Around the World",
            hero_subtitle: "Discover your best experiences with us",
            hero_btn1: "View Destinations",
            hero_btn2: "Get a Consultation",
            tour_consult_btn: "Get Consultation",
            search_destination: "Destination",
            search_destination_placeholder: "Where do you want to go?",
            search_date: "Date",
            search_duration: "Duration",
            duration_3: "3 days",
            duration_7: "7 days",
            duration_14: "14 days",
            duration_custom: "Custom",
            search_agency: "Agency",
            agency_select_all: "All agencies",
            agency_section_title: "Partner Agencies",
            agency_section_subtitle: "Choose the most trusted travel partner for your trip",
            agency_filter_all: "All partners",
            agency_filter_local: "For Uzbek travelers",
            agency_filter_global: "For international visitors",
            agency_badge_verified: "Verified",
            agency_view_tours: "View agency tours",
            license_title: "Travel Agency License",
            license_verified: "Verified travel agency",
            license_number: "License number:",
            license_issued: "Issued date:",
            license_expires: "Expiry date:",
            license_authority: "Issuing authority:",
            license_status: "Status:",
            license_active: "Active",
            license_note: "This license is issued and verified by the Ministry of Tourism and Cultural Heritage of the Republic of Uzbekistan. The agency complies with all legal requirements.",
            agency_atlas_name: "Atlas Travel",
            agency_atlas_desc: "Premium packages and VIP service to 40+ destinations worldwide.",
            agency_samarqand_name: "Samarqand Tours",
            agency_samarqand_desc: "Experts in cultural journeys, historical guides and authentic experiences.",
            agency_nomad_name: "Nomad Explorer",
            agency_nomad_desc: "Adventure tours, mountain trekking and eco experiences.",
            agency_silk_name: "Silk Road Elite",
            agency_silk_desc: "Luxury stays, TNPL plans and personal guides with premium service.",
            agency_clubtravel_name: "ClubTravel UZ",
            agency_clubtravel_desc: "Value-friendly packages for families and groups, charters from Tashkent.",
            agency_azialux_name: "AziaLux Travel",
            agency_azialux_desc: "Exclusive gastro tours across Asia and Europe with premium guides.",
            agency_globalvoyage_name: "Global Voyage Hub",
            agency_globalvoyage_desc: "International conferences and MICE tours with 24/7 support and visa help.",
            about_title: "About KETMON",
            about_subtitle: "The most trusted travel marketplace in Central Asia connecting agencies and travellers.",
            about_story_title: "Our Mission",
            about_story_body1: "Inspired by the ketmon spirit, we put dedication and growth at the heart of our services.",
            about_story_body2: "Verified agencies, transparent pricing, and TNPL financing help travellers save time and budget with confidence.",
            about_bullet_network: "Partners refresh packages in real time and bring destinations to life with reels and stories.",
            about_bullet_support: "24/7 support, integrated chat, and Telegram alerts keep agencies in sync with their customers.",
            about_bullet_ai: "AI recommendations surface personalised itineraries so guests can decide faster.",
            about_stat_partners_value: "120+",
            about_stat_partners_label: "partner agencies",
            about_stat_tours_value: "650+",
            about_stat_tours_label: "active tour packages",
            about_stat_travelers_value: "45k+",
            about_stat_travelers_label: "happy travellers",
            about_stat_languages_value: "3",
            about_stat_languages_label: "languages supported",
            contact_title: "Let's stay in touch",
            contact_subtitle: "Share your questions or ideas â€” our team replies within minutes.",
            contact_info_title: "Why KETMON?",
            contact_info_body: "Collaborate with verified agencies, compare offers, and split payments via TNPL. A single dashboard streamlines the journey for both travellers and partners.",
            contact_phone_label: "Phone",
            contact_phone_value: "+998 90 765 43 21",
            contact_email_label: "Email",
            contact_email_value: "support@ketmon.uz",
            contact_address_label: "Address",
            contact_address_value: "Tashkent, Navoi Street 12, KETMON HUB",
            contact_form_name_label: "Name",
            contact_form_name_placeholder: "Your name",
            contact_form_email_label: "Email",
            contact_form_email_placeholder: "you@example.com",
            contact_form_message_label: "Message",
            contact_form_message_placeholder: "Tell us how we can help...",
            contact_submit_btn: "Send message",
            contact_status_placeholder: "We usually reply within 30 minutes.",
            contact_success_message: "Thanks for reaching out! We will get back to you shortly.",
            contact_error_message: "Please fill in every field before sending.",
            calc_title: "Price, rating, sum",
            calc_clear: "Clear",
            calc_from: "from",
            calc_before: "to",
            search_guests: "Guests",
            search_btn: "Search",
            late_escape_title: "Go for a good time, not a long time",
            late_escape_subtitle: "Squeeze out the last bit of summer at least 15% off",
            late_escape_btn: "Find",
            trending_title: "Trending destinations",
            trending_subtitle: "Most popular choices for travellers from Uzbekistan",
            explore_uz_title: "Explore Uzbekistan",
            explore_uz_subtitle: "These popular destinations have a lot to offer",
            explore_properties: "properties",
            property_type_title: "Browse by property type",
            property_hotels: "Hotels",
            property_apartments: "Apartments",
            property_resorts: "Resorts",
            property_villas: "Villas",
            trip_planner_title: "Quick and easy trip planner",
            trip_planner_subtitle: "Pick a vibe and explore the top destinations in Uzbekistan",
            trip_festivals: "Festivals",
            trip_shopping: "Shopping & Crafts",
            trip_gastronomic: "Gastronomic Journeys",
            trip_cultural: "Cultural Exploration",
            trip_architecture: "Architecture Tours",
            trip_historical: "Historical Sites",
            weekend_deals_title: "Deals for the weekend",
            weekend_deals_subtitle: "Save on stays for 14 November - 16 November",
            dest_tashkent: "Tashkent",
            dest_samarkand: "Samarkand",
            dest_istanbul: "Istanbul",
            dest_bukhara: "Bukhara",
            dest_dubai: "Dubai",
            dest_khiva: "Khiva",
            dest_chimgan: "Chimgan",
            dest_fergana: "Fergana",
            dest_kokand: "Kokand",
            explore_tashkent_props: "1,409 properties",
            explore_samarkand_props: "914 properties",
            explore_bukhara_props: "587 properties",
            explore_khiva_props: "163 properties",
            explore_chimgan_props: "20 properties",
            explore_fergana_props: "46 properties",
            trip_tashkent_distance: "7 km away",
            trip_kokand_distance: "165 km away",
            trip_fergana_distance: "237 km away",
            trip_samarkand_distance: "262 km away",
            trip_bukhara_distance: "438 km away",
            trip_khiva_distance: "739 km away",
            deal_premium_hotel: "Premium Hotel",
            deal_luxury_apartment: "Luxury Apartment",
            deal_resort_stay: "Resort Stay",
            deal_villa_retreat: "Villa Retreat",
            deal_price_89: "$89/night",
            deal_price_75: "$75/night",
            deal_price_120: "$120/night",
            deal_price_150: "$150/night",
            destinations_title: "Popular Destinations",
            destinations_subtitle: "Our best offers",
            badge_popular: "Popular",
            badge_sale: "Sale",
            badge_new: "New",
            btn_details: "Details",
            price_per_person: "per person",
            dest1_name: "Dubai, UAE",
            dest1_desc: "Modern architecture meets ancient traditions",
            dest2_name: "Paris, France",
            dest2_desc: "City of love and romance, beautiful architecture",
            dest3_name: "Istanbul, Turkey",
            dest3_desc: "A stunning blend of East and West",
            dest4_name: "Switzerland",
            dest4_desc: "Alps and crystal-clear lakes",
            dest5_name: "Tokyo, Japan",
            dest5_desc: "A unique mix of technology and tradition",
            dest6_name: "Rome, Italy",
            dest6_desc: "Ancient history and magnificent architecture",
            dest7_name: "Bangkok Gourmet, Thailand",
            dest7_desc: "Gastronomic adventures, Michelin dining and personal guides.",
            dest8_name: "London Summit, United Kingdom",
            dest8_desc: "Business conference package, premium hotel and private transfers.",
            dest9_name: "Baku Weekend, Azerbaijan",
            dest9_desc: "Direct flight from Tashkent, 4* hotel and guided city tour.",
            services_title: "Our Services",
            services_subtitle: "Why choose us? We provide the best prices, professional service, and 24/7 support",
            service1_title: "Flights",
            service1_desc: "Book flight tickets at great prices",
            service2_title: "Hotels",
            service2_desc: "Comfortable hotels worldwide",
            service3_title: "Excursions",
            service3_desc: "Exciting tours with professional guides",
            service4_title: "Visa Service",
            service4_desc: "Visa processing",
            service_why: "Why us?",
            service1_advantage_text: "Real-time prices, 500+ airlines, instant booking",
            service2_advantage_text: "50,000+ hotels, best prices, free cancellation",
            service3_advantage_text: "Local guides, personalized itineraries, 24/7 support",
            service4_advantage_text: "Fast visa processing, professional assistance, high success rate"
        }
    };

    // Expose for global access
    window.ketmonI18n = i18n;

    function applyTranslations(lang) {
        var dict = i18n[lang] || i18n.uz;
        // Helper to check whether a user is currently authenticated (local-only check)
        function isAuthenticated() {
            try {
                var u = JSON.parse(localStorage.getItem('ketmon_user') || 'null');
                return !!(u && (u.name || u.email));
            } catch (e) {
                return false;
            }
        }

        // Get all elements with data-text attribute, process from deepest to shallowest
        // This ensures child elements are translated before parent elements
        var allElements = Array.from(document.querySelectorAll('[data-text]'));
        // Sort by depth (deepest first) to avoid overwriting child translations
        allElements.sort(function (a, b) {
            var depthA = 0, depthB = 0;
            var tempA = a, tempB = b;
            while (tempA.parentNode) { depthA++; tempA = tempA.parentNode; }
            while (tempB.parentNode) { depthB++; tempB = tempB.parentNode; }
            return depthB - depthA;
        });

        // Replace inner text for all [data-text] elements
        allElements.forEach(function (el) {
            var key = el.getAttribute('data-text');
            if (key && dict[key] !== undefined) {
                // Skip AI budget label - it should be controlled by currency, not language
                if (key === 'ai_budget_label') {
                    return;
                }

                // Only update if this element doesn't have child elements with data-text
                // (to avoid overwriting child translations)
                var hasTranslatableChildren = Array.from(el.children).some(function (child) {
                    return child.hasAttribute('data-text') || child.querySelector('[data-text]') !== null;
                });

                if (!hasTranslatableChildren) {
                    // If the element represents phone/email and the user is NOT authenticated,
                    // show anonymized placeholders instead of real contact details.
                    if (!isAuthenticated() && (key === 'phone' || key === 'email')) {
                        if (key === 'phone') el.textContent = '*** *** ** **';
                        if (key === 'email') el.textContent = '***@******.uz';
                    } else {
                        el.textContent = dict[key];
                    }
                }
            }
        });

        // Replace placeholders for all elements declaring [data-placeholder]
        document.querySelectorAll('[data-placeholder]').forEach(function (el) {
            var key = el.getAttribute('data-placeholder');
            if (key && dict[key] !== undefined && 'placeholder' in el) {
                el.placeholder = dict[key];
            }
        });

        // Update select options
        document.querySelectorAll('select option[data-text]').forEach(function (option) {
            var key = option.getAttribute('data-text');
            if (key && dict[key] !== undefined) {
                option.textContent = dict[key];
            }
        });

        // Update optgroup labels
        document.querySelectorAll('optgroup[data-text]').forEach(function (group) {
            var key = group.getAttribute('data-text');
            if (key && dict[key] !== undefined) {
                group.label = dict[key];
            }
        });

        // Update AI budget label based on currency (not language) after translation
        var currentCurrency = localStorage.getItem('ketmon_currency') || 'usd';
        if (typeof updateAIBudgetLabel === 'function') {
            updateAIBudgetLabel(currentCurrency);
        }

        // Force update for header buttons specifically (in case they're in hidden containers)
        var headerBookBtns = document.querySelectorAll('header [data-text="nav_book"]');
        headerBookBtns.forEach(function (btn) {
            if (dict.nav_book) btn.textContent = dict.nav_book;
        });
    }

    function changeLang(lang) {
        // Update current language display
        var langCurrent = document.getElementById('langCurrent');
        if (langCurrent) {
            langCurrent.textContent = lang.toUpperCase();
        }

        // Update dropdown items
        var dropdownItems = document.querySelectorAll('.lang-dropdown-item');
        dropdownItems.forEach(function (item) {
            item.classList.remove('active');
            if (item.textContent.trim().toUpperCase() === lang.toUpperCase()) {
                item.classList.add('active');
            }
        });

        applyTranslations(lang);
        localStorage.setItem('ketmon_lang', lang);

        // Dispatch global event for other components
        document.dispatchEvent(new CustomEvent('languageChanged', {
            detail: { language: lang }
        }));
    }

    function toggleLangDropdown(e) {
        if (e) {
            e.preventDefault();
            e.stopPropagation();
            // Prevent double-tap zoom on mobile
            if (e.touches && e.touches.length > 0) {
                e.preventDefault();
            }
        }
        var dropdown = document.getElementById('langDropdown');
        var selector = document.querySelector('.lang-selector');
        var icon = document.getElementById('langDropdownIcon');
        if (dropdown && selector) {
            var isOpen = dropdown.classList.contains('show');
            // Close currency dropdown if open
            var currencyDropdown = document.getElementById('currencyDropdown');
            if (currencyDropdown) currencyDropdown.classList.remove('show');
            var currencySelector = document.querySelector('.currency-selector');
            if (currencySelector) currencySelector.classList.remove('active');
            var currencyIcon = document.getElementById('currencyDropdownIcon');
            if (currencyIcon) currencyIcon.style.transform = 'rotate(0deg)';

            if (isOpen) {
                dropdown.classList.remove('show');
                selector.classList.remove('active');
                if (icon) icon.style.transform = 'rotate(0deg)';
            } else {
                dropdown.classList.add('show');
                selector.classList.add('active');
                if (icon) icon.style.transform = 'rotate(180deg)';
            }
        }
    }

    function closeLangDropdown() {
        var dropdown = document.getElementById('langDropdown');
        var selector = document.querySelector('.lang-selector');
        var icon = document.getElementById('langDropdownIcon');
        if (dropdown) dropdown.classList.remove('show');
        if (selector) selector.classList.remove('active');
        if (icon) icon.style.transform = 'rotate(0deg)';
    }

    function selectLang(lang, e) {
        if (e) {
            e.preventDefault();
            e.stopPropagation();
        }
        // Update current language display
        var langCurrent = document.getElementById('langCurrent');
        if (langCurrent) {
            langCurrent.textContent = lang.toUpperCase();
        }

        // Remove active class from all dropdown items
        document.querySelectorAll('.lang-dropdown-item').forEach(function (btn) {
            btn.classList.remove('active');
        });

        // Add active class to selected item
        var items = document.querySelectorAll('.lang-dropdown-item');
        items.forEach(function (item) {
            if (item.textContent.trim() === lang.toUpperCase()) {
                item.classList.add('active');
            }
        });

        // Close dropdown
        closeLangDropdown();

        // Change language
        changeLang(lang);
    }

    window.changeLang = changeLang;
    window.toggleLangDropdown = toggleLangDropdown;
    window.closeLangDropdown = closeLangDropdown;
    window.selectLang = selectLang;
    window.applyTranslations = applyTranslations;
    window.i18n = i18n;

    // Close dropdown when clicking outside
    document.addEventListener('click', function (e) {
        var langDropdown = document.getElementById('langDropdown');
        var langSelector = document.querySelector('.lang-selector');
        var langBtn = document.getElementById('langDropdownBtn');

        if (langDropdown && langSelector && langBtn) {
            // Check if click is outside the language selector
            if (!langSelector.contains(e.target) && !langBtn.contains(e.target)) {
                closeLangDropdown();
            }
        }
    });

    // Init language on load
    document.addEventListener('DOMContentLoaded', function () {
        var saved = localStorage.getItem('ketmon_lang') || 'uz';
        changeLang(saved);
        // Update display and active state
        var langCurrent = document.getElementById('langCurrent');
        if (langCurrent) langCurrent.textContent = saved.toUpperCase();
        var items = document.querySelectorAll('.lang-dropdown-item');
        items.forEach(function (item) {
            item.classList.remove('active');
            if (item.textContent.trim() === saved.toUpperCase()) {
                item.classList.add('active');
            }
        });

        // Ensure the button has proper event handling
        var langBtn = document.getElementById('langDropdownBtn');
        if (langBtn) {
            // Remove any existing onclick and add event listener
            langBtn.onclick = null;
            langBtn.addEventListener('click', function (e) {
                e.preventDefault();
                e.stopPropagation();
                toggleLangDropdown(e);
            });
        }
    });
})();

// Currency switcher
(function () {
    // Exchange rates (approximate, update as needed)
    var exchangeRates = {
        usd: {
            sum: 12500,  // 1 USD = 12500 UZS
            rub: 90      // 1 USD = 90 RUB
        },
        rub: {
            sum: 139,    // 1 RUB = 139 UZS
            usd: 0.011   // 1 RUB = 0.011 USD
        },
        sum: {
            usd: 0.00008, // 1 UZS = 0.00008 USD
            rub: 0.0072   // 1 UZS = 0.0072 RUB
        }
    };

    // Store original prices in data attributes
    function initPrices() {
        document.querySelectorAll('.price').forEach(function (priceEl) {
            if (!priceEl.hasAttribute('data-original-price')) {
                var text = priceEl.textContent.trim();
                // Extract number from price (e.g., "$1,200" -> 1200)
                var match = text.match(/[\d,]+/);
                if (match) {
                    var num = parseFloat(match[0].replace(/,/g, ''));
                    priceEl.setAttribute('data-original-price', num);
                    priceEl.setAttribute('data-original-currency', 'usd');
                }
            }
        });
    }

    // Convert price based on currency
    function convertPrice(originalPrice, fromCurrency, toCurrency) {
        if (fromCurrency === toCurrency) return originalPrice;

        if (fromCurrency === 'usd') {
            if (toCurrency === 'sum') {
                return originalPrice * exchangeRates.usd.sum;
            } else if (toCurrency === 'rub') {
                return originalPrice * exchangeRates.usd.rub;
            }
        } else if (fromCurrency === 'rub') {
            if (toCurrency === 'sum') {
                return originalPrice * exchangeRates.rub.sum;
            } else if (toCurrency === 'usd') {
                return originalPrice * exchangeRates.rub.usd;
            }
        } else if (fromCurrency === 'sum') {
            if (toCurrency === 'usd') {
                return originalPrice * exchangeRates.sum.usd;
            } else if (toCurrency === 'rub') {
                return originalPrice * exchangeRates.sum.rub;
            }
        }
        return originalPrice;
    }

    // Format price with currency symbol
    function formatPrice(amount, currency) {
        var symbols = {
            usd: '$',
            rub: 'â‚½',
            sum: 'so\'m'
        };
        var symbol = symbols[currency] || '';

        if (currency === 'sum') {
            // Format SUM with spaces (e.g., 15 000 000 so'm)
            return Math.round(amount).toLocaleString('uz-UZ').replace(/,/g, ' ') + ' ' + symbol;
        } else {
            // Format USD and RUB with commas
            return symbol + Math.round(amount).toLocaleString('en-US');
        }
    }

    // Update all prices on the page
    function updatePrices(currency) {
        document.querySelectorAll('.price').forEach(function (priceEl) {
            var originalPrice = parseFloat(priceEl.getAttribute('data-original-price'));
            var originalCurrency = priceEl.getAttribute('data-original-currency') || 'usd';

            if (!isNaN(originalPrice)) {
                var convertedPrice = convertPrice(originalPrice, originalCurrency, currency);
                priceEl.textContent = formatPrice(convertedPrice, currency);
            }
        });
    }

    function changeCurrency(currency) {
        var currencyMap = {
            'sum': 'SUM',
            'usd': 'USD',
            'rub': 'RUB'
        };

        // Update current currency display
        var currencyCurrent = document.getElementById('currencyCurrent');
        if (currencyCurrent) {
            currencyCurrent.textContent = currencyMap[currency] || 'SUM';
        }

        // Update dropdown items
        var dropdownItems = document.querySelectorAll('.currency-dropdown-item');
        dropdownItems.forEach(function (item) {
            item.classList.remove('active');
            if (item.textContent.trim() === currencyMap[currency]) {
                item.classList.add('active');
            }
        });

        initPrices();
        updatePrices(currency);
        localStorage.setItem('ketmon_currency', currency);

        // Update AI Assistant budget label
        if (typeof updateAIBudgetLabel === 'function') {
            updateAIBudgetLabel(currency);
        }
    }

    function toggleCurrencyDropdown(e) {
        if (e) {
            e.preventDefault();
            e.stopPropagation();
            // Prevent double-tap zoom on mobile
            if (e.touches && e.touches.length > 0) {
                e.preventDefault();
            }
        }
        var dropdown = document.getElementById('currencyDropdown');
        var selector = document.querySelector('.currency-selector');
        var icon = document.getElementById('currencyDropdownIcon');
        if (dropdown && selector) {
            var isOpen = dropdown.classList.contains('show');
            // Close language dropdown if open
            var langDropdown = document.getElementById('langDropdown');
            if (langDropdown) langDropdown.classList.remove('show');
            var langSelector = document.querySelector('.lang-selector');
            if (langSelector) langSelector.classList.remove('active');
            var langIcon = document.getElementById('langDropdownIcon');
            if (langIcon) langIcon.style.transform = 'rotate(0deg)';

            if (isOpen) {
                dropdown.classList.remove('show');
                selector.classList.remove('active');
                if (icon) icon.style.transform = 'rotate(0deg)';
            } else {
                dropdown.classList.add('show');
                selector.classList.add('active');
                if (icon) icon.style.transform = 'rotate(180deg)';
            }
        }
    }

    function closeCurrencyDropdown() {
        var dropdown = document.getElementById('currencyDropdown');
        var selector = document.querySelector('.currency-selector');
        var icon = document.getElementById('currencyDropdownIcon');
        if (dropdown) dropdown.classList.remove('show');
        if (selector) selector.classList.remove('active');
        if (icon) icon.style.transform = 'rotate(0deg)';
    }

    function selectCurrency(curr, e) {
        if (e) {
            e.preventDefault();
            e.stopPropagation();
        }
        // Update current currency display
        var currencyCurrent = document.getElementById('currencyCurrent');
        if (currencyCurrent) {
            currencyCurrent.textContent = curr.toUpperCase();
        }

        // Remove active class from all dropdown items
        document.querySelectorAll('.currency-dropdown-item').forEach(function (btn) {
            btn.classList.remove('active');
        });

        // Add active class to selected item
        var items = document.querySelectorAll('.currency-dropdown-item');
        items.forEach(function (item) {
            if (item.textContent.trim() === curr.toUpperCase()) {
                item.classList.add('active');
            }
        });

        // Close dropdown
        closeCurrencyDropdown();

        // Update AI Assistant budget label based on currency
        updateAIBudgetLabel(curr);

        // Update currency via existing function
        if (typeof changeCurrency === 'function') {
            changeCurrency(curr);
        }
    }

    // Update AI Assistant budget label based on selected currency
    function updateAIBudgetLabel(currency) {
        var aiBudgetLabel = document.querySelector('label[for="aiBudget"]');
        var aiBudgetInput = document.getElementById('aiBudget');

        if (!aiBudgetLabel || !aiBudgetInput) return;

        // Get current language for "Budjet" word translation
        var currentLang = localStorage.getItem('ketmon_lang') || 'uz';
        var budgetWord = 'Budjet';
        if (currentLang === 'ru') {
            budgetWord = 'Ð‘ÑŽÐ´Ð¶ÐµÑ‚';
        } else if (currentLang === 'en') {
            budgetWord = 'Budget';
        }

        var currencyLabels = {
            'sum': budgetWord + ' (SO\'M)',
            'usd': budgetWord + ' (USD)',
            'rub': budgetWord + ' (RUB)'
        };

        var currencyPlaceholders = {
            'sum': '15000000',
            'usd': '1500',
            'rub': '135000'
        };

        var currencyMinValues = {
            'sum': '1250000',
            'usd': '100',
            'rub': '9000'
        };

        // Update label
        aiBudgetLabel.textContent = currencyLabels[currency] || currencyLabels['usd'];

        // Update placeholder
        if (aiBudgetInput) {
            aiBudgetInput.placeholder = currencyPlaceholders[currency] || currencyPlaceholders['usd'];
            aiBudgetInput.setAttribute('min', currencyMinValues[currency] || currencyMinValues['usd']);
        }
    }

    // Make functions globally accessible
    window.changeCurrency = changeCurrency;
    window.toggleCurrencyDropdown = toggleCurrencyDropdown;
    window.closeCurrencyDropdown = closeCurrencyDropdown;
    window.selectCurrency = selectCurrency;
    window.updateAIBudgetLabel = updateAIBudgetLabel;

    // Close dropdowns when clicking outside
    document.addEventListener('click', function (e) {
        var langSelector = document.querySelector('.lang-selector');
        var langDropdown = document.getElementById('langDropdown');
        var currencySelector = document.querySelector('.currency-selector');
        var currencyDropdown = document.getElementById('currencyDropdown');
        var userAccountSelector = document.querySelector('.user-account-selector');
        var userAccountDropdown = document.getElementById('userAccountDropdown');

        if (langSelector && langDropdown) {
            if (!langSelector.contains(e.target) && langDropdown.classList.contains('show')) {
                closeLangDropdown();
            }
        }

        if (currencySelector && currencyDropdown) {
            if (!currencySelector.contains(e.target) && currencyDropdown.classList.contains('show')) {
                closeCurrencyDropdown();
            }
        }

        if (userAccountSelector && userAccountDropdown) {
            if (!userAccountSelector.contains(e.target) && userAccountDropdown.classList.contains('show')) {
                closeUserAccountDropdown();
            }
        }
    });

    // User Account Dropdown Functions
    function toggleUserAccountDropdown(e) {
        if (e) {
            e.preventDefault();
            e.stopPropagation();
        }
        var dropdown = document.getElementById('userAccountDropdown');
        var selector = document.querySelector('.user-account-selector');
        if (dropdown && selector) {
            var isOpen = dropdown.classList.contains('show');
            // Close other dropdowns if open
            var langDropdown = document.getElementById('langDropdown');
            if (langDropdown) langDropdown.classList.remove('show');
            var langSelector = document.querySelector('.lang-selector');
            if (langSelector) langSelector.classList.remove('active');
            var currencyDropdown = document.getElementById('currencyDropdown');
            if (currencyDropdown) currencyDropdown.classList.remove('show');
            var currencySelector = document.querySelector('.currency-selector');
            if (currencySelector) currencySelector.classList.remove('active');

            if (isOpen) {
                dropdown.classList.remove('show');
                selector.classList.remove('active');
            } else {
                // Show dropdown first, then add show class for animation
                dropdown.style.display = 'flex';
                // Force reflow
                dropdown.offsetHeight;
                // Add show class for animation
                setTimeout(function () {
                    dropdown.classList.add('show');
                    selector.classList.add('active');
                }, 10);
            }
        }
    }

    function closeUserAccountDropdown() {
        var dropdown = document.getElementById('userAccountDropdown');
        var selector = document.querySelector('.user-account-selector');
        if (dropdown) {
            dropdown.classList.remove('show');
            // Hide after animation completes
            setTimeout(function () {
                if (!dropdown.classList.contains('show')) {
                    dropdown.style.display = 'none';
                }
            }, 300);
        }
        if (selector) selector.classList.remove('active');
    }

    // Make functions globally accessible
    window.toggleUserAccountDropdown = toggleUserAccountDropdown;
    window.closeUserAccountDropdown = closeUserAccountDropdown;

    // Init currency on load
    document.addEventListener('DOMContentLoaded', function () {
        initPrices();
        var saved = localStorage.getItem('ketmon_currency') || 'sum';
        changeCurrency(saved);
        // Update display and active state
        var currencyCurrent = document.getElementById('currencyCurrent');
        if (currencyCurrent) currencyCurrent.textContent = saved.toUpperCase();
        var items = document.querySelectorAll('.currency-dropdown-item');
        items.forEach(function (item) {
            item.classList.remove('active');
            if (item.textContent.trim() === saved.toUpperCase()) {
                item.classList.add('active');
            }
        });

        // Update AI Assistant budget label on page load
        if (typeof updateAIBudgetLabel === 'function') {
            updateAIBudgetLabel(saved);
        }
    });
})();

/* Removed mobile navigation toggle */

// Search button interaction
(function () {
    var btn = document.querySelector('.search-btn');
    if (!btn) return;
    btn.addEventListener('click', function () {
        var destination = document.querySelector('[data-placeholder=\"search_destination_placeholder\"]')?.value || '';
        var date = document.querySelector('.search-input input[type=\"date\"]')?.value || '';
        var duration = document.querySelectorAll('.search-input select')[0]?.value || '';
        var guests = document.querySelectorAll('.search-input select')[1]?.value || '';

        // Navigate to destinations
        var dest = document.getElementById('destinations');
        if (dest) {
            const header = document.querySelector('.main-header');
            const headerHeight = header ? header.offsetHeight : 80;
            smoothScrollTo(dest, headerHeight, 600);
        }
    });
})();

// Category Filter Logic
(function () {
    const catBtns = document.querySelectorAll('.category-btn');
    const destGrid = document.querySelector('.destination-grid');

    if (!catBtns.length || !destGrid) return; // Grid might be missing if on wrong page

    catBtns.forEach(btn => {
        btn.addEventListener('click', function () {
            // UI Toggle
            catBtns.forEach(b => b.classList.remove('active'));
            this.classList.add('active');

            const cat = this.getAttribute('data-cat');

            // Clear grid to simulate fresh filter
            destGrid.innerHTML = '';

            // Visual loading
            const loading = document.createElement('div');
            loading.className = 'loading-spinner-grid';
            loading.style.textAlign = 'center';
            loading.style.padding = '20px';
            loading.style.color = '#fff';
            loading.textContent = 'Loading ' + cat + ' tours...';
            destGrid.appendChild(loading);

            setTimeout(() => {
                loading.remove();

                // Repopulate with mock cards
                // We try to find a template or just create generic ones
                // Note: In a real app we would filter the `tourData` array and render.

                for (let i = 0; i < 6; i++) {
                    const card = document.createElement('div');
                    card.className = 'destination-card';
                    card.setAttribute('data-category', cat);
                    card.innerHTML = `
                        <div class="destination-img">
                             <img src="https://images.unsplash.com/photo-1502602898657-3e91760cbb34?auto=format&fit=crop&w=800&q=80" alt="Tour ${i}">
                             <span class="destination-badge">${cat.toUpperCase()}</span>
                        </div>
                        <div class="destination-info">
                            <h3 class="destination-title">${cat.charAt(0).toUpperCase() + cat.slice(1)} Adventure ${i + 1}</h3>
                            <p class="destination-desc">Experience the best of ${cat} travel styles with our premium package.</p>
                            <div class="destination-footer">
                                <div class="price-block">
                                    <div class="price">$${600 + i * 50}</div>
                                </div>
                                <div class="card-buttons">
                                    <a href="#" class="btn-consult">Maslahat</a>
                                    <a href="#paymentModal" class="btn-book">Bron</a>
                                </div>
                            </div>
                        </div>
                    `;
                    // Add click handler for modal
                    card.addEventListener('click', function () {
                        // We can call openModal logic if exposed, or just rely on global delegation if setup
                        // The global delegation is setup on document or grid? 
                        // Check HandleCard below... it's inside a closure. 
                        // But we can trigger a click on a known element or just re-add listener if needed.
                        // Actually, existing logic uses delegated event listener on `grid`?
                    });

                    destGrid.appendChild(card);
                }
            }, 600);
        });
    });
})();

// Tour Modal functionality
(function () {
    var modal = document.getElementById('tourModal');
    var closeBtn = document.getElementById('tourModalClose');
    var titleEl = document.getElementById('tourModalTitle');
    var imgEl = document.getElementById('tourModalImage');
    var descEl = document.getElementById('tourModalDescription');
    var metaEl = document.getElementById('tourModalMeta');
    var bookBtn = document.getElementById('tourBookBtn');

    function openModal() {
        if (!modal) modal = document.getElementById('tourModal');
        modal.classList.add('open');
        document.body.style.overflow = 'hidden';
    }
    function closeModal() {
        modal.classList.remove('open');
        document.body.style.overflow = '';
    }
    if (closeBtn) closeBtn.addEventListener('click', closeModal);
    if (modal) {
        modal.addEventListener('click', function (e) {
            if (e.target === modal) closeModal();
        });
    }
    document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape' && modal.classList.contains('open')) closeModal();
    });

    // Delegated handler so it works for dynamically cloned cards
    function handleCard(card) {
        var titleNode = card.querySelector('.destination-title');
        var descNode = card.querySelector('.destination-desc');
        var priceNode = card.querySelector('.price');
        var badgeNode = card.querySelector('.destination-badge');
        var imgNode = card.querySelector('.destination-img img');

        var title = (titleNode ? titleNode.textContent : 'Tour').trim();
        var desc = (descNode ? descNode.textContent : 'Tour description').trim();
        var price = (priceNode ? priceNode.textContent : '').trim();
        var badge = (badgeNode ? badgeNode.textContent : '').trim();
        var agencyValue = card.getAttribute('data-agency');
        var agencyNameEl = document.querySelector('.agency-card[data-agency="' + agencyValue + '"] h3');
        var agencyName = agencyNameEl ? agencyNameEl.textContent.trim() : '';
        var imgSrc = imgNode ? imgNode.getAttribute('src') : '';

        titleEl.textContent = title;
        descEl.textContent = desc + (price ? ' â€¢ ' + price : '');
        metaEl.innerHTML = '';
        if (badge) {
            var chip = document.createElement('span');
            chip.className = 'meta-chip';
            chip.textContent = badge;
            metaEl.appendChild(chip);
        }
        if (price) {
            var chip2 = document.createElement('span');
            chip2.className = 'meta-chip';
            chip2.textContent = price;
            metaEl.appendChild(chip2);
        }
        if (agencyName) {
            var chip3 = document.createElement('span');
            chip3.className = 'meta-chip';
            chip3.textContent = agencyName;
            metaEl.appendChild(chip3);
        }
        if (imgSrc) {
            imgEl.src = imgSrc;
            imgEl.alt = title + ' image';
        } else {
            imgEl.src = 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=1200&auto=format&fit=crop';
            imgEl.alt = 'Tour image';
        }

        // Booking button opens payment modal
        bookBtn.onclick = function () {
            window.currentTourBooking = {
                title: title,
                price: price,
                description: desc,
                agency: agencyName,
                image: imgSrc || 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=1200&auto=format&fit=crop'
            };
            closeModal();
            var paymentModal = document.getElementById('paymentModal');
            if (paymentModal) {
                var paymentTourName = document.getElementById('paymentTourName');
                var paymentTourPrice = document.getElementById('paymentTourPrice');
                if (paymentTourName) paymentTourName.textContent = title;
                if (paymentTourPrice) paymentTourPrice.textContent = price || 'Narx aniqlanmoqda';
                paymentModal.classList.add('open');
                document.body.style.overflow = 'hidden';
            }
        };

        // Consultation Button Logic
        var consultBtn = document.getElementById('tourConsultBtn');
        if (!consultBtn && bookBtn && bookBtn.parentNode) {
            consultBtn = document.createElement('button');
            consultBtn.id = 'tourConsultBtn';
            consultBtn.className = 'btn-secondary';
            consultBtn.setAttribute('data-text', 'tour_consult_btn');

            // Set initial text based on current language
            var currentLang = localStorage.getItem('ketmon_lang') || 'uz';
            if (window.i18n && window.i18n[currentLang]) {
                consultBtn.textContent = window.i18n[currentLang].tour_consult_btn;
            } else {
                consultBtn.textContent = 'Maslahat olish';
            }

            consultBtn.style.marginRight = '10px';
            // Insert before book button
            bookBtn.parentNode.insertBefore(consultBtn, bookBtn);
        }

        if (consultBtn) {
            consultBtn.onclick = function () {
                closeModal();
                if (window.openChatbot) {
                    window.openChatbot('agency', {
                        agencyName: agencyName,
                        tourTitle: title
                    });
                }
            };
        }

        openModal();
    }

    var destGrid = document.querySelector('.destinations .destination-grid');
    if (destGrid) {
        destGrid.addEventListener('click', function (e) {
            var card = e.target.closest('.destination-card');
            if (!card || !destGrid.contains(card)) return;
            handleCard(card);
        });
    }
})();

/* Repeat "Popular Destinations" horizontally on demand so users can keep scrolling on mobile */
(function () {
    var grid = document.querySelector('.destinations .destination-grid');
    if (!grid) return;
    var originals = Array.prototype.slice.call(grid.querySelectorAll('.destination-card'));
    if (!originals.length) return;

    function appendBatch() {
        var frag = document.createDocumentFragment();
        for (var i = 0; i < originals.length; i++) {
            frag.appendChild(originals[i].cloneNode(true));
        }
        grid.appendChild(frag);
    }

    function ensureLength() {
        var rounds = 0;
        while (grid.scrollWidth < grid.clientWidth * 3 && rounds < 4) {
            appendBatch();
            rounds++;
        }
    }

    function maybeExtend() {
        var remaining = grid.scrollWidth - (grid.scrollLeft + grid.clientWidth);
        if (remaining < 80) {
            appendBatch();
        }
    }

    function enable() {
        ensureLength();
        // Throttled scroll listener
        var ticking = false;
        grid.addEventListener('scroll', function () {
            if (!ticking) {
                window.requestAnimationFrame(function () {
                    maybeExtend();
                    ticking = false;
                });
                ticking = true;
            }
        }, { passive: true });
    }

    if (document.readyState === 'complete' || document.readyState === 'interactive') {
        enable();
    } else {
        document.addEventListener('DOMContentLoaded', enable);
    }
    window.addEventListener('resize', ensureLength);
})();

// Manual scroll handling removed to strictly use CSS scroll-snap


// Agency filter interactions
(function () {
    var agencySelect = document.getElementById('agencyFilter');
    var tourCards = Array.from(document.querySelectorAll('.destination-card'));
    var agencyTypeButtons = Array.from(document.querySelectorAll('.agency-toolbar button'));
    var currentAgency = 'all';
    var currentType = 'all';

    function syncToolbar() {
        agencyTypeButtons.forEach(function (btn) {
            btn.classList.toggle('active', (btn.getAttribute('data-filter') || 'all') === currentType);
        });
    }

    function applyFilter() {
        // Filter tours
        tourCards.forEach(function (card) {
            var agency = card.getAttribute('data-agency');
            var type = card.getAttribute('data-type') || 'all';
            var agencyMatch = currentAgency === 'all' || agency === currentAgency;
            var typeMatch = currentType === 'all' || type === currentType;
            var shouldShow = agencyMatch && typeMatch;
            card.classList.toggle('hidden', !shouldShow);
        });

        // Filter agencies (query current cards to include any clones)
        var allAgencyCards = Array.from(document.querySelectorAll('.agency-card'));
        allAgencyCards.forEach(function (card) {
            var agency = card.getAttribute('data-agency');
            var type = card.getAttribute('data-type') || 'all';
            var typeAllowed = currentType === 'all' || type === currentType;
            var agencyMatch = currentAgency === 'all' || agency === currentAgency;
            var shouldShow = typeAllowed && (currentAgency === 'all' || agencyMatch);
            card.classList.toggle('hidden', !shouldShow);
            card.classList.toggle('active', agencyMatch);
        });
    }

    if (agencySelect) {
        agencySelect.addEventListener('change', function () {
            currentAgency = agencySelect.value || 'all';
            applyFilter();
        });
        currentAgency = agencySelect.value || 'all';
    }

    agencyTypeButtons.forEach(function (btn) {
        btn.addEventListener('click', function () {
            currentType = btn.getAttribute('data-filter') || 'all';
            currentAgency = 'all';
            if (agencySelect) agencySelect.value = 'all';
            syncToolbar();
            applyFilter();
        });
    });

    // Per-card click for existing cards (kept)
    Array.from(document.querySelectorAll('.agency-card')).forEach(function (card) {
        card.addEventListener('click', function () {
            var value = card.getAttribute('data-agency');
            var type = card.getAttribute('data-type') || 'all';
            currentAgency = value;
            currentType = type;
            if (agencySelect) {
                agencySelect.value = value;
            }
            syncToolbar();
            applyFilter();
            var destEl = document.getElementById('destinations');
            if (destEl) {
                const header = document.querySelector('.main-header');
                const headerHeight = header ? header.offsetHeight : 80;
                smoothScrollTo(destEl, headerHeight, 600);
            }
        });
    });

    // Delegated click so cloned cards behave the same
    var agencyGrid = document.querySelector('.agency-section .agency-grid');
    if (agencyGrid) {
        agencyGrid.addEventListener('click', function (e) {
            var card = e.target.closest('.agency-card');
            if (!card || !agencyGrid.contains(card)) return;
            var value = card.getAttribute('data-agency');
            var type = card.getAttribute('data-type') || 'all';
            currentAgency = value;
            currentType = type;
            if (agencySelect) agencySelect.value = value;
            syncToolbar();
            applyFilter();
            var destEl = document.getElementById('destinations');
            if (destEl) {
                const header = document.querySelector('.main-header');
                const headerHeight = header ? header.offsetHeight : 80;
                smoothScrollTo(destEl, headerHeight, 600);
            }
        });
    }

    // Initialize filter state
    if (agencyTypeButtons.length) {
        var defaultBtn = agencyTypeButtons.find(function (btn) { return btn.classList.contains('active'); }) || agencyTypeButtons[0];
        currentType = defaultBtn ? defaultBtn.getAttribute('data-filter') || 'all' : 'all';
        syncToolbar();
    }
    applyFilter();
})();

/* Infinite horizontal scroll for Agency grid (Hamkor Agentliklar) */
(function () {
    var grid = document.querySelector('.agency-section .agency-grid');
    if (!grid) return;
    var originals = Array.prototype.slice.call(grid.querySelectorAll('.agency-card'));
    if (!originals.length) return;

    function appendBatch() {
        var frag = document.createDocumentFragment();
        for (var i = 0; i < originals.length; i++) {
            frag.appendChild(originals[i].cloneNode(true));
        }
        grid.appendChild(frag);
    }

    function ensureLength() {
        var rounds = 0;
        while (grid.scrollWidth < grid.clientWidth * 3 && rounds < 4) {
            appendBatch();
            rounds++;
        }
    }

    function maybeExtend() {
        var remaining = grid.scrollWidth - (grid.scrollLeft + grid.clientWidth);
        if (remaining < 80) appendBatch();
    }

    function enable() {
        ensureLength();
        // Throttled scroll listener
        var ticking = false;
        grid.addEventListener('scroll', function () {
            if (!ticking) {
                window.requestAnimationFrame(function () {
                    maybeExtend();
                    ticking = false;
                });
                ticking = true;
            }
        }, { passive: true });
    }

    if (document.readyState === 'complete' || document.readyState === 'interactive') {
        enable();
    } else {
        document.addEventListener('DOMContentLoaded', enable);
    }
    window.addEventListener('resize', ensureLength);
})();

// Payment Modal functionality
// Payment Modal functionality
(function () {
    var paymentModal = document.getElementById('paymentModal');
    var paymentCloseBtn = document.getElementById('paymentModalClose');
    var paymentCancelBtn = document.getElementById('paymentCancel');
    var paymentForm = document.getElementById('paymentForm');
    var cardNumberInput = document.getElementById('paymentCardNumber');
    var expiryInput = document.getElementById('paymentExpiry');
    var cvvInput = document.getElementById('paymentCVV');

    function openPaymentModal(tourName, tourPrice) {
        // Populate tour details if provided
        if (tourName && tourPrice) {
            var tourNameEl = document.getElementById('paymentTourName');
            var tourPriceEl = document.getElementById('paymentTourPrice');

            if (tourNameEl) {
                tourNameEl.textContent = tourName;
            }
            if (tourPriceEl) {
                tourPriceEl.textContent = 'Narx: ' + tourPrice;
            }

            // Store tour info for form submission
            window.currentTourBooking = {
                name: tourName,
                price: tourPrice
            };
        }

        paymentModal.classList.add('open');
        document.body.style.overflow = 'hidden';
    }

    function closePaymentModal() {
        paymentModal.classList.remove('open');
        document.body.style.overflow = '';
        paymentForm.reset();
    }

    // Close handlers
    if (paymentCloseBtn) {
        paymentCloseBtn.addEventListener('click', closePaymentModal);
    }
    if (paymentCancelBtn) {
        paymentCancelBtn.addEventListener('click', closePaymentModal);
    }
    if (paymentModal) {
        paymentModal.addEventListener('click', function (e) {
            if (e.target === paymentModal) closePaymentModal();
        });
    }
    document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape' && paymentModal.classList.contains('open')) {
            closePaymentModal();
        }
    });

    // Format card number (add spaces every 4 digits)
    if (cardNumberInput) {
        cardNumberInput.addEventListener('input', function (e) {
            var value = e.target.value.replace(/\s/g, '');
            var formatted = value.match(/.{1,4}/g)?.join(' ') || value;
            e.target.value = formatted;
        });
    }

    // Format expiry date (MM/YY)
    if (expiryInput) {
        expiryInput.addEventListener('input', function (e) {
            var value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
            e.target.value = value;
        });
    }

    // Only allow numbers for CVV
    if (cvvInput) {
        cvvInput.addEventListener('input', function (e) {
            e.target.value = e.target.value.replace(/\D/g, '');
        });
    }

    // Handle form submission
    // Payment method selection handler
    var paymentMethodInputs = document.querySelectorAll('input[name="paymentMethod"]');
    var paymentCardFields = document.getElementById('paymentCardFields');
    var paymentCardNumberField = document.getElementById('paymentCardNumber');

    function togglePaymentFields(method) {
        var paymentExpiryField = document.getElementById('paymentExpiry');
        var paymentCVVField = document.getElementById('paymentCVV');

        if (method === 'installment') {
            // For installment payment, show only card number, hide CVV and expiry
            if (paymentCardFields) {
                paymentCardFields.style.display = 'none';
            }
            if (paymentCardNumberField) {
                paymentCardNumberField.setAttribute('required', 'required');
            }
            // Remove required from CVV and expiry for installment
            if (paymentExpiryField) {
                paymentExpiryField.removeAttribute('required');
                paymentExpiryField.value = ''; // Clear value
            }
            if (paymentCVVField) {
                paymentCVVField.removeAttribute('required');
                paymentCVVField.value = ''; // Clear value
            }
            // Update submit button text
            var submitBtn = paymentForm.querySelector('button[type="submit"]');
            if (submitBtn) {
                submitBtn.textContent = 'Bo\'lib to\'lashni boshlash';
            }
        } else {
            // For full payment, show all card fields and make them required
            if (paymentCardFields) {
                paymentCardFields.style.display = 'grid';
            }
            if (paymentCardNumberField) {
                paymentCardNumberField.setAttribute('required', 'required');
            }
            if (paymentExpiryField) {
                paymentExpiryField.setAttribute('required', 'required');
            }
            if (paymentCVVField) {
                paymentCVVField.setAttribute('required', 'required');
            }
            // Update submit button text
            var submitBtn = paymentForm.querySelector('button[type="submit"]');
            if (submitBtn) {
                submitBtn.textContent = 'To\'lovni amalga oshirish';
            }
        }
    }

    // Add event listeners to payment method radio buttons
    if (paymentMethodInputs.length > 0) {
        paymentMethodInputs.forEach(function (radio) {
            radio.addEventListener('change', function () {
                togglePaymentFields(this.value);
            });
        });

        // Initialize on page load
        var selectedMethod = document.querySelector('input[name="paymentMethod"]:checked');
        if (selectedMethod) {
            togglePaymentFields(selectedMethod.value);
        }
    }

    if (paymentForm) {
        paymentForm.addEventListener('submit', function (e) {
            e.preventDefault();

            // Get selected payment method
            var paymentMethod = document.querySelector('input[name="paymentMethod"]:checked')?.value || 'full';

            // Get form data
            var formData = {
                name: document.getElementById('paymentName').value,
                email: document.getElementById('paymentEmail').value,
                phone: document.getElementById('paymentPhone').value,
                paymentMethod: paymentMethod,
                cardNumber: document.getElementById('paymentCardNumber').value.replace(/\s/g, ''),
                expiry: paymentMethod === 'full' ? document.getElementById('paymentExpiry').value : '',
                cvv: paymentMethod === 'full' ? document.getElementById('paymentCVV').value : '',
                address: document.getElementById('paymentAddress').value,
                tour: window.currentTourBooking || {}
            };



            // Simulate payment processing
            var submitBtn = paymentForm.querySelector('button[type="submit"]');
            var originalText = submitBtn.textContent;
            submitBtn.textContent = 'To\'lov amalga oshirilmoqda...';
            submitBtn.disabled = true;

            // Simulate API call
            setTimeout(function () {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;

                // Show success message based on payment method
                var successMessage = paymentMethod === 'installment'
                    ? 'Bo\'lib to\'lash muvaffaqiyatli boshlandi! Batafsil ma\'lumot telefon orqali yuboriladi.'
                    : 'To\'lov muvaffaqiyatli amalga oshirildi! Batafsil ma\'lumot email orqali yuboriladi.';
                alert(successMessage);

                // Close modal and reset form
                closePaymentModal();

                // Optional: Redirect or show confirmation
                // window.location.href = '/confirmation';
            }, 2000);
        });
    }

    // Make openPaymentModal available globally if needed
    window.openPaymentModal = openPaymentModal;
    window.closePaymentModal = closePaymentModal;
})();

// Chatbot functionality
(function () {
    var chatbotContainer = document.getElementById('chatbotContainer');
    var chatbotWindow = document.getElementById('chatbotWindow');
    var chatbotToggle = document.getElementById('chatbotToggle');
    var chatbotClose = document.getElementById('chatbotClose');
    var chatbotMessages = document.getElementById('chatbotMessages');
    var chatbotInput = document.getElementById('chatbotInput');
    var chatbotSend = document.getElementById('chatbotSend');

    function openChatbot(tourName, tourPrice) {
        if (chatbotContainer) {
            chatbotContainer.classList.add('active');

            // If tour details provided, send initial message
            if (tourName && tourPrice) {
                setTimeout(function () {
                    addBotMessage('Siz "' + tourName + '" turi haqida so\'radingiz. Narxi: ' + tourPrice + '. Qanday yordam bera olaman?');
                }, 500);
            }

            // Focus input
            if (chatbotInput) {
                chatbotInput.focus();
            }
        }
    }

    function closeChatbot() {
        if (chatbotContainer) {
            chatbotContainer.classList.remove('active');
        }
    }

    function addUserMessage(message) {
        if (!chatbotMessages || !message.trim()) return;

        var messageDiv = document.createElement('div');
        messageDiv.className = 'chatbot-message user-message';
        messageDiv.innerHTML = '<div class="message-content"><p>' + escapeHtml(message) + '</p></div>';
        chatbotMessages.appendChild(messageDiv);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    }

    function addBotMessage(message) {
        if (!chatbotMessages || !message.trim()) return;

        var messageDiv = document.createElement('div');
        messageDiv.className = 'chatbot-message bot-message';
        messageDiv.innerHTML = '<div class="message-content"><p>' + escapeHtml(message) + '</p></div>';
        chatbotMessages.appendChild(messageDiv);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    }

    function escapeHtml(text) {
        var div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    function sendMessage() {
        if (!chatbotInput) return;

        var message = chatbotInput.value.trim();
        if (!message) return;

        // Add user message
        addUserMessage(message);
        chatbotInput.value = '';

        // Simulate bot response
        setTimeout(function () {
            var responses = [
                'Rahmat! Sizning so\'rovingiz qabul qilindi. Tez orada mutaxassisimiz siz bilan bog\'lanadi.',
                'Bu tur haqida ko\'proq ma\'lumot olish uchun +998 93 301 52 18 raqamiga qo\'ng\'iroq qiling.',
                'Bron qilish uchun "Bron" tugmasini bosing yoki bizga qo\'ng\'iroq qiling.',
                'Sizga yordam berishdan mamnunman! Yana savollaringiz bormi?'
            ];
            var randomResponse = responses[Math.floor(Math.random() * responses.length)];
            addBotMessage(randomResponse);
        }, 1000);
    }

    // Event listeners
    if (chatbotToggle) {
        chatbotToggle.addEventListener('click', function () {
            openChatbot();
        });
    }

    if (chatbotClose) {
        chatbotClose.addEventListener('click', closeChatbot);
    }

    if (chatbotSend) {
        chatbotSend.addEventListener('click', sendMessage);
    }

    if (chatbotInput) {
        chatbotInput.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    }

    // Make functions globally available
    window.openChatbot = openChatbot;
    window.closeChatbot = closeChatbot;
})();

// Header CTAs interactions
(function () {
    var book = document.querySelector('header [data-text=\"nav_book\"]');

    if (book) book.addEventListener('click', function (e) {
        // Scroll to search section as a booking entry point
        var anchor = document.getElementById('search');
        if (anchor) {
            e.preventDefault();
            const header = document.querySelector('.main-header');
            const headerHeight = header ? header.offsetHeight : 80;
            smoothScrollTo(anchor, headerHeight, 600);
        }
    });
    // Open login/register modals
    var loginModal = document.getElementById('loginModal');
    var registerModal = document.getElementById('registerModal');
    function open(el) { el.classList.add('open'); document.body.style.overflow = 'hidden'; }
    function close(el) { el.classList.remove('open'); document.body.style.overflow = ''; }

    // Update header actions according to auth state
    function updateHeaderAuth() {
        var acc = document.getElementById('accountLink');
        var logoutBtn = document.getElementById('logoutBtn');
        var loginBtn = document.getElementById('topBarLoginBtn');
        var regBtn = document.getElementById('topBarRegisterBtn');
        // Mobile menu buttons
        var mobileAcc = document.getElementById('mobileAccountLink');
        var mobileLogoutBtn = document.getElementById('mobileLogoutBtn');
        var mobileLoginBtn = document.getElementById('mobileLoginBtn');
        var mobileRegBtn = document.getElementById('mobileRegisterBtn');
        // User account dropdown buttons
        var userAcc = document.getElementById('userAccountLink');
        var userLogoutBtn = document.getElementById('userAccountLogoutBtn');
        var userLoginBtn = document.getElementById('userAccountLoginBtn');
        var userRegBtn = document.getElementById('userAccountRegisterBtn');
        var user = null;
        try { user = JSON.parse(localStorage.getItem('ketmon_user') || 'null'); } catch (e) { }
        if (user && (user.name || user.email)) {
            if (acc) {
                acc.style.display = 'inline-flex';
                acc.textContent = user.name ? (user.name.split(' ')[0]) : 'Profil';
            }
            if (logoutBtn) logoutBtn.style.display = 'inline-flex';
            if (loginBtn) loginBtn.style.display = 'none';
            if (regBtn) regBtn.style.display = 'none';
            // Update mobile menu
            if (mobileAcc) {
                mobileAcc.style.display = 'block';
                mobileAcc.textContent = user.name ? (user.name.split(' ')[0]) : 'Profil';
            }
            if (mobileLogoutBtn) mobileLogoutBtn.style.display = 'block';
            if (mobileLoginBtn) mobileLoginBtn.style.display = 'none';
            if (mobileRegBtn) mobileRegBtn.style.display = 'none';
            // Update user account dropdown
            if (userAcc) {
                userAcc.style.display = 'block';
                userAcc.textContent = user.name ? (user.name.split(' ')[0]) : 'Profil';
            }
            if (userLogoutBtn) userLogoutBtn.style.display = 'block';
            if (userLoginBtn) userLoginBtn.style.display = 'none';
            if (userRegBtn) userRegBtn.style.display = 'none';
        } else {
            if (acc) acc.style.display = 'none';
            if (logoutBtn) logoutBtn.style.display = 'none';
            if (loginBtn) loginBtn.style.display = '';
            if (regBtn) regBtn.style.display = '';
            // Update mobile menu
            if (mobileAcc) mobileAcc.style.display = 'none';
            if (mobileLogoutBtn) mobileLogoutBtn.style.display = 'none';
            if (mobileLoginBtn) mobileLoginBtn.style.display = 'block';
            if (mobileRegBtn) mobileRegBtn.style.display = 'block';
            // Update user account dropdown
            if (userAcc) userAcc.style.display = 'none';
            if (userLogoutBtn) userLogoutBtn.style.display = 'none';
            if (userLoginBtn) userLoginBtn.style.display = 'block';
            if (userRegBtn) userRegBtn.style.display = 'block';
        }
    }

    // Logout function - clears auth data and updates header
    window.logout = function () {
        try {
            localStorage.removeItem('ketmon_user');
            localStorage.removeItem('ketmon_token');
            localStorage.removeItem('ketmon_avatar');
            localStorage.removeItem('ketmon_agency');
        } catch (e) {
            console.error('Logout error:', e);
        }
        updateHeaderAuth();
        // If on profile page, redirect to home
        if (window.location.pathname.includes('profile.html')) {
            window.location.href = 'index.html';
        }
    };
    document.addEventListener('DOMContentLoaded', updateHeaderAuth);
    updateHeaderAuth();

    // Add event listeners to all login/register buttons (top bar only)
    var topBarLoginBtn = document.getElementById('topBarLoginBtn');
    var topBarRegisterBtn = document.getElementById('topBarRegisterBtn');

    // Note: topBarLoginBtn handler will be updated later to include saved account functionality
    if (topBarLoginBtn) {
        topBarLoginBtn.addEventListener('click', function (e) { e.preventDefault(); open(loginModal); });
    }
    if (topBarRegisterBtn) {
        topBarRegisterBtn.addEventListener('click', function (e) { e.preventDefault(); open(registerModal); });
    }

    // Mobile menu login/register buttons
    var mobileLoginBtn = document.getElementById('mobileLoginBtn');
    var mobileRegisterBtn = document.getElementById('mobileRegisterBtn');
    if (mobileLoginBtn) {
        mobileLoginBtn.addEventListener('click', function (e) { e.preventDefault(); open(loginModal); });
    }
    if (mobileRegisterBtn) {
        mobileRegisterBtn.addEventListener('click', function (e) { e.preventDefault(); open(registerModal); });
    }

    // User account dropdown login/register buttons
    var userAccountLoginBtn = document.getElementById('userAccountLoginBtn');
    var userAccountRegisterBtn = document.getElementById('userAccountRegisterBtn');
    var loginModal = document.getElementById('loginModal');
    var registerModal = document.getElementById('registerModal');

    if (userAccountLoginBtn) {
        userAccountLoginBtn.addEventListener('click', function (e) {
            e.preventDefault();
            e.stopPropagation();
            closeUserAccountDropdown();
            if (loginModal) {
                setTimeout(function () {
                    loginModal.classList.add('open');
                    document.body.style.overflow = 'hidden';
                }, 100);
            }
        });
    }
    if (userAccountRegisterBtn) {
        userAccountRegisterBtn.addEventListener('click', function (e) {
            e.preventDefault();
            e.stopPropagation();
            closeUserAccountDropdown();
            if (registerModal) {
                setTimeout(function () {
                    registerModal.classList.add('open');
                    document.body.style.overflow = 'hidden';
                }, 100);
            }
        });
    }

    const hamburgerBtn = document.getElementById('hamburgerBtn');
    if (hamburgerBtn) {
        hamburgerBtn.addEventListener('click', function (e) {
            e.preventDefault();
            e.stopPropagation();
            var mobileNav = document.getElementById('mobileNav');
            if (mobileNav) {
                var isOpen = mobileNav.classList.contains('open');
                if (isOpen) {
                    // Close menu
                    mobileNav.classList.remove('open');
                    mobileNav.setAttribute('aria-hidden', 'true');
                    hamburgerBtn.classList.remove('active');
                    document.body.style.overflow = '';
                } else {
                    // Open menu
                    mobileNav.classList.add('open');
                    mobileNav.setAttribute('aria-hidden', 'false');
                    hamburgerBtn.classList.add('active');
                    document.body.style.overflow = 'hidden';
                    // adjust panel top to match header height
                    // var panel = mobileNav.querySelector('.mobile-nav-panel');
                    // try {
                    //     var hdr = document.querySelector('.main-header');
                    //     if (panel && hdr) panel.style.top = (hdr.offsetHeight || 64) + 'px';
                    // } catch (e) {}
                }
            }
        });
    }

    // Hamburger menu toggle functions
    // window.toggleMobileMenu = function(e) {
    //     if (e) {
    //         e.preventDefault();
    //         e.stopPropagation();
    //     }
    //     var mobileNav = document.getElementById('mobileNav');
    //     var hamburgerBtn = document.getElementById('hamburgerBtn');
    //     if (mobileNav && hamburgerBtn) {
    //         var isOpen = mobileNav.classList.contains('open');
    //         if (isOpen) {
    //             // Close menu
    //             mobileNav.classList.remove('open');
    //             mobileNav.setAttribute('aria-hidden', 'true');
    //             hamburgerBtn.classList.remove('active');
    //             document.body.style.overflow = '';
    //             // Remove backdrop
    //             setTimeout(function() {
    //                 if (!mobileNav.classList.contains('open')) {
    //                     mobileNav.style.display = 'none';
    //                 }
    //             }, 300);
    //         } else {
    //             // Open menu
    //             mobileNav.style.display = 'block';
    //             setTimeout(function() {
    //                 mobileNav.classList.add('open');
    //                 mobileNav.setAttribute('aria-hidden', 'false');
    //                 hamburgerBtn.classList.add('active');
    //                 document.body.style.overflow = 'hidden';
    //             }, 10);
    //         }
    //     }
    // };

    // window.closeMobileMenu = function() {
    //     var mobileNav = document.getElementById('mobileNav');
    //     var hamburgerBtn = document.getElementById('hamburgerBtn');
    //     if (mobileNav && hamburgerBtn) {
    //         mobileNav.classList.remove('open');
    //         mobileNav.setAttribute('aria-hidden', 'true');
    //         hamburgerBtn.classList.remove('active');
    //         document.body.style.overflow = '';
    //         // Remove backdrop after animation
    //         setTimeout(function() {
    //             if (!mobileNav.classList.contains('open')) {
    //                 mobileNav.style.display = 'none';
    //             }
    //         }, 300);
    //     }
    // };

    // // Close mobile menu when clicking on backdrop or outside
    // document.addEventListener('click', function(e) {
    //     var mobileNav = document.getElementById('mobileNav');
    //     var hamburgerBtn = document.getElementById('hamburgerBtn');
    //     var mobileNavList = mobileNav && mobileNav.querySelector('.mobile-nav-list');
    //     if (mobileNav && hamburgerBtn && mobileNav.classList.contains('open')) {
    //         // Close if clicking on backdrop (mobile-nav but not on the list) or outside
    //         if (mobileNav === e.target || (!mobileNavList.contains(e.target) && !hamburgerBtn.contains(e.target))) {
    //             window.closeMobileMenu();
    //         }
    //     }
    // });

    // // Add touch event listener for hamburger button (mobile support)
    // document.addEventListener('DOMContentLoaded', function() {
    //     var hamburgerBtn = document.getElementById('hamburgerBtn');
    //     if (hamburgerBtn) {
    //         // Use click event instead of touchstart to avoid conflicts
    //         hamburgerBtn.addEventListener('click', function(e) {
    //             e.preventDefault();
    //             e.stopPropagation();
    //             window.toggleMobileMenu(e);
    //         });
    //     }
    // });

    // Mobile menu toggle: clone desktop nav into mobile panel and handle open/close
    var mobileToggle = document.getElementById('mobileMenuToggle');
    var mobileNav = document.getElementById('mobileNav');
    var mobileNavList = mobileNav && mobileNav.querySelector('.mobile-nav-list');

    function closeMobileNav() {
        if (mobileNav) {
            document.body.style.overflow = '';
            if (mobileToggle) mobileToggle.classList.remove('active');
            mobileNav.classList.remove('open');
            mobileNav.setAttribute('aria-hidden', 'true');
            if (mobileToggle) mobileToggle.setAttribute('aria-expanded', 'false');
            // allow body scroll again
            document.body.classList.remove('no-scroll');
        }
    }

    function openMobileNav() {
        if (mobileNav) {
            mobileNav.classList.add('open');
            mobileNav.setAttribute('aria-hidden', 'false');
            if (mobileToggle) mobileToggle.setAttribute('aria-expanded', 'true');
            // prevent page scroll while menu is open
            document.body.classList.add('no-scroll');
            // adjust panel top to match header height
            var panel = mobileNav.querySelector('.mobile-nav-panel');
            try {
                var hdr = document.querySelector('.main-header');
                if (panel && hdr) panel.style.top = (hdr.offsetHeight || 64) + 'px';
            } catch (e) { }
        }
    }

    function toggleMobileNav(e) {
        if (!mobileNav) return;
        var isOpen = mobileNav.classList.contains('open');
        if (isOpen) closeMobileNav(); else openMobileNav();
    }

    if (mobileToggle && mobileNavList) {
        // Generate mobile nav links from desktop nav
        var desktopNav = document.querySelector('.desktop-nav ul');
        if (desktopNav) {
            mobileNavList.innerHTML = desktopNav.innerHTML;
            // Remove any tooltips or desktop-specific attributes
            mobileNavList.querySelectorAll('[data-text]').forEach(function (el) { el.removeAttribute('data-text'); });
        }
        mobileToggle.addEventListener('click', function (e) {
            e.stopPropagation(); toggleMobileNav(e);
            mobileToggle.setAttribute('aria-expanded', mobileNav.classList.contains('open') ? 'true' : 'false');
        });

        // Backdrop click closes menu
        var mobileNavBackdrop = document.querySelector('.mobile-nav-backdrop');
        if (mobileNavBackdrop) {
            mobileNavBackdrop.addEventListener('click', function () { closeMobileNav(); });
        }

        // Close mobile nav when clicking a nav link
        mobileNavList.addEventListener('click', function (e) {
            var a = e.target.closest('a');
            if (a) { closeMobileNav(); }
        });

        // Close when clicking outside
        document.addEventListener('click', function (e) {
            if (!mobileNav.contains(e.target) && !mobileToggle.contains(e.target)) {
                closeMobileNav();
            }
        });

        // Close on resize to larger screens
        window.addEventListener('resize', function () {
            if (window.innerWidth > 768) closeMobileNav();
            // Also refresh panel top when resizing
            var panel = mobileNav && mobileNav.querySelector('.mobile-nav-panel');
            var hdr = document.querySelector('.main-header');
            try { if (panel && hdr) panel.style.top = (hdr.offsetHeight || 64) + 'px'; } catch (e) { }
        });

        // Close with ESC
        document.addEventListener('keydown', function (e) { if (e.key === 'Escape') closeMobileNav(); });
    }

    // Expose a friendly alias used by inline onclick attributes
    window.closeMobileMenu = function () { closeMobileNav(); };

    // Close buttons and backdrop clicks
    document.getElementById('loginModalClose').addEventListener('click', function () { close(loginModal); });
    document.getElementById('registerModalClose').addEventListener('click', function () { close(registerModal); });
    loginModal.addEventListener('click', function (e) { if (e.target === loginModal) close(loginModal); });
    registerModal.addEventListener('click', function (e) { if (e.target === registerModal) close(registerModal); });

    // License Modal
    var licenseModal = document.getElementById('licenseModal');
    var licenseData = {
        'atlas': {
            name: 'Atlas Travel',
            number: 'UZ-TA-2021-AT-001234',
            issued: '2021-03-15',
            expires: '2026-03-15',
            authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
        },
        'samarqand': {
            name: 'Samarqand Tours',
            number: 'UZ-TA-2019-ST-005678',
            issued: '2019-06-20',
            expires: '2024-06-20',
            authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
        },
        'nomad': {
            name: 'Nomad Explorer',
            number: 'UZ-TA-2020-NE-003456',
            issued: '2020-09-10',
            expires: '2025-09-10',
            authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
        },
        'clubtravel': {
            name: 'ClubTravel UZ',
            number: 'UZ-TA-2018-CT-007890',
            issued: '2018-11-25',
            expires: '2023-11-25',
            authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
        },
        'silk': {
            name: 'Silk Road Elite',
            number: 'UZ-TA-2022-SR-009012',
            issued: '2022-01-18',
            expires: '2027-01-18',
            authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
        },
        'azialux': {
            name: 'AziaLux Travel',
            number: 'UZ-TA-2021-AL-004567',
            issued: '2021-05-12',
            expires: '2026-05-12',
            authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
        },
        'globalvoyage': {
            name: 'Global Voyage Hub',
            number: 'UZ-TA-2020-GV-008901',
            issued: '2020-08-30',
            expires: '2025-08-30',
            authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
        }
    };

    window.showLicense = function (agencyId) {
        var data = licenseData[agencyId];
        if (!data) return;

        document.getElementById('licenseAgencyName').textContent = data.name;
        document.getElementById('licenseNumber').textContent = data.number;
        document.getElementById('licenseIssued').textContent = data.issued;
        document.getElementById('licenseExpires').textContent = data.expires;
        document.getElementById('licenseAuthority').textContent = data.authority;

        // Apply translations
        var lang = localStorage.getItem('ketmon_lang') || 'uz';
        var dict = window.i18n && window.i18n[lang] || {};

        // Apply translations to all license modal elements
        var titleEl = document.getElementById('licenseModalTitle');
        if (titleEl && dict.license_title) titleEl.textContent = dict.license_title;

        document.querySelectorAll('[data-text^="license_"]').forEach(function (el) {
            var key = el.getAttribute('data-text');
            if (key && dict[key] !== undefined) {
                el.textContent = dict[key];
            }
        });

        open(licenseModal);
    };

    document.getElementById('licenseModalClose').addEventListener('click', function () { close(licenseModal); });
    licenseModal.addEventListener('click', function (e) { if (e.target === licenseModal) close(licenseModal); });

    // All Destinations Modal
    var allDestinationsModal = document.getElementById('allDestinationsModal');
    var allDestinationsGrid = document.getElementById('allDestinationsGrid');

    window.showAllDestinations = function () {
        // Clear previous content
        allDestinationsGrid.innerHTML = '';

        // Get all destination cards from the page
        var destinationCards = document.querySelectorAll('.destination-card');

        // Clone and add each destination card to the modal
        destinationCards.forEach(function (card) {
            var clonedCard = card.cloneNode(true);
            allDestinationsGrid.appendChild(clonedCard);
        });

        // Apply translations
        var lang = localStorage.getItem('ketmon_lang') || 'uz';
        var dict = window.i18n && window.i18n[lang] || {};
        if (dict.destinations_title) {
            document.getElementById('allDestinationsModalTitle').textContent = dict.destinations_title;
        }

        // Apply translations to cloned cards
        if (window.applyTranslations) {
            window.applyTranslations(lang);
        }

        open(allDestinationsModal);
    };

    document.getElementById('allDestinationsModalClose').addEventListener('click', function () { close(allDestinationsModal); });
    allDestinationsModal.addEventListener('click', function (e) { if (e.target === allDestinationsModal) close(allDestinationsModal); });

    // All Agencies Modal
    var allAgenciesModal = document.getElementById('allAgenciesModal');
    var allAgenciesGrid = document.getElementById('allAgenciesGrid');

    window.showAllAgencies = function () {
        // Clear previous content
        allAgenciesGrid.innerHTML = '';

        // Get all agency cards from the page
        var agencyCards = document.querySelectorAll('.agency-card');

        // Clone and add each agency card to the modal
        agencyCards.forEach(function (card) {
            var clonedCard = card.cloneNode(true);
            allAgenciesGrid.appendChild(clonedCard);
        });

        // Apply translations
        var lang = localStorage.getItem('ketmon_lang') || 'uz';
        var dict = window.i18n && window.i18n[lang] || {};
        if (dict.agency_section_title) {
            document.getElementById('allAgenciesModalTitle').textContent = dict.agency_section_title;
        }

        // Apply translations to cloned cards
        if (window.applyTranslations) {
            window.applyTranslations(lang);
        }

        open(allAgenciesModal);
    };

    document.getElementById('allAgenciesModalClose').addEventListener('click', function () { close(allAgenciesModal); });
    allAgenciesModal.addEventListener('click', function (e) { if (e.target === allAgenciesModal) close(allAgenciesModal); });

    // Saved account functionality
    function loadSavedAccount() {
        var savedAccount = localStorage.getItem('ketmon_saved_account');
        var savedAccountDisplay = document.getElementById('savedAccountDisplay');
        var loginFormFields = document.getElementById('loginFormFields');
        var savedAccountEmail = document.getElementById('savedAccountEmail');

        if (savedAccount) {
            var accountData = JSON.parse(savedAccount);
            savedAccountEmail.textContent = accountData.email;
            savedAccountDisplay.style.display = 'block';
            loginFormFields.style.display = 'none';
        } else {
            savedAccountDisplay.style.display = 'none';
            loginFormFields.style.display = 'block';
        }
    }

    function useSavedAccount() {
        var savedAccount = localStorage.getItem('ketmon_saved_account');
        if (!savedAccount) return;

        var accountData = JSON.parse(savedAccount);

        // Auto-fill email only - user must still enter password
        document.getElementById('loginEmail').value = accountData.email;
        document.getElementById('loginPassword').focus();

        // Hide saved account display and show login form
        var savedAccountDisplay = document.getElementById('savedAccountDisplay');
        var loginFormFields = document.getElementById('loginFormFields');
        if (savedAccountDisplay) savedAccountDisplay.style.display = 'none';
        if (loginFormFields) loginFormFields.style.display = 'block';
    }

    function forgetSavedAccount() {
        if (confirm('Saqlangan akkauntni o\'chirishni xohlaysizmi?')) {
            localStorage.removeItem('ketmon_saved_account');
            loadSavedAccount();
        }
    }

    function enterNewAccount() {
        var savedAccountDisplay = document.getElementById('savedAccountDisplay');
        var loginFormFields = document.getElementById('loginFormFields');
        savedAccountDisplay.style.display = 'none';
        loginFormFields.style.display = 'block';
        document.getElementById('loginEmail').focus();
    }

    // Load saved account when login modal opens
    function originalOpenLogin() {
        open(loginModal);
        loadSavedAccount();
    }

    // Update login button handler to load saved account (replaces earlier handler)
    if (topBarLoginBtn) {
        // Clone node to remove all event listeners
        var newLoginBtn = topBarLoginBtn.cloneNode(true);
        topBarLoginBtn.parentNode.replaceChild(newLoginBtn, topBarLoginBtn);
        topBarLoginBtn = newLoginBtn;
        topBarLoginBtn.addEventListener('click', function (e) {
            e.preventDefault();
            originalOpenLogin();
        });
    }

    document.getElementById('loginToRegister').addEventListener('click', function () {
        close(loginModal);
        open(registerModal);
    });

    document.getElementById('registerToLogin').addEventListener('click', function () {
        close(registerModal);
        originalOpenLogin();
    });

    // Saved account button handlers
    document.getElementById('useSavedAccountBtn').addEventListener('click', useSavedAccount);
    document.getElementById('forgetAccountBtn').addEventListener('click', forgetSavedAccount);
    document.getElementById('enterNewAccountBtn').addEventListener('click', enterNewAccount);

    // Handle submit - Backend API
    document.getElementById('loginForm').addEventListener('submit', async function (e) {
        e.preventDefault();
        var email = document.getElementById('loginEmail').value.trim().toLowerCase();
        var password = document.getElementById('loginPassword').value || '';
        var rememberMe = document.getElementById('rememberMe').checked;

        // Validate inputs
        if (!email || !password) {
            alert('Iltimos, email va parolni kiriting.');
            return;
        }

        try {
            // Call backend API
            var response = await authAPI.login(email, password);

            if (response.success) {
                // Store token and user data
                setAuthToken(response.token);
                localStorage.setItem('ketmon_user', JSON.stringify(response.user));

                // Save account if "remember me" is checked
                if (rememberMe) {
                    localStorage.setItem('ketmon_saved_account', JSON.stringify({ email: email }));
                }

                close(loginModal);
                updateHeaderAuth();
                window.location.href = 'profile.html';
            }
        } catch (error) {
            alert(error.message || 'Noto\'g\'ri email yoki parol. Iltimos, qayta urinib ko\'ring.');
            document.getElementById('loginPassword').value = '';
        }
    });
    document.getElementById('registerForm').addEventListener('submit', async function (e) {
        e.preventDefault();
        var role = document.getElementById('regRole').value;

        try {
            var response;

            if (role === 'agency') {
                var aname = document.getElementById('regAgencyName').value.trim() || '';
                var lic = document.getElementById('regLicense').value.trim() || '';
                var email = document.getElementById('regAgencyEmail').value.trim().toLowerCase() || '';
                var phone = document.getElementById('regAgencyPhone').value.trim() || '';
                var password = document.getElementById('regAgencyPassword').value || '';

                // Validate required fields
                if (!aname || !email || !password) {
                    alert('Iltimos, barcha majburiy maydonlarni to\'ldiring.');
                    return;
                }

                if (password.length < 6) {
                    alert('Parol kamida 6 ta belgidan iborat bo\'lishi kerak.');
                    return;
                }

                // Call backend API
                response = await authAPI.registerAgency({
                    name: aname,
                    email: email,
                    password: password,
                    license: lic,
                    phone: phone
                });
            } else {
                var name = document.getElementById('regName').value.trim() || '';
                var email = document.getElementById('regEmail').value.trim().toLowerCase() || '';
                var password = document.getElementById('regPassword').value || '';

                // Validate required fields
                if (!name || !email || !password) {
                    alert('Iltimos, barcha maydonlarni to\'ldiring.');
                    return;
                }

                if (password.length < 6) {
                    alert('Parol kamida 6 ta belgidan iborat bo\'lishi kerak.');
                    return;
                }

                // Call backend API
                response = await authAPI.registerCustomer({
                    name: name,
                    email: email,
                    password: password
                });
            }

            if (response.success) {
                // Store token and user data
                setAuthToken(response.token);
                localStorage.setItem('ketmon_user', JSON.stringify(response.user));

                if (response.agency) {
                    localStorage.setItem('ketmon_agency', JSON.stringify(response.agency));
                }

                close(registerModal);
                updateHeaderAuth();
                window.location.href = 'profile.html';
            }
        } catch (error) {
            alert(error.message || 'Ro\'yxatdan o\'tishda xatolik yuz berdi. Iltimos, qayta urinib ko\'ring.');
        }
    });

    // Esc key to close auth modals
    document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape') {
            if (loginModal.classList.contains('open')) close(loginModal);
            if (registerModal.classList.contains('open')) close(registerModal);
        }
    });

    // Register tabs toggle
    var regRoleInput = document.getElementById('regRole');
    var tabCustomer = document.getElementById('regTabCustomer');
    var tabAgency = document.getElementById('regTabAgency');
    var fieldsCustomer = document.getElementById('regFieldsCustomer');
    var fieldsAgency = document.getElementById('regFieldsAgency');
    function setRole(role) {
        regRoleInput.value = role;
        if (role === 'agency') {
            tabAgency.classList.add('active'); tabAgency.setAttribute('aria-selected', 'true');
            tabCustomer.classList.remove('active'); tabCustomer.setAttribute('aria-selected', 'false');
            fieldsAgency.classList.remove('hidden'); fieldsCustomer.classList.add('hidden');
            // Relax required on hidden fields
            document.getElementById('regName').required = false;
            document.getElementById('regEmail').required = false;
            document.getElementById('regPassword').required = false;
            // Agency fields not strictly required for demo
        } else {
            tabCustomer.classList.add('active'); tabCustomer.setAttribute('aria-selected', 'true');
            tabAgency.classList.remove('active'); tabAgency.setAttribute('aria-selected', 'false');
            fieldsCustomer.classList.remove('hidden'); fieldsAgency.classList.add('hidden');
            document.getElementById('regName').required = true;
            document.getElementById('regEmail').required = true;
            document.getElementById('regPassword').required = true;
        }
    }
    tabCustomer.addEventListener('click', function () { setRole('customer'); });
    tabAgency.addEventListener('click', function () { setRole('agency'); });
    // ensure default state
    setRole('customer');
})();
// Agency filter interactions
// Agency filter interactions (Legacy - Disabled to fix missing cards)
/*
(function () {
    var agencySelect = document.getElementById('agencyFilter');
    // ... logic removed ...
})();
*/

/* Infinite horizontal scroll for Agency grid (Hamkor Agentliklar) */
(function () {
    var grid = document.querySelector('.agency-section .agency-grid');
    if (!grid) return;
    var originals = Array.prototype.slice.call(grid.querySelectorAll('.agency-card'));
    if (!originals.length) return;

    function appendBatch() {
        var frag = document.createDocumentFragment();
        for (var i = 0; i < originals.length; i++) {
            frag.appendChild(originals[i].cloneNode(true));
        }
        grid.appendChild(frag);
    }

    function ensureLength() {
        var rounds = 0;
        while (grid.scrollWidth < grid.clientWidth * 3 && rounds < 4) {
            appendBatch();
            rounds++;
        }
    }

    function maybeExtend() {
        var remaining = grid.scrollWidth - (grid.scrollLeft + grid.clientWidth);
        if (remaining < 80) appendBatch();
    }

    function enable() {
        ensureLength();
        grid.addEventListener('scroll', maybeExtend, { passive: true });
    }

    if (document.readyState === 'complete' || document.readyState === 'interactive') {
        enable();
    } else {
        document.addEventListener('DOMContentLoaded', enable);
    }
    window.addEventListener('resize', ensureLength);
})();
// Trip category buttons (Legacy - Disabled)
/*
(function () {
    // ...
})();
*/
// AI Assistant functionality
var aiForm = document.getElementById('aiForm');
var aiResponse = document.getElementById('aiResponse');
var aiSeason = document.getElementById('aiSeason');
var aiMonthField = document.getElementById('aiMonthField');
var aiMonth = document.getElementById('aiMonth');

// Season to months mapping
var seasonMonths = {
    'summer': ['june', 'july', 'august'],      // Yoz: Iyun, Iyul, Avgust
    'autumn': ['september', 'october', 'november'], // Kuz: Sentabr, Oktabr, Noyabr
    'winter': ['december', 'january', 'february'],  // Qish: Dekabr, Yanvar, Fevral
    'spring': ['march', 'april', 'may']        // Bahor: Mart, Aprel, May
};

// Store all month options
var allMonthOptions = [];
if (aiMonth) {
    var options = aiMonth.querySelectorAll('option');
    options.forEach(function (opt) {
        allMonthOptions.push({
            value: opt.value,
            text: opt.textContent,
            dataText: opt.getAttribute('data-text'),
            element: opt.cloneNode(true)
        });
    });
}

function filterMonthsBySeason(season) {
    if (!aiMonth) return;

    // Clear current options except the first (default "Tanlang")
    aiMonth.innerHTML = '';

    // Add default option
    var defaultOption = allMonthOptions[0];
    if (defaultOption) {
        var opt = defaultOption.element.cloneNode(true);
        aiMonth.appendChild(opt);
    }

    // Filter and add months based on season
    if (seasonMonths[season]) {
        seasonMonths[season].forEach(function (val) {
            var found = allMonthOptions.find(function (o) { return o.value === val; });
            if (found) {
                aiMonth.appendChild(found.element.cloneNode(true));
            }
        });
    }
}

// Add event listener for season change
if (aiSeason) {
    aiSeason.addEventListener('change', function () {
        filterMonthsBySeason(this.value);
    });
}

// Smart Calculator Implementation (Updated for Tiers)
(function () {
    const tierBtns = document.querySelectorAll('.tier-btn');
    const recommendBtn = document.getElementById("calcRecommendBtn");
    // Default tier
    let currentTier = "medium";

    // Set initial active state if not set
    if (tierBtns.length > 0) {
        // Find if one is already active, if not activate medium
        let hasActive = false;
        tierBtns.forEach(btn => {
            if (btn.classList.contains('active')) hasActive = true;
        });
        if (!hasActive) {
            const mediumBtn = document.querySelector('.tier-btn[data-tier="medium"]');
            if (mediumBtn) mediumBtn.classList.add('active');
        }
    }

    tierBtns.forEach(btn => {
        btn.addEventListener('click', function () {
            tierBtns.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            currentTier = this.getAttribute('data-tier');
        });
    });

    if (recommendBtn) {
        recommendBtn.addEventListener('click', function () {
            var city = document.getElementById('heroCitySelect') ? document.getElementById('heroCitySelect').value : '';



            // Scroll to destinations
            const dest = document.getElementById('destinations');
            if (dest) {
                const header = document.querySelector('.main-header');
                const headerHeight = header ? header.offsetHeight : 80;
                // Assuming smoothScrollTo is defined globally as seen in file
                if (typeof smoothScrollTo === 'function') {
                    smoothScrollTo(dest, headerHeight, 600);
                } else {
                    dest.scrollIntoView({ behavior: 'smooth' });
                }
            }
        });
    }
})();


// Password Toggle Functionality
function togglePasswordVisibility(inputId, button) {
    var input = document.getElementById(inputId);
    if (!input) return;

    var eyeOpen = button.querySelector('.eye-open');
    var eyeClosed = button.querySelector('.eye-closed');

    if (input.type === 'password') {
        input.type = 'text';
        if (eyeOpen) eyeOpen.style.display = 'none';
        if (eyeClosed) eyeClosed.style.display = 'block';
        button.setAttribute('aria-label', 'Hide password');
    } else {
        input.type = 'password';
        if (eyeOpen) eyeOpen.style.display = 'block';
        if (eyeClosed) eyeClosed.style.display = 'none';
        button.setAttribute('aria-label', 'Show password');
    }
}

// Make function globally accessible
window.togglePasswordVisibility = togglePasswordVisibility;

// Social Login Functions
// Configuration - Replace these with your actual credentials
// IMPORTANT: Use your CLIENT ID (looks like: 123456789-xxxxx.apps.googleusercontent.com)
// NOT the Client Secret (which starts with GOCSPX-)
var GOOGLE_CLIENT_ID = '735852390296-378bisf38fhib67o72rjmdm5spv945cs.apps.googleusercontent.com'; // Replace with your Google Client ID

// Helper function to handle successful social login - Backend API
async function handleSocialLoginSuccess(userData, provider) {
    // console.log('handleSocialLoginSuccess called with provider:', provider, 'userData:', userData);
    try {
        var response;

        if (provider === 'google') {
            // For Google, send the credential token to backend
            if (userData.credential) {
                // console.log('Calling authAPI.loginWithGoogle with credential...');
                response = await authAPI.loginWithGoogle(userData.credential);
                // console.log('Backend response:', response);
            } else {
                // Fallback: if we have user data but no credential, create user manually
                // This shouldn't happen, but handle it gracefully
                console.error('Google credential not found in userData');
                throw new Error('Google credential not found');
            }
        } else {
            console.error('Unknown provider:', provider);
            throw new Error('Unknown provider');
        }

        if (response && response.success) {
            // console.log('Login successful, updating UI...');
            // Store token and user data
            setAuthToken(response.token);
            localStorage.setItem('ketmon_user', JSON.stringify(response.user));

            // Update header
            if (typeof updateHeaderAuth === 'function') {
                updateHeaderAuth();
            }

            // Close login modal
            var loginModal = document.getElementById('loginModal');
            if (loginModal) {
                loginModal.classList.remove('open');
                document.body.style.overflow = '';
            }

            // Close user account dropdown
            if (typeof closeUserAccountDropdown === 'function') {
                closeUserAccountDropdown();
            }

            // Show success message
            alert('Muvaffaqiyatli kirdingiz! ' + (response.user.name || response.user.email));

            // Redirect to profile or refresh page
            if (window.location.pathname.includes('profile.html')) {
                window.location.reload();
            } else {
                window.location.href = 'profile.html';
            }
        }
    } catch (error) {
        console.error('Error handling social login:', error);
        var errorMsg = error.message || 'Xatolik yuz berdi. Iltimos, qayta urinib ko\'ring.';

        // Provide more specific error messages
        if (error.message && error.message.includes('400')) {
            errorMsg = '400 xatolik: Google Client ID noto\'g\'ri yoki backend sozlamalari xato.\n\nIltimos, tekshiring:\n1. Google Client ID to\'g\'ri sozlanganligini\n2. Backend server ishlamoqda va GOOGLE_CLIENT_ID sozlanganligini\n3. Authorized JavaScript origins ga sahifangiz URL qo\'shilganligini';
        } else if (error.message && (error.message.includes('NetworkError') || error.message.includes('Failed to fetch'))) {
            errorMsg = 'Backend serverga ulanib bo\'lmadi.\n\nIltimos, tekshiring:\n1. Backend server ishlamoqda (http://localhost:3000)\n2. API_BASE_URL to\'g\'ri sozlanganligini';
        }

        alert(errorMsg);
    }
}

// Google Sign-In Function
function loginWithGoogle() {
    // console.log('Google login function called');

    // Check if Google Identity Services is loaded
    if (typeof google === 'undefined' || !google.accounts) {
        console.error('Google Identity Services not loaded');
        alert('Google Identity Services yuklanmagan. Iltimos, sahifani yangilang va qayta urinib ko\'ring.');
        return;
    }

    // console.log('Google Identity Services loaded, Client ID:', GOOGLE_CLIENT_ID);

    // Check if client ID is configured
    if (GOOGLE_CLIENT_ID === 'YOUR_GOOGLE_CLIENT_ID' || !GOOGLE_CLIENT_ID) {
        alert('Google Client ID sozlanmagan. Iltimos, script.js faylida GOOGLE_CLIENT_ID ni o\'rnating.\n\nGoogle Cloud Console dan Client ID olish:\n1. https://console.cloud.google.com ga kiring\n2. API & Services > Credentials\n3. Create Credentials > OAuth client ID\n4. Web application tanlang va Client ID ni oling\n\nMUHIM: Client ID (123456789-xxxxx.apps.googleusercontent.com) ishlatish kerak, Client Secret (GOCSPX-...) emas!');
        return;
    }

    // Validate Client ID format (should end with .apps.googleusercontent.com)
    // If it looks like a Client Secret (starts with GOCSPX-), show error
    if (GOOGLE_CLIENT_ID.startsWith('GOCSPX-')) {
        alert('XATO: Siz Client Secret ishlatyapsiz, Client ID emas!\n\nClient ID shunday ko\'rinadi: 123456789-xxxxx.apps.googleusercontent.com\nClient Secret esa shunday: GOCSPX-xxxxx\n\nIltimos, Google Cloud Console dan to\'g\'ri Client ID ni oling va qo\'ying.');
        return;
    }

    // Warn if Client ID doesn't look like a valid format
    if (!GOOGLE_CLIENT_ID.includes('.apps.googleusercontent.com')) {
        console.warn('Google Client ID format noto\'g\'ri ko\'rinadi. To\'g\'ri format: 123456789-xxxxx.apps.googleusercontent.com');
    }

    // Use Google Sign-In with proper ID token flow
    try {
        // Initialize Google Identity Services with callback
        google.accounts.id.initialize({
            client_id: GOOGLE_CLIENT_ID,
            callback: function (response) {
                // console.log('Google callback received:', response);
                // Handle the credential (ID token) response
                if (response.credential) {
                    // console.log('Google credential received, sending to backend...');
                    // Send credential to backend
                    handleSocialLoginSuccess({ credential: response.credential }, 'google');
                } else {
                    console.error('No credential in Google response:', response);
                    alert('Google kirish bekor qilindi yoki xatolik yuz berdi.');
                }
            },
            auto_select: false,
            cancel_on_tap_outside: true
        });

        // Find or create button container in the login modal
        var loginModal = document.getElementById('loginModal');
        var buttonContainer = null;

        if (loginModal) {
            // Check if container already exists
            buttonContainer = loginModal.querySelector('#google-signin-button-container');

            if (!buttonContainer) {
                // Find the existing Google button
                var existingGoogleBtn = loginModal.querySelector('.google-btn');
                if (existingGoogleBtn) {
                    // Create container next to existing button
                    buttonContainer = document.createElement('div');
                    buttonContainer.id = 'google-signin-button-container';
                    buttonContainer.style.display = 'inline-block';
                    buttonContainer.style.verticalAlign = 'middle';

                    // Insert before or replace the existing button
                    var parent = existingGoogleBtn.parentNode;
                    if (parent) {
                        parent.insertBefore(buttonContainer, existingGoogleBtn);
                        existingGoogleBtn.style.display = 'none'; // Hide the old button
                    }
                } else {
                    // Create new container in social login section
                    var socialSection = loginModal.querySelector('.social-login-section');
                    if (socialSection) {
                        buttonContainer = document.createElement('div');
                        buttonContainer.id = 'google-signin-button-container';
                        buttonContainer.style.textAlign = 'center';
                        buttonContainer.style.marginTop = '10px';
                        socialSection.appendChild(buttonContainer);
                    }
                }
            }
        }

        // If no modal or container found, create a temporary one
        if (!buttonContainer) {
            buttonContainer = document.createElement('div');
            buttonContainer.id = 'google-signin-button-container';
            buttonContainer.style.position = 'fixed';
            buttonContainer.style.left = '-9999px';
            buttonContainer.style.opacity = '0';
            document.body.appendChild(buttonContainer);
        }

        // Render Google Sign-In button
        google.accounts.id.renderButton(
            buttonContainer,
            {
                theme: 'outline',
                size: 'large',
                type: 'standard',
                text: 'signin_with',
                shape: 'rectangular',
                logo_alignment: 'left',
                width: '300'
            }
        );

        // If it's a hidden temporary container, try to trigger it
        if (buttonContainer.style.position === 'fixed') {
            setTimeout(function () {
                var googleButton = buttonContainer.querySelector('div[role="button"]');
                if (googleButton) {
                    // Try to trigger the button
                    try {
                        googleButton.click();
                    } catch (e) {
                        // If click doesn't work, show One Tap as fallback
                        google.accounts.id.prompt();
                    }

                    // Clean up after delay
                    setTimeout(function () {
                        if (buttonContainer.parentNode && buttonContainer.style.position === 'fixed') {
                            document.body.removeChild(buttonContainer);
                        }
                    }, 2000);
                } else {
                    // Button didn't render, try One Tap
                    google.accounts.id.prompt();
                }
            }, 300);
        } else {
            // For visible buttons, also try One Tap as a convenience
            google.accounts.id.prompt();
        }

    } catch (error) {
        console.error('Error initializing Google Sign-In:', error);
        alert('Google kirishni boshlashda xatolik yuz berdi: ' + error.message + '\n\nIltimos, sahifani yangilang va qayta urinib ko\'ring.');
    }
}

// Make functions globally accessible
window.loginWithGoogle = loginWithGoogle;
window.handleSocialLoginSuccess = handleSocialLoginSuccess;

// Forgot Password Modal Functions
function openForgotPasswordModal() {
    var modal = document.getElementById('forgotPasswordModal');
    if (modal) {
        modal.classList.add('open');
        document.body.style.overflow = 'hidden';
    }
}

function closeForgotPasswordModal() {
    var modal = document.getElementById('forgotPasswordModal');
    if (modal) {
        modal.classList.remove('open');
        document.body.style.overflow = '';
    }
}

// Reset Password Modal Functions
function openResetPasswordModal() {
    var modal = document.getElementById('resetPasswordModal');
    if (modal) {
        modal.classList.add('open');
        document.body.style.overflow = 'hidden';
    }
}

function closeResetPasswordModal() {
    var modal = document.getElementById('resetPasswordModal');
    if (modal) {
        modal.classList.remove('open');
        document.body.style.overflow = '';
    }
}

// Make functions globally accessible
window.openForgotPasswordModal = openForgotPasswordModal;
window.closeForgotPasswordModal = closeForgotPasswordModal;
window.openResetPasswordModal = openResetPasswordModal;
window.closeResetPasswordModal = closeResetPasswordModal;

// Forgot Password Form Handler
document.addEventListener('DOMContentLoaded', function () {
    var forgotPasswordForm = document.getElementById('forgotPasswordForm');
    var forgotPasswordModal = document.getElementById('forgotPasswordModal');
    var forgotPasswordModalClose = document.getElementById('forgotPasswordModalClose');
    var resetPasswordForm = document.getElementById('resetPasswordForm');
    var resetPasswordModal = document.getElementById('resetPasswordModal');
    var resetPasswordModalClose = document.getElementById('resetPasswordModalClose');

    // Forgot Password Form Submission - Backend API
    if (forgotPasswordForm) {
        forgotPasswordForm.addEventListener('submit', async function (e) {
            e.preventDefault();
            var email = document.getElementById('forgotPasswordEmail').value.trim().toLowerCase();

            if (!email) {
                alert('Iltimos, email manzilingizni kiriting.');
                return;
            }

            try {
                var response = await passwordAPI.forgotPassword(email);
                alert(response.message || 'Parolni tiklash haqida xabar emailga yuborildi');
                closeForgotPasswordModal();
            } catch (error) {
                alert(error.message || 'Xatolik yuz berdi. Iltimos, qayta urinib ko\'ring.');
            }
        });
    }

    // Close Forgot Password Modal
    if (forgotPasswordModalClose) {
        forgotPasswordModalClose.addEventListener('click', closeForgotPasswordModal);
    }

    if (forgotPasswordModal) {
        forgotPasswordModal.addEventListener('click', function (e) {
            if (e.target === forgotPasswordModal) {
                closeForgotPasswordModal();
            }
        });
    }

    // Reset Password Form Submission - Backend API
    if (resetPasswordForm) {
        resetPasswordForm.addEventListener('submit', async function (e) {
            e.preventDefault();
            var newPassword = document.getElementById('resetPasswordNew').value;
            var confirmPassword = document.getElementById('resetPasswordConfirm').value;
            var token = new URLSearchParams(window.location.search).get('token') ||
                document.getElementById('resetPasswordToken')?.value || '';

            if (newPassword.length < 6) {
                alert('Parol kamida 6 ta belgidan iborat bo\'lishi kerak.');
                return;
            }

            if (newPassword !== confirmPassword) {
                alert('Parollar mos kelmaydi. Iltimos, qayta kiriting.');
                return;
            }

            if (!token) {
                alert('Parolni tiklash tokeni topilmadi. Iltimos, emaildagi havolani ishlating.');
                return;
            }

            try {
                var response = await passwordAPI.resetPassword(token, newPassword);
                alert(response.message || 'Parol muvaffaqiyatli yangilandi!');
                closeResetPasswordModal();

                // Optionally redirect to login
                setTimeout(function () {
                    var loginModal = document.getElementById('loginModal');
                    if (loginModal) {
                        loginModal.classList.add('open');
                        document.body.style.overflow = 'hidden';
                    }
                }, 500);
            } catch (error) {
                alert(error.message || 'Xatolik yuz berdi. Iltimos, qayta urinib ko\'ring.');
            }
        });
    }

    // Close Reset Password Modal
    if (resetPasswordModalClose) {
        resetPasswordModalClose.addEventListener('click', closeResetPasswordModal);
    }

    if (resetPasswordModal) {
        resetPasswordModal.addEventListener('click', function (e) {
            if (e.target === resetPasswordModal) {
                closeResetPasswordModal();
            }
        });
    }
});

// Voice Search Functionality
(function () {
    const voiceSearchBtn = document.getElementById('voiceSearchBtn');
    const voiceSearchInput = document.getElementById('voiceSearchInput');
    const voiceStatus = document.getElementById('voiceStatus');

    let recognition = null;
    let isRecording = false;

    // Check if browser supports Web Speech API
    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        recognition = new SpeechRecognition();

        recognition.continuous = false;
        recognition.interimResults = false;
        recognition.lang = 'uz-UZ'; // Uzbek language, can be changed to 'en-US' or other languages

        recognition.onstart = function () {
            isRecording = true;
            voiceSearchBtn.classList.add('recording');
            voiceStatus.textContent = 'Listening...';
            voiceStatus.classList.add('recording');
            voiceStatus.style.display = 'block';
        };

        recognition.onresult = function (event) {
            const transcript = event.results[0][0].transcript;
            voiceSearchInput.value = transcript;
            voiceStatus.textContent = 'Voice input received';
            voiceStatus.classList.remove('recording');

            // Trigger search if needed
            setTimeout(() => {
                voiceStatus.style.display = 'none';
            }, 2000);
        };

        recognition.onerror = function (event) {
            console.error('Speech recognition error:', event.error);
            voiceStatus.textContent = 'Error: ' + event.error;
            voiceStatus.classList.remove('recording');
            voiceSearchBtn.classList.remove('recording');
            isRecording = false;

            setTimeout(() => {
                voiceStatus.style.display = 'none';
            }, 3000);
        };

        recognition.onend = function () {
            isRecording = false;
            voiceSearchBtn.classList.remove('recording');
            if (voiceStatus.textContent === 'Listening...') {
                voiceStatus.textContent = 'Recording stopped';
                voiceStatus.classList.remove('recording');
                setTimeout(() => {
                    voiceStatus.style.display = 'none';
                }, 2000);
            }
        };

        if (voiceSearchBtn) {
            voiceSearchBtn.addEventListener('click', function () {
                if (!isRecording) {
                    try {
                        recognition.start();
                    } catch (error) {
                        console.error('Error starting recognition:', error);
                        voiceStatus.textContent = 'Could not start voice recognition';
                        voiceStatus.style.display = 'block';
                        setTimeout(() => {
                            voiceStatus.style.display = 'none';
                        }, 3000);
                    }
                } else {
                    recognition.stop();
                }
            });
        }
    } else {
        // Browser doesn't support speech recognition
        if (voiceSearchBtn) {
            voiceSearchBtn.style.opacity = '0.5';
            voiceSearchBtn.style.cursor = 'not-allowed';
            voiceSearchBtn.title = 'Voice search not supported in this browser';
            voiceSearchBtn.addEventListener('click', function () {
                voiceStatus.textContent = 'Voice search is not supported in your browser';
                voiceStatus.style.display = 'block';
                setTimeout(() => {
                    voiceStatus.style.display = 'none';
                }, 3000);
            });
        }
    }

})();

// Detailed Search Section Toggle
(function () {
    const detailedSearchToggle = document.getElementById('detailedSearchToggle');
    const detailedSearchSection = document.getElementById('detailedSearchSection');

    if (detailedSearchToggle && detailedSearchSection) {
        detailedSearchToggle.addEventListener('click', function () {
            const isVisible = detailedSearchSection.style.display === 'block';

            if (isVisible) {
                detailedSearchSection.style.display = 'none';
                detailedSearchToggle.classList.remove('active');
            } else {
                detailedSearchSection.style.display = 'block';
                detailedSearchToggle.classList.add('active');
            }
        });
    }

    // Handle search button click
    const detailedSearchBtn = document.getElementById('detailedSearchBtn');
    if (detailedSearchBtn) {
        detailedSearchBtn.addEventListener('click', function () {
            const destination = document.getElementById('voiceSearchInput').value;
            const date = document.getElementById('searchDate').value;
            const duration = document.getElementById('searchDuration').value;
            const agency = document.getElementById('searchAgency').value;
            const guests = document.getElementById('searchGuests').value;

            // Perform destination search first
            performDestinationSearch(destination || '');

            // Additional filtering by agency if specified
            if (agency && agency !== 'all') {
                const destinationCards = document.querySelectorAll('.destination-card');
                destinationCards.forEach(card => {
                    // Only hide if it's currently visible (not already hidden by destination search)
                    if (card.style.display !== 'none') {
                        const cardAgency = card.getAttribute('data-agency');
                        if (cardAgency !== agency) {
                            card.style.display = 'none';
                        }
                    }
                });
            }

            // Scroll to destinations section
            const destinationsSection = document.getElementById('destinations');
            if (destinationsSection) {
                setTimeout(() => {
                    destinationsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            }

            console.log('Search parameters:', {
                destination,
                date,
                duration,
                agency,
                guests
            });
        });
    }
})();

// Advanced auto-correction with multiple algorithms
function autoCorrectSearch(searchTerm) {
    const originalTerm = searchTerm.toLowerCase().trim();

    // Comprehensive typo dictionary with all variations
    const corrections = {
        // Rome/Roma variations (Rim, Roma, Rome, Italy)
        'rom': 'roma', 'romaa': 'roma', 'romma': 'roma', 'romm': 'roma',
        'rome': 'roma', 'roam': 'roma', 'romi': 'roma', 'romu': 'roma',
        'rim': 'roma', 'rimm': 'roma', 'rym': 'roma', 'romy': 'roma',
        'romaa': 'roma', 'romma': 'roma', 'rommm': 'roma',
        'italiya': 'italiya', 'italy': 'italiya', 'itali': 'italiya',

        // Paris variations (Parij, Paris, France)
        'pariss': 'paris', 'parijs': 'paris', 'parisss': 'paris',
        'pari': 'paris', 'pariz': 'paris', 'parise': 'paris',
        'parys': 'paris', 'parijs': 'paris', 'pariss': 'paris',
        'parij': 'paris', 'pary': 'paris', 'pariss': 'paris',
        'fransiya': 'paris', 'france': 'paris', 'frans': 'paris',
        'fransiya': 'paris', 'frans': 'paris',

        // Dubai variations (Dubay, Dubai, UAE, BAA)
        'dubayy': 'dubai', 'dubaai': 'dubai', 'dubay': 'dubai',
        'dubaii': 'dubai', 'dubay': 'dubai', 'dubey': 'dubai',
        'dubay': 'dubai', 'dubai': 'dubai', 'dubayy': 'dubai',
        'baa': 'dubai', 'uae': 'dubai', 'emirates': 'dubai',

        // Tokyo variations (Tokio, Tokyo, Japan)
        'tokyoo': 'tokyo', 'tokyyo': 'tokyo', 'tokio': 'tokyo',
        'toky': 'tokyo', 'tokyo': 'tokyo', 'tokyyo': 'tokyo',
        'tokyoo': 'tokyo', 'tokyio': 'tokyo', 'tokyoo': 'tokyo',
        'yaponiya': 'tokyo', 'japan': 'tokyo', 'yapon': 'tokyo',

        // Istanbul variations (Istanbul, Turkey)
        'istambul': 'istanbul', 'istanbull': 'istanbul',
        'istanbul': 'istanbul', 'istambul': 'istanbul',
        'istanbul': 'istanbul', 'istambul': 'istanbul',
        'istanbol': 'istanbul', 'istambul': 'istanbul',
        'turkiya': 'istanbul', 'turkey': 'istanbul', 'turk': 'istanbul',

        // Bangkok variations (Bangkok, Thailand)
        'bangok': 'bangkok', 'bangkokk': 'bangkok',
        'bangkok': 'bangkok', 'bangok': 'bangkok',
        'bangkok': 'bangkok', 'bangok': 'bangkok',
        'tailand': 'bangkok', 'thailand': 'bangkok', 'tayland': 'bangkok',

        // London variations (London, UK, Britain)
        'londoon': 'london', 'londdon': 'london',
        'london': 'london', 'londoon': 'london',
        'londan': 'london', 'londin': 'london', 'londn': 'london',
        'uk': 'london', 'britain': 'london', 'britaniya': 'london',

        // Baku variations (Boku, Baku, Azerbaijan)
        'bakku': 'baku', 'bakoo': 'baku', 'boku': 'baku',
        'baku': 'baku', 'bakku': 'baku', 'bakoo': 'baku',
        'ozarbayjon': 'baku', 'azerbaijan': 'baku', 'azerbaycan': 'baku',

        // Switzerland variations (Shveysariya, Switzerland)
        'switzerland': 'switzerland', 'switz': 'switzerland',
        'shveysariya': 'switzerland', 'shveysariya': 'switzerland',
        'swiss': 'switzerland', 'shveysariya': 'switzerland'
    };

    // Direct dictionary lookup
    if (corrections[originalTerm]) {
        return corrections[originalTerm];
    }

    // Try normalized version
    const normalized = normalizeString(originalTerm);
    if (normalized !== originalTerm && corrections[normalized]) {
        return corrections[normalized];
    }

    return originalTerm;
}

// Calculate Levenshtein distance with character substitution weights
function levenshteinDistance(str1, str2) {
    const matrix = [];
    const len1 = str1.length;
    const len2 = str2.length;

    // Common keyboard layout for character substitution
    const keyboardNeighbors = {
        'q': ['w'], 'w': ['q', 'e'], 'e': ['w', 'r'], 'r': ['e', 't'],
        't': ['r', 'y'], 'y': ['t', 'u'], 'u': ['y', 'i'], 'i': ['u', 'o'],
        'o': ['i', 'p'], 'p': ['o'],
        'a': ['s'], 's': ['a', 'd'], 'd': ['s', 'f'], 'f': ['d', 'g'],
        'g': ['f', 'h'], 'h': ['g', 'j'], 'j': ['h', 'k'], 'k': ['j', 'l'],
        'l': ['k'],
        'z': ['x'], 'x': ['z', 'c'], 'c': ['x', 'v'], 'v': ['c', 'b'],
        'b': ['v', 'n'], 'n': ['b', 'm'], 'm': ['n']
    };

    function isKeyboardNeighbor(char1, char2) {
        return keyboardNeighbors[char1]?.includes(char2) ||
            keyboardNeighbors[char2]?.includes(char1);
    }

    for (let i = 0; i <= len2; i++) {
        matrix[i] = [i];
    }

    for (let j = 0; j <= len1; j++) {
        matrix[0][j] = j;
    }

    for (let i = 1; i <= len2; i++) {
        for (let j = 1; j <= len1; j++) {
            if (str2.charAt(i - 1) === str1.charAt(j - 1)) {
                matrix[i][j] = matrix[i - 1][j - 1];
            } else {
                // Check for keyboard neighbor (lower cost)
                const substitutionCost = isKeyboardNeighbor(
                    str2.charAt(i - 1),
                    str1.charAt(j - 1)
                ) ? 0.5 : 1;

                matrix[i][j] = Math.min(
                    matrix[i - 1][j - 1] + substitutionCost,
                    matrix[i][j - 1] + 1,
                    matrix[i - 1][j] + 1
                );
            }
        }
    }

    return matrix[len2][len1];
}

// Jaro-Winkler similarity for better string matching
function jaroWinklerSimilarity(str1, str2) {
    const s1 = str1.toLowerCase();
    const s2 = str2.toLowerCase();

    if (s1 === s2) return 1.0;

    const matchWindow = Math.floor(Math.max(s1.length, s2.length) / 2) - 1;
    const s1Matches = new Array(s1.length).fill(false);
    const s2Matches = new Array(s2.length).fill(false);

    let matches = 0;
    let transpositions = 0;

    // Find matches
    for (let i = 0; i < s1.length; i++) {
        const start = Math.max(0, i - matchWindow);
        const end = Math.min(i + matchWindow + 1, s2.length);

        for (let j = start; j < end; j++) {
            if (s2Matches[j] || s1[i] !== s2[j]) continue;
            s1Matches[i] = true;
            s2Matches[j] = true;
            matches++;
            break;
        }
    }

    if (matches === 0) return 0.0;

    // Find transpositions
    let k = 0;
    for (let i = 0; i < s1.length; i++) {
        if (!s1Matches[i]) continue;
        while (!s2Matches[k]) k++;
        if (s1[i] !== s2[k]) transpositions++;
        k++;
    }

    const jaro = (
        matches / s1.length +
        matches / s2.length +
        (matches - transpositions / 2) / matches
    ) / 3.0;

    // Winkler modification
    let prefix = 0;
    for (let i = 0; i < Math.min(s1.length, s2.length, 4); i++) {
        if (s1[i] === s2[i]) prefix++;
        else break;
    }

    return jaro + (0.1 * prefix * (1 - jaro));
}

// Detect and fix common character transpositions and substitutions
function fixTranspositions(str) {
    // Common character substitutions (language variations)
    const substitutions = {
        'i': ['y', 'Ä±', 'Ñ–'],
        'y': ['i', 'Ä±', 'Ñ–'],
        'u': ['o', 'Ã¼', 'Ã¶'],
        'o': ['u', 'Ã¼', 'Ã¶'],
        'a': ['e', 'Ã¤', 'Ã¥'],
        'e': ['a', 'Ã¤', 'Ã¥']
    };

    // Common transposition patterns
    const transpositionPatterns = [
        // Double letter corrections
        { pattern: /([a-z])\1{2,}/g, replace: (match) => match[0] + match[0] }, // "parisss" -> "pariss" -> "paris"
        // Missing vowel patterns
        { pattern: /^rom([^a])/, replace: 'roma$1' },
        { pattern: /^paris([^s])/, replace: 'paris$1' },
        // Common typos
        { pattern: /^pariz/, replace: 'paris' },
        { pattern: /^parys/, replace: 'paris' },
        { pattern: /^romm/, replace: 'roma' },
        { pattern: /^dubayy/, replace: 'dubai' },
        { pattern: /^tokyoo/, replace: 'tokyo' }
    ];

    let fixed = str;

    // Apply transposition patterns
    for (const { pattern, replace } of transpositionPatterns) {
        if (typeof replace === 'function') {
            fixed = fixed.replace(pattern, replace);
        } else {
            fixed = fixed.replace(pattern, replace);
        }
    }

    return fixed;
}

// Normalize string for better matching (handles language variations)
function normalizeString(str) {
    return str.toLowerCase()
        .replace(/[Ã Ã¡Ã¢Ã£Ã¤Ã¥]/g, 'a')
        .replace(/[Ã¨Ã©ÃªÃ«]/g, 'e')
        .replace(/[Ã¬Ã­Ã®Ã¯]/g, 'i')
        .replace(/[Ã²Ã³Ã´ÃµÃ¶]/g, 'o')
        .replace(/[Ã¹ÃºÃ»Ã¼]/g, 'u')
        .replace(/[Ã½Ã¿]/g, 'y')
        .replace(/[Ã§]/g, 'c')
        .replace(/[Ã±]/g, 'n')
        .replace(/[ÅŸ]/g, 's')
        .replace(/[ÄŸ]/g, 'g')
        .replace(/[Ä±]/g, 'i')
        .trim();
}

// Advanced fuzzy matching with multiple algorithms
function findBestMatch(searchTerm, possibleMatches) {
    if (!searchTerm || searchTerm.length < 2) return null;

    const normalizedTerm = normalizeString(searchTerm);
    let bestMatch = null;
    let bestScore = 0;
    const minScore = 0.6; // Minimum similarity threshold

    for (const match of possibleMatches) {
        const normalizedMatch = normalizeString(match);

        // Exact match
        if (normalizedTerm === normalizedMatch) {
            return match;
        }

        // Calculate multiple similarity scores
        const levenshteinDist = levenshteinDistance(normalizedTerm, normalizedMatch);
        const maxLen = Math.max(normalizedTerm.length, normalizedMatch.length);
        const levenshteinScore = 1 - (levenshteinDist / maxLen);

        const jaroWinklerScore = jaroWinklerSimilarity(normalizedTerm, normalizedMatch);

        // Check if one string contains the other
        const containsScore = normalizedMatch.includes(normalizedTerm) ||
            normalizedTerm.includes(normalizedMatch) ? 0.8 : 0;

        // Check for common prefix
        let prefixLength = 0;
        const minLen = Math.min(normalizedTerm.length, normalizedMatch.length);
        for (let i = 0; i < minLen; i++) {
            if (normalizedTerm[i] === normalizedMatch[i]) {
                prefixLength++;
            } else {
                break;
            }
        }
        const prefixScore = prefixLength / Math.max(normalizedTerm.length, normalizedMatch.length);

        // Weighted combination of scores
        const combinedScore = (
            levenshteinScore * 0.3 +
            jaroWinklerScore * 0.4 +
            containsScore * 0.2 +
            prefixScore * 0.1
        );

        // Prefer shorter edit distance
        const lengthPenalty = Math.abs(normalizedTerm.length - normalizedMatch.length) > 3 ? 0.1 : 1;
        const finalScore = combinedScore * lengthPenalty;

        if (finalScore > bestScore && finalScore >= minScore) {
            bestScore = finalScore;
            bestMatch = match;
        }
    }

    return bestMatch;
}

// Search functionality for destinations
function performDestinationSearch(searchQuery) {
    const destinationCards = document.querySelectorAll('.destination-card');
    let searchTerm = searchQuery.toLowerCase().trim();

    // If search is empty, show all cards
    if (searchTerm === '') {
        destinationCards.forEach(card => {
            card.style.display = '';
        });
        // Hide no results message
        const noResultsMsg = document.querySelector('.no-results-message');
        if (noResultsMsg) {
            noResultsMsg.style.display = 'none';
        }
        return;
    }

    // Apply advanced auto-correction
    let correctedTerm = autoCorrectSearch(searchTerm);

    // Apply transposition fixes
    correctedTerm = fixTranspositions(correctedTerm);

    // If correction was made, update the input field
    if (correctedTerm !== searchTerm) {
        const voiceSearchInput = document.getElementById('voiceSearchInput');
        if (voiceSearchInput) {
            voiceSearchInput.value = correctedTerm;
        }
        searchTerm = correctedTerm.toLowerCase();
    }

    // Language mapping for common destinations - organized by destination
    const destinationMappings = {
        'paris': {
            keywords: ['parij', 'paris', 'fransiya', 'france'],
            matchText: ['parij', 'paris', 'fransiya', 'france']
        },
        'roma': {
            keywords: ['rim', 'roma', 'rome', 'italiya', 'italy'],
            matchText: ['rim', 'roma', 'rome', 'italiya', 'italy']
        },
        'dubai': {
            keywords: ['dubay', 'dubai', 'baa', 'uae'],
            matchText: ['dubay', 'dubai', 'baa', 'uae']
        },
        'istanbul': {
            keywords: ['istanbul', 'turkiya', 'turkey'],
            matchText: ['istanbul', 'turkiya', 'turkey']
        },
        'tokyo': {
            keywords: ['tokio', 'tokyo', 'yaponiya', 'japan'],
            matchText: ['tokio', 'tokyo', 'yaponiya', 'japan']
        },
        'bangkok': {
            keywords: ['bangkok', 'tailand', 'thailand'],
            matchText: ['bangkok', 'tailand', 'thailand']
        },
        'london': {
            keywords: ['london', 'buyuk britaniya', 'uk', 'britain'],
            matchText: ['london', 'buyuk britaniya', 'uk', 'britain']
        },
        'baku': {
            keywords: ['boku', 'baku', 'ozarbayjon', 'azerbaijan'],
            matchText: ['boku', 'baku', 'ozarbayjon', 'azerbaijan']
        },
        'switzerland': {
            keywords: ['shveysariya', 'switzerland'],
            matchText: ['shveysariya', 'switzerland']
        }
    };

    // Find which destination group the search term belongs to
    // Priority: exact match > starts with > contains
    let matchedDestination = null;
    let matchType = null; // 'exact', 'starts', 'contains'
    let matchedKeywords = []; // Track which keywords matched

    // First, check for exact match (highest priority) - case-insensitive
    // Special handling for "italiya" to ensure it only matches "roma" destination
    if (normalizeString(searchTerm) === 'italiya' || normalizeString(searchTerm) === 'italy' ||
        normalizeString(searchTerm) === 'itali') {
        matchedDestination = 'roma';
        matchType = 'exact';
        matchedKeywords = ['italiya'];
    } else {
        for (const [destKey, destData] of Object.entries(destinationMappings)) {
            const exactMatch = destData.keywords.find(keyword => {
                return keyword.toLowerCase() === searchTerm ||
                    normalizeString(keyword) === normalizeString(searchTerm);
            });
            if (exactMatch) {
                matchedDestination = destKey;
                matchType = 'exact';
                matchedKeywords = [exactMatch];
                break;
            }
        }
    }

    // If no exact match, check for "starts with" match (but only if search term is at least 3 chars)
    if (!matchedDestination && searchTerm.length >= 3) {
        for (const [destKey, destData] of Object.entries(destinationMappings)) {
            // Only check if keyword starts with search term (not the reverse, to avoid false matches)
            const startsMatch = destData.keywords.find(keyword => keyword.startsWith(searchTerm));
            if (startsMatch) {
                matchedDestination = destKey;
                matchType = 'starts';
                matchedKeywords = [startsMatch];
                break;
            }
        }
    }

    // If still no match, check for contains (but be very strict - minimum 4 chars for substring matching)
    // AND ensure the search term is not a substring of unrelated words
    if (!matchedDestination && searchTerm.length >= 4) {
        // First, check if search term matches any keyword exactly (case-insensitive)
        for (const [destKey, destData] of Object.entries(destinationMappings)) {
            const exactKeywordMatch = destData.keywords.find(keyword => {
                return normalizeString(keyword) === normalizeString(searchTerm);
            });
            if (exactKeywordMatch) {
                matchedDestination = destKey;
                matchType = 'contains';
                matchedKeywords = [exactKeywordMatch];
                break;
            }
        }

        // If no exact keyword match, check for contains (but be very strict)
        if (!matchedDestination) {
            for (const [destKey, destData] of Object.entries(destinationMappings)) {
                // Only match if keyword contains search term (not reverse, to be more precise)
                // Also check that search term is not just a common substring
                const containsMatch = destData.keywords.find(keyword => {
                    const normalizedKeyword = normalizeString(keyword);
                    const normalizedSearch = normalizeString(searchTerm);

                    // Only match if the keyword contains the full search term
                    // AND the search term is at least 4 characters
                    // AND it's not a common substring that appears in multiple destinations
                    if (normalizedKeyword.includes(normalizedSearch) && searchTerm.length >= 4) {
                        // Check if this search term appears in other destination mappings (avoid false positives)
                        const appearsInOtherDestinations = Object.entries(destinationMappings).some(([otherKey, otherData]) => {
                            if (otherKey === destKey) return false;
                            return otherData.keywords.some(otherKeyword => {
                                const normalizedOther = normalizeString(otherKeyword);
                                // Check if the search term appears in other keywords
                                // But exclude if it's just a common substring like "iya" in both "italiya" and "fransiya"
                                if (normalizedOther.includes(normalizedSearch)) {
                                    // If search term is less than 5 chars, be more strict
                                    if (normalizedSearch.length < 5) {
                                        // Only match if it's at the start or end of the word, not in the middle
                                        const startsWith = normalizedOther.startsWith(normalizedSearch);
                                        const endsWith = normalizedOther.endsWith(normalizedSearch);
                                        if (!startsWith && !endsWith) {
                                            return false; // It's in the middle, likely a false positive
                                        }
                                    }
                                    return normalizedOther !== normalizedKeyword;
                                }
                                return false;
                            });
                        });

                        // Only match if it's unique to this destination OR if it's an exact match
                        // OR if the search term is long enough (>= 5 chars) to avoid substring issues
                        return (!appearsInOtherDestinations || normalizedKeyword === normalizedSearch) &&
                            (normalizedSearch.length >= 5 || normalizedKeyword === normalizedSearch);
                    }
                    return false;
                });
                if (containsMatch) {
                    matchedDestination = destKey;
                    matchType = 'contains';
                    matchedKeywords = [containsMatch];
                    break;
                }
            }
        }
    }

    // If no match found, try fuzzy matching (but be more strict)
    if (!matchedDestination) {
        const allKeywords = Object.values(destinationMappings).flatMap(d => d.keywords);
        const bestMatch = findBestMatch(searchTerm, allKeywords);
        if (bestMatch) {
            // Verify the match is good enough and not a false positive
            const normalizedSearch = normalizeString(searchTerm);
            const normalizedMatch = normalizeString(bestMatch);

            // Only accept fuzzy match if similarity is high and it's not ambiguous
            const similarity = jaroWinklerSimilarity(normalizedSearch, normalizedMatch);
            if (similarity >= 0.75) { // Higher threshold for fuzzy matching
                for (const [destKey, destData] of Object.entries(destinationMappings)) {
                    if (destData.keywords.includes(bestMatch)) {
                        matchedDestination = destKey;
                        matchType = 'fuzzy';
                        matchedKeywords = [bestMatch];
                        // Update input with corrected term
                        const voiceSearchInput = document.getElementById('voiceSearchInput');
                        if (voiceSearchInput) {
                            voiceSearchInput.value = bestMatch;
                        }
                        searchTerm = bestMatch.toLowerCase();
                        break;
                    }
                }
            }
        }
    }

    let hasMatches = false;

    destinationCards.forEach(card => {
        const titleElement = card.querySelector('.destination-title');
        const descElement = card.querySelector('.destination-desc');

        if (!titleElement) return;

        const title = titleElement.textContent.toLowerCase();
        const description = descElement ? descElement.textContent.toLowerCase() : '';
        const searchText = title + ' ' + description;

        let isMatch = false;

        // If we found a matched destination group, only show cards that belong to it
        if (matchedDestination) {
            const destData = destinationMappings[matchedDestination];
            // Check if card's title/description contains any of the match text for this destination
            // Use word boundaries or exact matching to avoid false positives
            isMatch = destData.matchText.some(matchText => {
                const normalizedMatchText = normalizeString(matchText);
                const normalizedTitle = normalizeString(title);
                const normalizedSearchText = normalizeString(searchText);

                // Exact match in title (highest priority)
                if (normalizedTitle === normalizedMatchText ||
                    normalizedTitle.includes(' ' + normalizedMatchText + ',') ||
                    normalizedTitle.includes(', ' + normalizedMatchText) ||
                    normalizedTitle.endsWith(' ' + normalizedMatchText)) {
                    return true;
                }

                // Check if match text appears as a word in title or description (with word boundaries)
                // This prevents "italiya" from matching "fransiya"
                const escapedMatchText = normalizedMatchText.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                const wordBoundaryRegex = new RegExp('\\b' + escapedMatchText + '\\b', 'i');
                if (wordBoundaryRegex.test(normalizedTitle) || wordBoundaryRegex.test(normalizedSearchText)) {
                    return true;
                }

                // Fallback: simple contains check (but only if match text is significant and unique)
                // Only use this if the match text is long enough and not a substring of other destinations
                // Special case: "italiya" should never match "fransiya"
                if (normalizedMatchText === 'italiya' || normalizedMatchText === 'italy' || normalizedMatchText === 'itali') {
                    // For Italy-related terms, only match if title contains "rim", "roma", "rome", "italiya", or "italy"
                    const italyKeywords = ['rim', 'roma', 'rome', 'italiya', 'italy', 'itali'];
                    const hasItalyKeyword = italyKeywords.some(keyword => {
                        const normalizedKeyword = normalizeString(keyword);
                        return normalizedTitle.includes(normalizedKeyword) || normalizedSearchText.includes(normalizedKeyword);
                    });
                    if (hasItalyKeyword) {
                        return true;
                    }
                    return false; // Don't match if it's not Italy-related
                }

                if (normalizedMatchText.length >= 5) {
                    // Check if this match text could match other destinations (avoid false positives)
                    const couldMatchOthers = Object.entries(destinationMappings).some(([otherKey, otherData]) => {
                        if (otherKey === matchedDestination) return false;
                        return otherData.matchText.some(otherMatchText => {
                            const normalizedOther = normalizeString(otherMatchText);
                            return normalizedOther.includes(normalizedMatchText) &&
                                normalizedOther !== normalizedMatchText;
                        });
                    });

                    // Only use contains if it won't cause false positives
                    if (!couldMatchOthers &&
                        (normalizedTitle.includes(normalizedMatchText) || normalizedSearchText.includes(normalizedMatchText))) {
                        return true;
                    }
                }

                return false;
            });
        } else {
            // If no destination group matched, do a simple text search
            isMatch = searchText.includes(searchTerm);
        }

        // Show or hide card
        if (isMatch) {
            card.style.display = '';
            hasMatches = true;
        } else {
            card.style.display = 'none';
        }
    });

    // Scroll to destinations section
    const destinationsSection = document.getElementById('destinations');
    if (destinationsSection && searchTerm) {
        const header = document.querySelector('.main-header') || document.querySelector('.navigation-section');
        const headerHeight = header ? header.offsetHeight : 80;

        // Smooth scroll to destinations
        setTimeout(() => {
            destinationsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
    }

    // Show message if no results
    if (searchTerm && !hasMatches) {
        const destinationGrid = document.querySelector('.destination-grid');
        let noResultsMsg = destinationGrid.querySelector('.no-results-message');

        if (!noResultsMsg) {
            noResultsMsg = document.createElement('div');
            noResultsMsg.className = 'no-results-message';
            noResultsMsg.style.cssText = 'grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--text-secondary); font-size: 18px;';
            noResultsMsg.textContent = 'Hech qanday natija topilmadi. Boshqa qidiruv so\'zini kiriting.';
            destinationGrid.appendChild(noResultsMsg);
        }
        noResultsMsg.style.display = 'block';
    } else {
        const noResultsMsg = document.querySelector('.no-results-message');
        if (noResultsMsg) {
            noResultsMsg.style.display = 'none';
        }
    }
}

// Search Icon Button Handler
(function () {
    const searchIconBtn = document.getElementById('searchIconBtn');
    const voiceSearchInput = document.getElementById('voiceSearchInput');

    if (searchIconBtn && voiceSearchInput) {
        searchIconBtn.addEventListener('click', function () {
            const searchQuery = voiceSearchInput.value.trim();

            if (searchQuery) {
                // Perform search action
                // console.log('Searching for:', searchQuery);
                performDestinationSearch(searchQuery);
            } else {
                // Show all destinations if search is empty
                performDestinationSearch('');
                // Focus the input if empty
                voiceSearchInput.focus();
            }
        });

        // Also trigger search on Enter key
        if (voiceSearchInput) {
            voiceSearchInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    searchIconBtn.click();
                }
            });
        }
    }
})();

// Navigation Active State Management
(function () {
    const navLinks = document.querySelectorAll('.desktop-nav a');
    const sections = document.querySelectorAll('section[id]');

    function updateActiveNav() {
        let current = '';
        const scrollY = window.pageYOffset;

        sections.forEach(section => {
            const sectionTop = section.offsetTop - 100;
            const sectionHeight = section.offsetHeight;

            if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
                current = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active');
            const href = link.getAttribute('href');
            if (href === '#' + current || (current === 'home' && href === '#home')) {
                link.classList.add('active');
            }
        });
    }

    // Update on scroll
    window.addEventListener('scroll', updateActiveNav);

    // Update on page load
    document.addEventListener('DOMContentLoaded', function () {
        updateActiveNav();

        // Also update when clicking nav links
        navLinks.forEach(link => {
            link.addEventListener('click', function (e) {
                // Remove active from all
                navLinks.forEach(l => l.classList.remove('active'));
                // Add active to clicked
                this.classList.add('active');
            });
        });
    });
})();



// Chatbot Logic (moved from index.html and enhanced)
(function () {
    document.addEventListener('DOMContentLoaded', function () {
        const chatbotContainer = document.getElementById('chatbotContainer');
        const chatbotWindow = document.getElementById('chatbotWindow');
        const chatbotToggle = document.getElementById('chatbotToggle');
        const chatbotClose = document.getElementById('chatbotClose');
        const chatbotInput = document.getElementById('chatbotInput');
        const chatbotSend = document.getElementById('chatbotSend');
        const chatbotMessages = document.getElementById('chatbotMessages');

        // Check if elements exist
        if (!chatbotContainer || !chatbotWindow || !chatbotToggle || !chatbotClose ||
            !chatbotInput || !chatbotSend || !chatbotMessages) {
            console.error('Chatbot elements not found');
            return;
        }

        // State
        let currentMode = 'ai'; // 'ai' or 'agency'
        let currentContext = null; // { agencyName, tourTitle, ... }

        // Chatbot Q&A Database (AI Mode)
        const chatbotResponses = {
            // Project description
            'loyiha': {
                keywords: ['loyiha', 'nima', 'qiladi', 'qanday', 'nima qiladi', 'loyihangiz', 'ketmon', 'platforma'],
                response: 'KETMON - Markaziy Osiyo turizm sohasini inqilob qiluvchi keng qamrovli platforma. Biz sayyohlar va agentliklar uchun asosiy sayohat muammolarini hal qilamiz.\n\n' +
                    'Bizning platformamiz quyidagi xususiyatlarga ega:\n\n' +
                    'ðŸª **Aggregated Tour Marketplace** - Turli agentliklardan tur paketlarini birlashtiruvchi dinamik marketplace\n\n' +
                    'ðŸ” **Effortless Comparison & Booking** - Sana, narx, yo\'nalish, sharhlar va mavjudlik bo\'yicha filtrlash va osongina bron qilish\n\n' +
                    'ðŸ’³ **Flexible Payment Options** - TNPL (Travel Now Pay Later) tizimi orqali to\'lovni bo\'lib-bo\'lib to\'lash imkoniyati\n\n' +
                    'ðŸ¤– **Intelligent Recommendations** - AI asosida shaxsiylashtirilgan tur tavsiyalari, foydalanuvchi xohishlari va o\'tmishdagi qidiruvlar asosida\n\n' +
                    'KETMON Markaziy Osiyoda birinchi yirik onlayn tur agregatori bo\'lib, narxlar va tur takliflarida shaffoflik yaratadi, mahalliy tur agentliklarini raqamli vositalar bilan quvvatlaydi va sayyohlar uchun sifatli turlarni topish va bron qilish vaqtini kamaytiradi.'
            },
            'mahsulot': {
                keywords: ['mahsulot', 'kimlar', 'uchun', 'mo\'ljallangan', 'auditoriya', 'kim uchun', 'kimga'],
                response: 'KETMON mahsuloti ikki asosiy auditoriya uchun yaratilgan:\n\n' +
                    'ðŸ‘¥ **1. Sayyohlar va sayohat qiluvchilar:**\n' +
                    'Mahsulot sayohat qilishni xohlovchi barcha shaxslar va tashkilotlar uchun yaratilgan, shu jumladan:\n' +
                    'â€¢ Turli narxlar va shaffoflik muammolariga duch kelayotgan sayyohlar\n' +
                    'â€¢ Tur paketlarini solishtirishda qiyinchiliklarga duch kelayotgan shaxslar\n' +
                    'â€¢ Markazlashtirilgan platforma va xavfsiz to\'lov tizimi izlayotgan sayohatchilar\n' +
                    'â€¢ Oilaviy sayohatlar, biznes turlari, guruh turlari va shaxsiy sayohatlar uchun tur paketlari qidirayotganlar\n\n' +
                    '**Foyda:** KETMON yordamida sayyohlar vaqt va byudjetini tejashadi, shaffof narxlar va TNPL imkoniyatlari orqali sifatli turlarni topish va bron qilish imkoniyatiga ega bo\'lishadi.\n\n' +
                    'ðŸ¢ **2. Tur agentliklari va operatorlar:**\n' +
                    'Mahsulot quyidagi muammolarga duch kelayotgan agentliklar uchun mo\'ljallangan:\n' +
                    'â€¢ Onlayn mavjudligi yo\'q yoki past raqamlashtirishga ega agentliklar\n' +
                    'â€¢ Mijozlarni jalb qilishda samarasizlik muammolari\n' +
                    'â€¢ Operatsion to\'siqlar va inventar boshqaruvi qiyinchiliklari\n' +
                    'â€¢ Kengroq bozor imkoniyatiga ehtiyoj sezayotgan agentliklar\n\n' +
                    '**Foyda:** Agentliklar bizning platformamiz yordamida raqamli vositalar va kengroq bozor imkoniyatiga ega bo\'lishadi, 10-15 daqiqada onlayn onboarding, real-vaqt rejimida inventar boshqaruvi va marketing imkoniyatlariga erishishadi.\n\n' +
                    'ðŸ“Š **Umumiy ta\'sir:**\n' +
                    'KETMON O\'zbekiston turizm sohasidagi samaradorlik va ijtimoiy ta\'sir muammolarini hal qiladi, shaffoflik yaratadi, mahalliy agentliklarni quvvatlaydi va mintaqaviy iqtisodiy o\'sishga hissa qo\'shadi.'
            },
            'bron': {
                keywords: ['bron', 'qilish', 'qanday', 'bron qilish', 'buyurtma'],
                response: 'Bron qilish uchun kerakli destinatsiyani toping, "Bron qilish" tugmasini bosing va to\'lov ma\'lumotlarini kiriting. Biz TNPL (To\'lovni bo\'lib-bo\'lib amalga oshirish) tizimini qo\'llab-quvvatlaymiz, bu sizga to\'lovni qismlarga bo\'lib to\'lash imkoniyatini beradi.'
            },
            'narx': {
                keywords: ['narx', 'narxi', 'qancha', 'narxlar', 'baholash'],
                response: 'Narxlar turli agentliklar va paketlarga qarab farq qiladi. Platformamizda barcha narxlarni solishtirib ko\'rishingiz mumkin. Minimal budjet 100 USD dan boshlanadi. AI yordamchi sizning budjetingizga mos paketlarni tavsiya qiladi.'
            },
            'agentlik': {
                keywords: ['agentlik', 'agentliklar', 'hamkor', 'tasdiqlangan', 'partnyor'],
                response: 'KETMON platformasida tasdiqlangan hamkor agentliklar bilan ishlaymiz.\n\n' +
                    'ðŸ“‹ **Hozirgi holat:**\n' +
                    'â€¢ MVP versiyasi ishga tushirildi\n' +
                    'â€¢ Strategik hamkorliklar (Toshkent, Samarqand, Buxoro)\n' +
                    'â€¢ Agentliklar uchun kutish ro\'yxati qurilmoqda\n\n' +
                    'ðŸŽ¯ **Rejalashtirilgan:**\n' +
                    'â€¢ 20-30 agentlik (Toshkent, Samarqand, Buxoro)\n' +
                    'â€¢ 10-15 daqiqada tezkor onboarding jarayoni\n' +
                    'â€¢ Real-vaqt rejimida inventar boshqaruvi\n\n' +
                    'Barcha agentliklar O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi tomonidan litsenziyalangan. Siz agentliklarning litsenziyalarini ko\'rishingiz va ularning turlarini solishtirishingiz mumkin.'
            },
            'to\'lov': {
                keywords: ['to\'lov', 'to\'lash', 'tnpl', 'qanday', 'to\'lov usullari'],
                response: 'Biz TNPL (To\'lovni bo\'lib-bo\'lib amalga oshirish) tizimini qo\'llab-quvvatlaymiz. Bu sizga to\'lovni qismlarga bo\'lib to\'lash imkoniyatini beradi. Karta orqali xavfsiz to\'lov qilishingiz mumkin. Barcha to\'lovlar xavfsiz va shifrlangan.'
            },
            'yordam': {
                keywords: ['yordam', 'qo\'llab-quvvatlash', 'aloqa', 'bog\'lanish', 'bog\'lanish', 'aloqa qilish'],
                response: 'Bizning qo\'llab-quvvatlash jamoamiz 24/7 yordam beradi.\n\n' +
                    'ðŸ“± **Telefon orqali:**\n' +
                    'Telefon raqami: +998 90 765 43 21\n' +
                    'Ish vaqti: 24/7\n\n' +
                    'ðŸ’¬ **Xabar yuborish orqali:**\n' +
                    'Sahifaning pastki qismidagi "Aloqada bo\'laylik" bo\'limiga o\'ting va quyidagilarni bajaring:\n' +
                    '1. Ismingizni kiriting\n' +
                    '2. Telefon raqamingizni kiriting (majburiy)\n' +
                    '3. Xabaringizni yozing\n' +
                    '4. "Yuborish" tugmasini bosing\n\n' +
                    'Biz sizning xabaringizni qabul qilib, 30 daqiqada javob beramiz.\n\n' +
                    'ðŸ“ **Manzil:**\n' +
                    'Toshkent, Navoiy ko\'chasi 12, KETMON HUB\n\n' +
                    'Siz shuningdek ushbu chatbot orqali savollaringizga javob olishingiz mumkin.'
            },
            'destinatsiya': {
                keywords: ['destinatsiya', 'yo\'nalish', 'qayerga', 'mamlakat', 'shahar'],
                response: 'Platformamizda dunyoning 40+ manziliga turlar mavjud. Mashhur yo\'nalishlar: Parij, Rim, Dubay, Istanbul, Tokio, Bangkok, London, Boku va boshqalar. Qidiruv funksiyasidan foydalanib, qiziqqan yo\'nalishingizni topishingiz mumkin.'
            },
            'ai': {
                keywords: ['ai', 'yordamchi', 'tavsiya', 'smart', 'intellektual', 'sun\'iy intellekt'],
                response: 'KETMON AI texnologiyalaridan keng foydalanadi:\n\n' +
                    'ðŸŽ¯ **AI-Powered Tour Recommendations:**\n' +
                    'â€¢ Foydalanuvchi xohishlari va o\'tmishdagi qidiruvlar asosida shaxsiylashtirilgan tavsiyalar\n' +
                    'â€¢ Sayohat trendlari va mashhur yo\'nalishlar\n' +
                    'â€¢ Budjet va mavjudlik cheklovlari\n' +
                    'â€¢ Foydalanuvchi xulq-atvori tahlili\n\n' +
                    'ðŸ’° **Dynamic Pricing Intelligence:**\n' +
                    'â€¢ Real-vaqt narx optimallashtirish\n' +
                    'â€¢ Talab bashorati va inventar boshqaruvi\n' +
                    'â€¢ Raqobatbardosh narxlar tahlili\n\n' +
                    'ðŸ” **Intelligent Search & Filtering:**\n' +
                    'â€¢ Semantik qidiruv imkoniyatlari\n' +
                    'â€¢ Kontekstga sezgir filtrlash\n' +
                    'â€¢ Aqlli tur va foydalanuvchi ehtiyojlarini moslashtirish\n\n' +
                    'ðŸ’¬ **AI-Powered Customer Support:**\n' +
                    'â€¢ 24/7 mijozlar yordami\n' +
                    'â€¢ Chatbot va virtual yordamchilar\n' +
                    'â€¢ Ko\'p tilli qo\'llab-quvvatlash'
            },
            'til': {
                keywords: ['til', 'language', 'qaysi', 'qo\'llab-quvvatlash', 'tillar'],
                response: 'Platformamiz 3 tilda qo\'llab-quvvatlanadi: O\'zbek, Rus va Ingliz tillari. Yuqoridagi til tanlovidan foydalanib, qulay tildagi interfeysni tanlashingiz mumkin.'
            },
            'muammo': {
                keywords: ['muammo', 'problem', 'qanday', 'yechim', 'yechadi'],
                response: 'KETMON quyidagi muammolarni hal qiladi:\n\n' +
                    'âŒ **Muammolar:**\n' +
                    'â€¢ Tur paketlarini solishtirish qiyinligi\n' +
                    'â€¢ Keng tarqalgan narxlar va shaffoflik yo\'qligi\n' +
                    'â€¢ Past raqamlashtirish - ko\'plab agentliklar onlayn mavjud emas\n' +
                    'â€¢ Markazlashtirilgan platforma yo\'qligi\n' +
                    'â€¢ Xavfsiz onlayn to\'lov tizimi yo\'qligi\n\n' +
                    'âœ… **Yechimlar:**\n' +
                    'â€¢ Birlashtirilgan tur marketplace\n' +
                    'â€¢ Osongina solishtirish va bron qilish\n' +
                    'â€¢ TNPL (Travel Now Pay Later) tizimi\n' +
                    'â€¢ AI asosida shaxsiylashtirilgan tavsiyalar\n' +
                    'â€¢ Xavfsiz onlayn to\'lov integratsiyasi\n' +
                    'â€¢ Agentliklar uchun raqamli vositalar'
            },
            'roadmap': {
                keywords: ['roadmap', 'reja', 'bosqich', 'rivojlanish', 'plani'],
                response: 'KETMON rivojlanish bosqichlari:\n\n' +
                    'âœ… **Phase 1: Foundation (Yakunlangan)**\n' +
                    'â€¢ MVP veb-platforma\n' +
                    'â€¢ Asosiy marketplace funksiyalari\n' +
                    'â€¢ Bron va to\'lov integratsiyasi\n\n' +
                    'ðŸš§ **Phase 2: Enhancement (Joriy - 3-6 oy)**\n' +
                    'â€¢ MVP mobil ilova\n' +
                    'â€¢ Rivojlangan AI integratsiyasi\n' +
                    'â€¢ 20-30 agentlik tarmog\'i\n' +
                    'â€¢ TNPL tizimi integratsiyasi\n\n' +
                    'ðŸ“ˆ **Phase 3: Growth (6-12 oy)**\n' +
                    'â€¢ 10,000 foydalanuvchi va 1,000 bron\n' +
                    'â€¢ Premium analytics va featured listings\n' +
                    'â€¢ Influencer hamkorliklari\n\n' +
                    'ðŸŒ **Phase 4: Expansion (12-18 oy)**\n' +
                    'â€¢ O\'zbekistonda #1 platforma\n' +
                    'â€¢ 50,000 foydalanuvchi va 5,000 bron\n' +
                    'â€¢ Qozog\'iston, Qirg\'iziston va Tojikistonga kengaytirish'
            }
        };

        // Default responses
        const defaultResponses = [
            'Kechirasiz, men bu savolga javob bera olmayman. Iltimos, boshqa savol bering yoki biz bilan aloqa qiling.\n\n' +
            'ðŸ“± **Telefon orqali:**\n' +
            '+998 90 765 43 21\n\n' +
            'ðŸ’¬ **Xabar yuborish orqali:**\n' +
            'Sahifaning pastki qismidagi "Aloqada bo\'laylik" bo\'limiga o\'ting:\n' +
            '1. Ismingizni kiriting\n' +
            '2. Telefon raqamingizni kiriting\n' +
            '3. Xabaringizni yozing\n' +
            '4. "Yuborish" tugmasini bosing\n\n' +
            'Biz 30 daqiqada javob beramiz.',
            'Bu savol haqida aniqroq ma\'lumot olish uchun biz bilan bog\'laning:\n\n' +
            'ðŸ“± **Telefon:** +998 90 765 43 21\n\n' +
            'ðŸ’¬ **Xabar yuborish:**\n' +
            '"Aloqada bo\'laylik" bo\'limiga o\'ting va forma to\'ldiring. Ism, telefon va xabaringizni kiriting, biz tez orada javob beramiz.',
            'Men hali bu savolga javob bera olmayman. Iltimos, boshqa savol bering.\n\n' +
            'Yoki biz bilan aloqa qiling:\n' +
            'ðŸ“± Telefon: +998 90 765 43 21\n' +
            'ðŸ’¬ "Aloqada bo\'laylik" bo\'limidan xabar yuboring\n\n' +
            'Siz shuningdek "yordam", "bron", "narx" kabi so\'zlar yozib, ma\'lumot olishingiz mumkin.'
        ];

        // Toggle chatbot window (default view)
        chatbotToggle.addEventListener('click', function () {
            if (chatbotWindow.classList.contains('active')) {
                chatbotWindow.classList.remove('active');
            } else {
                openChatbot('ai');
            }
        });

        chatbotClose.addEventListener('click', function () {
            chatbotWindow.classList.remove('active');
        });

        // Open Chatbot with specific mode and context
        window.openChatbot = function (mode = 'ai', context = null) {
            currentMode = mode;
            currentContext = context;

            // Show window
            chatbotWindow.classList.add('active');
            chatbotInput.focus();

            // Clear messages if switching context? Maybe not, keep history.
            // But if Agency mode, show specific welcome message.
            if (currentMode === 'agency' && context) {
                const welcomeMsg = `Salom! Men ${context.agencyName || 'Agentlik'} vakiliman. Sizga "${context.tourTitle}" bo'yicha qanday yordam bera olaman?`;
                addMessage(welcomeMsg, false);
            } else if (currentMode === 'ai' && chatbotMessages.children.length <= 1) {
                // Initial AI message is already there in HTML, but if cleared/reopened maybe show again?
                // The HTML static message covers the first load.
            }
        };

        // Find matching response
        function findResponse(userMessage) {
            const lowerMessage = userMessage.toLowerCase().trim();

            // Agency Mode Response (Simple Simulation)
            if (currentMode === 'agency') {
                return `Rahmat! Sizning so'rovingiz "${currentContext?.agencyName || 'bizning agentlik'}" menejerlariga yuborildi. Tez orada siz bilan bog'lanamiz. Yana savollaringiz bormi?`;
            }

            // AI Mode Response
            // Check each response category
            for (const [key, data] of Object.entries(chatbotResponses)) {
                for (const keyword of data.keywords) {
                    if (lowerMessage.includes(keyword)) {
                        return data.response;
                    }
                }
            }

            // Return random default response
            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }

        // Add message to chat
        function addMessage(text, isUser) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chatbot-message ${isUser ? 'user-message' : 'bot-message'}`;

            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';

            const p = document.createElement('p');
            p.textContent = text;
            contentDiv.appendChild(p);
            messageDiv.appendChild(contentDiv);

            chatbotMessages.appendChild(messageDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        // Send message
        function sendMessage() {
            const message = chatbotInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage(message, true);
            chatbotInput.value = '';

            // Simulate typing delay
            setTimeout(() => {
                const response = findResponse(message);
                addMessage(response, false);
            }, 500);
        }

        // Event listeners
        chatbotSend.addEventListener('click', sendMessage);
        chatbotInput.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    });
})();

/* Main App Initialization */
document.addEventListener('DOMContentLoaded', function () {

    // 1. Smart Calculator Logic
    const minInput = document.getElementById('priceMin');
    const maxInput = document.getElementById('priceMax');
    const clearBtn = document.getElementById('calcClear');
    const citySelect = document.getElementById('calcCity');
    const recommendBtn = document.getElementById('calcRecommendBtn');

    if (clearBtn) {
        clearBtn.addEventListener('click', function (e) {
            e.preventDefault();
            if (minInput) minInput.value = 35166305;
            if (maxInput) maxInput.value = 64736289;
            if (citySelect) citySelect.selectedIndex = 0;
        });
    }

    // Smart Calculator Data & Logic
    const tourPackages = [
        {
            city: 'istanbul',
            title: 'Istanbul Klassik',
            days: 5,
            price: 5500000,
            includes: 'Mehmonxona, Nonushta, Transfer',
            note: 'Eng arzon variant',
            img: 'https://images.unsplash.com/photo-1524231757912-21f4fe3a7200?auto=format&fit=crop&w=1200&q=80',
            agency: 'Samarqand Tours',
            badge: 'Hamyonbop'
        },
        {
            city: 'istanbul',
            title: 'Istanbul Premium',
            days: 7,
            price: 8200000,
            includes: '5* Mehmonxona, Barcha ovqatlar, Gid',
            note: 'Qulaylikni sevuvchilar uchun',
            img: 'https://images.unsplash.com/photo-1541432901042-2d8bd64b4a9b?auto=format&fit=crop&w=1200&q=80',
            agency: 'Atlas Travel',
            badge: 'Premium'
        },
        {
            city: 'dubai',
            title: 'Dubay Sayyohati',
            days: 4,
            price: 6800000,
            includes: 'Mehmonxona, Viza, Transfer',
            note: 'Tezkor sayohat',
            img: 'https://images.unsplash.com/photo-1512453979798-5ea936a7d40c?auto=format&fit=crop&w=1200&q=80',
            agency: 'Nomad Explorer',
            badge: 'Tezkor'
        },
        { city: 'dubai', title: 'Dubay Luks', days: 6, price: 12500000, includes: 'Burj Khalifa, Safari, 5* Hotel', note: 'Unutilmas taassurotlar', img: 'https://images.unsplash.com/photo-1512453979798-5ea936a7d40c?auto=format&fit=crop&w=1200&q=80', agency: 'Global Voyage', badge: 'Luks' },
        { city: 'sharm', title: 'Sharm Relax', days: 7, price: 7200000, includes: 'All Inclusive, Dengiz bo\'yi', note: 'Dam olish uchun ideal', img: 'https://images.unsplash.com/photo-1544185310-fa373268484e?auto=format&fit=crop&w=1200&q=80', agency: 'Samarqand Tours', badge: 'Dengiz' },
        { city: 'paris', title: 'Parij Romantikasi', days: 5, price: 10500000, includes: 'Mehmonxona, Transfer, Eiffel', note: 'Juftliklar uchun', img: 'https://images.unsplash.com/photo-1502602898657-3e91760cbb34?auto=format&fit=crop&w=1200&q=80', agency: 'Atlas Travel', badge: 'Romantik' },
        { city: 'london', title: 'London Ekskursiyasi', days: 6, price: 11200000, includes: 'Mehmonxona, Gid, Muzeylar', note: 'Tarix ixlosmandlari uchun', img: 'https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?auto=format&fit=crop&w=1200&q=80', agency: 'Global Voyage', badge: 'Tarix' },
        { city: 'tashkent', title: 'Toshkent Bo\'ylab', days: 2, price: 1500000, includes: 'Mehmonxona, Gid, Ovqatlanish', note: 'Poytaxt mehmonlari uchun', img: 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?auto=format&fit=crop&w=1200&q=80', agency: 'ClubTravel', badge: 'Mahalliy' },
        { city: 'baku', title: 'Boku Shamoli', days: 4, price: 4500000, includes: 'Mehmonxona, Transfer, Eski shahar', note: 'Hamyonbop sayohat', img: 'https://images.unsplash.com/photo-1518903337854-3c6628b05615?auto=format&fit=crop&w=1200&q=80', agency: 'ClubTravel', badge: 'Arzon' },
        { city: 'antalya', title: 'Antalya Plyajlari', days: 7, price: 8500000, includes: 'All Inclusive, Avia', note: 'Yozgi ta\'til uchun', img: 'https://images.unsplash.com/photo-1542051841857-5f90071e7989?auto=format&fit=crop&w=1200&q=80', agency: 'AziaLux', badge: 'Yozgi' },
        { city: 'tokyo', title: 'Tokio Kelajagi', days: 7, price: 18000000, includes: 'Mehmonxona, Metro kartasi, Gid', note: 'Texnologiya va madaniyat', img: 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?auto=format&fit=crop&w=1200&q=80', agency: 'Nomad', badge: 'Texno' },
        { city: 'seoul', title: 'Seul Madaniyati', days: 6, price: 14000000, includes: 'Mehmonxona, Saroylar, Transfer', note: 'K-Pop va tarix', img: 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?auto=format&fit=crop&w=1200&q=80', agency: 'Nomad', badge: 'Madaniyat' },
        { city: 'kuala-lumpur', title: 'Malayziya Tropiklari', days: 8, price: 9200000, includes: 'Mehmonxona, Transfer, Ekskursiya', note: 'Tabiat va shahar', img: 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?auto=format&fit=crop&w=1200&q=80', agency: 'AziaLux', badge: 'Tabiat' }
    ];

    // Function to create standard card HTML
    function createDestinationCardHTML(pkg) {
        return `
            <div class="destination-card" data-agency="${(pkg.agency || '').toLowerCase().replace(/\s/g, '')}">
                <div class="destination-img">
                    <img src="${pkg.img}" alt="${pkg.title}">
                    <div class="destination-badge">${pkg.badge || 'Taklif'}</div>
                </div>
                <div class="destination-info">
                    <h3 class="destination-title">${pkg.title}</h3>
                    <p class="destination-desc">${pkg.includes}. ${pkg.note}</p>
                    <div class="destination-footer">
                        <div>
                            <div class="price">${pkg.price.toLocaleString()} so'm</div>
                            <div class="price-label">kishi uchun</div>
                        </div>
                        <span class="agency-tag">${pkg.agency}</span>
                    </div>
                    <a href="#paymentModal" onclick="openPaymentModal()" class="destination-book-btn">Bron qilish</a>
                </div>
            </div>
        `;
    }

    if (recommendBtn) {
        recommendBtn.addEventListener('click', function () {
            const city = citySelect.value;
            const budget = parseInt(maxInput.value) || 0;
            const resultsContainer = document.getElementById('calcResults');

            if (!resultsContainer) return;

            if (!city) {
                alert("Iltimos, shaharni tanlang!");
                return;
            }

            // Filter
            const filtered = tourPackages.filter(pkg =>
                pkg.city === city && pkg.price <= budget
            );

            // Sort (Cheapest first)
            filtered.sort((a, b) => a.price - b.price);

            // Display
            resultsContainer.style.display = 'grid';
            resultsContainer.style.gridTemplateColumns = 'repeat(auto-fill, minmax(300px, 1fr))';
            resultsContainer.style.gap = '20px';
            resultsContainer.innerHTML = '';

            if (filtered.length === 0) {
                resultsContainer.innerHTML = `<div style="grid-column: 1/-1; text-align: center; color: #666; padding: 20px;">
                    Ushbu narxda (${budget.toLocaleString()} so'm) turlar topilmadi. Iltimos, byudjetni oshiring.
                </div>`;
            } else {
                filtered.forEach(pkg => {
                    resultsContainer.innerHTML += createDestinationCardHTML(pkg);
                });
            }

            // Scroll to results
            resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        });
    }

    // 2. Hero Search Button Logic
    const searchBtn = document.getElementById('heroSearchBtn');
    const heroCitySelect = document.getElementById('heroCitySelect');

    if (searchBtn) {
        searchBtn.addEventListener('click', function () {
            const city = heroCitySelect ? heroCitySelect.value : '';
            if (city) {
                alert('Qidirilmoqda: ' + city);
                const destSection = document.getElementById('destinations');
                if (destSection) destSection.scrollIntoView({ behavior: 'smooth' });
            } else {
                alert('Iltimos, boradigan shaharni tanlang!');
                if (heroCitySelect) heroCitySelect.focus();
            }
        });
    }

    // 3. Category Dropdown Toggle
    const catBtn = document.getElementById('categoryMainBtn');
    const catMenu = document.getElementById('categoryDropdown');

    if (catBtn && catMenu) {
        catBtn.addEventListener('click', function (e) {
            e.stopPropagation();
            catMenu.classList.toggle('hidden');
        });
        document.addEventListener('click', function (e) {
            if (!catBtn.contains(e.target) && !catMenu.contains(e.target)) {
                catMenu.classList.add('hidden');
            }
        });
        catMenu.querySelectorAll('.category-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                catMenu.classList.add('hidden');
                // Simulate category loading
                alert("Kategoriya tanlandi: " + btn.textContent.trim());
            });
        });
    }

    // 4. Infinite Scroll for Destinations
    const grid = document.querySelector('.destination-grid');
    let isLoading = false;

    function loadMoreDestinations() {
        if (isLoading || !grid) return;
        isLoading = true;

        // Show loading indicator
        const loader = document.createElement('div');
        loader.textContent = "Yuklanmoqda...";
        loader.style.gridColumn = "1 / -1";
        loader.style.textAlign = "center";
        loader.style.padding = "20px";
        loader.style.color = "var(--text-secondary)";
        grid.appendChild(loader);

        setTimeout(() => {
            grid.removeChild(loader);

            // Generate some random cards from our data to simulate new content
            const randomTours = [];
            for (let i = 0; i < 4; i++) {
                // Pick random from tourPackages
                const randomPkg = tourPackages[Math.floor(Math.random() * tourPackages.length)];
                randomTours.push(randomPkg);
            }

            if (randomTours.length > 0) {
                randomTours.forEach(pkg => {
                    grid.innerHTML += createDestinationCardHTML(pkg);
                });
            }
            isLoading = false;
        }, 800);
    }

    // 5. Booking Buttons (Global Delegation)
    document.addEventListener('click', function (e) {
        if (e.target.classList.contains('destination-book-btn') || e.target.closest('.destination-book-btn')) {
            e.preventDefault();
            const card = e.target.closest('.destination-card');
            const title = card ? card.querySelector('.destination-title').innerText : 'Tur';
            alert(title + " uchun bron qilish oynasi ochilmoqda...");
        }
    });

    // Scroll Listener
    window.addEventListener('scroll', function () {
        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 500) {
            loadMoreDestinations();
        }
    });

    // 6. Initialize Tours
    loadMoreDestinations();

    // 7. Login Modal Handlers
    const loginModal = document.getElementById('loginModal');
    const loginBtn = document.getElementById('topBarLoginBtn');
    const mobileLoginBtn = document.getElementById('mobileLoginBtn');
    const loginClose = document.getElementById('loginModalClose');

    function openLogin() {
        if (loginModal) loginModal.classList.add('active');
    }
    function closeLogin() {
        if (loginModal) loginModal.classList.remove('active');
    }

    if (loginBtn) loginBtn.addEventListener('click', (e) => { e.preventDefault(); openLogin(); });
    if (mobileLoginBtn) mobileLoginBtn.addEventListener('click', (e) => { e.preventDefault(); openLogin(); });
    if (loginClose) loginClose.addEventListener('click', closeLogin);

    // Close on backdrop click
    if (loginModal) {
        loginModal.addEventListener('click', (e) => {
            if (e.target === loginModal) closeLogin();
        });
    }

});

// Tour List Infinite Scroll (Mock)
(function () {
    let isLoadingTours = false;

    function checkScroll() {
        const grid = document.querySelector('.destination-grid');
        if (!grid) return;

        // Simple check: if user scrolled near bottom of page
        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 500) {
            if (!isLoadingTours) {
                loadMoreTours();
            }
        }
    }

    function loadMoreTours() {
        isLoadingTours = true;
        const grid = document.querySelector('.destination-grid');

        // Visual indicator
        const loader = document.createElement('div');
        loader.className = 'scroll-loader';
        loader.textContent = 'Yuklanmoqda...'; // "Loading..." in Uzbek
        loader.style.width = '100%';
        loader.style.textAlign = 'center';
        loader.style.padding = '20px';
        loader.style.color = 'var(--text-secondary)';
        loader.style.gridColumn = '1 / -1';
        grid.appendChild(loader);

        // Simulate API delay
        setTimeout(() => {
            loader.remove();

            // Create new mock cards with EXACT reference structure
            for (let i = 0; i < 3; i++) {
                const card = document.createElement('div');
                card.className = 'destination-card';
                card.innerHTML = `
                    <div class="destination-img">
                         <img src="https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?auto=format&fit=crop&w=800&q=80" alt="New Tour">
                         <span class="destination-badge">Yangi</span>
                    </div>
                    <div class="destination-info">
                        <h3 class="destination-title">Yangi Sarguzasht ${i + 1}</h3>
                        <p class="destination-desc">Ajoyib sayohatlar va unutilmas xotiralar.</p>
                        <div class="destination-footer">
                            <div class="price-block">
                                <div class="price">$750</div>
                            </div>
                            <div class="card-buttons">
                                <a href="#" class="btn-consult">Maslahat</a>
                                <a href="#paymentModal" class="btn-book">Bron</a>
                            </div>
                        </div>
                    </div>
                 `;
                // Add click handler (if needed for global delegation)
                grid.appendChild(card);
            }
            isLoadingTours = false;
        }, 1200);
    }

    // Throttle scroll event
    let timer;
    window.addEventListener('scroll', function () {
        if (timer) clearTimeout(timer);
        timer = setTimeout(checkScroll, 100);
    });
})();

